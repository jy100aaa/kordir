(function(e,t){"use strict";function r(e,t){var r,i=[];for(var s=0;s<e.length;++s){r=n[e[s]]||o(e[s]);if(!r){throw"module definition dependecy not found: "+e[s]}i.push(r)}t.apply(null,i)}function i(e,i,s){if(typeof e!=="string"){throw"invalid module definition, module id must be defined and be a string"}if(i===t){throw"invalid module definition, dependencies must be specified"}if(s===t){throw"invalid module definition, definition function must be specified"}r(i,function(){n[e]=s.apply(null,arguments)})}function s(e){return!!n[e]}function o(t){var n=e;var r=t.split(/[.\/]/);for(var i=0;i<r.length;++i){if(!n[r[i]]){return}n=n[r[i]]}return n}function u(r){for(var i=0;i<r.length;i++){var s=e;var o=r[i];var u=o.split(/[.\/]/);for(var a=0;a<u.length-1;++a){if(s[u[a]]===t){s[u[a]]={}}s=s[u[a]]}s[u[u.length-1]]=n[o]}}var n={};i("tinymce/dom/EventUtils",[],function(){"use strict";function r(e,t,n,r){if(e.addEventListener){e.addEventListener(t,n,r||false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}}function i(e,t,n,r){if(e.removeEventListener){e.removeEventListener(t,n,r||false)}else if(e.detachEvent){e.detachEvent("on"+t,n)}}function s(e,r){function u(){return false}function a(){return true}var i,s=r||{},o;for(i in e){if(!n[i]){s[i]=e[i]}}if(!s.target){s.target=s.srcElement||document}if(e&&t.test(e.type)&&e.pageX===o&&e.clientX!==o){var f=s.target.ownerDocument||document;var l=f.documentElement;var c=f.body;s.pageX=e.clientX+(l&&l.scrollLeft||c&&c.scrollLeft||0)-(l&&l.clientLeft||c&&c.clientLeft||0);s.pageY=e.clientY+(l&&l.scrollTop||c&&c.scrollTop||0)-(l&&l.clientTop||c&&c.clientTop||0)}s.preventDefault=function(){s.isDefaultPrevented=a;if(e){if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}}};s.stopPropagation=function(){s.isPropagationStopped=a;if(e){if(e.stopPropagation){e.stopPropagation()}else{e.cancelBubble=true}}};s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=a;s.stopPropagation()};if(!s.isDefaultPrevented){s.isDefaultPrevented=u;s.isPropagationStopped=u;s.isImmediatePropagationStopped=u}return s}function o(e,t,n){function u(){if(!n.domLoaded){n.domLoaded=true;t(o)}}function a(){if(s.readyState==="complete"||s.readyState==="interactive"&&s.body){i(s,"readystatechange",a);u()}}function f(){try{s.documentElement.doScroll("left")}catch(e){setTimeout(f,0);return}u()}var s=e.document,o={type:"ready"};if(n.domLoaded){t(o);return}if(s.addEventListener){if(s.readyState==="complete"){u()}else{r(e,"DOMContentLoaded",u)}}else{r(s,"readystatechange",a);if(s.documentElement.doScroll&&e.self===e.top){f()}}r(e,"load",u)}function u(){function h(e,t){var r,i,s,o,u=n[t];r=u&&u[e.type];if(r){for(i=0,s=r.length;i<s;i++){o=r[i];if(o&&o.func.call(o.scope,e)===false){e.preventDefault()}if(e.isImmediatePropagationStopped()){return}}}}var t=this,n={},u,a,f,l,c;a=e+(+(new Date)).toString(32);l="onmouseenter"in document.documentElement;f="onfocusin"in document.documentElement;c={mouseenter:"mouseover",mouseleave:"mouseout"};u=1;t.domLoaded=false;t.events=n;t.bind=function(e,i,p,d){function x(e){h(s(e||S.event),v)}var v,m,g,y,b,w,E,S=window;if(!e||e.nodeType===3||e.nodeType===8){return}if(!e[a]){v=u++;e[a]=v;n[v]={}}else{v=e[a]}d=d||e;i=i.split(" ");g=i.length;while(g--){y=i[g];w=x;b=E=false;if(y==="DOMContentLoaded"){y="ready"}if(t.domLoaded&&y==="ready"&&e.readyState=="complete"){p.call(d,s({type:y}));continue}if(!l){b=c[y];if(b){w=function(e){var t,n;t=e.currentTarget;n=e.relatedTarget;if(n&&t.contains){n=t.contains(n)}else{while(n&&n!==t){n=n.parentNode}}if(!n){e=s(e||S.event);e.type=e.type==="mouseout"?"mouseleave":"mouseenter";e.target=t;h(e,v)}}}}if(!f&&(y==="focusin"||y==="focusout")){E=true;b=y==="focusin"?"focus":"blur";w=function(e){e=s(e||S.event);e.type=e.type==="focus"?"focusin":"focusout";h(e,v)}}m=n[v][y];if(!m){n[v][y]=m=[{func:p,scope:d}];m.fakeName=b;m.capture=E;m.nativeHandler=w;if(y==="ready"){o(e,w,t)}else{r(e,b||y,w,E)}}else{if(y==="ready"&&t.domLoaded){p({type:y})}else{m.push({func:p,scope:d})}}}e=m=0;return p};t.unbind=function(e,r,s){var o,u,f,l,c,h;if(!e||e.nodeType===3||e.nodeType===8){return t}o=e[a];if(o){h=n[o];if(r){r=r.split(" ");f=r.length;while(f--){c=r[f];u=h[c];if(u){if(s){l=u.length;while(l--){if(u[l].func===s){var p=u.nativeHandler;var d=u.fakeName,v=u.capture;u=u.slice(0,l).concat(u.slice(l+1));u.nativeHandler=p;u.fakeName=d;u.capture=v;h[c]=u}}}if(!s||u.length===0){delete h[c];i(e,u.fakeName||c,u.nativeHandler,u.capture)}}}}else{for(c in h){u=h[c];i(e,u.fakeName||c,u.nativeHandler,u.capture)}h={}}for(c in h){return t}delete n[o];try{delete e[a]}catch(m){e[a]=null}}return t};t.fire=function(e,n,r){var i;if(!e||e.nodeType===3||e.nodeType===8){return t}r=s(null,r);r.type=n;r.target=e;do{i=e[a];if(i){h(r,i)}e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow}while(e&&!r.isPropagationStopped());return t};t.clean=function(e){var n,r,i=t.unbind;if(!e||e.nodeType===3||e.nodeType===8){return t}if(e[a]){i(e)}if(!e.getElementsByTagName){e=e.document}if(e&&e.getElementsByTagName){i(e);r=e.getElementsByTagName("*");n=r.length;while(n--){e=r[n];if(e[a]){i(e)}}}return t};t.destroy=function(){n={}};t.cancel=function(e){if(e){e.preventDefault();e.stopImmediatePropagation()}return false}}var e="mce-data-";var t=/^(?:mouse|contextmenu)|click/;var n={keyLocation:1,layerX:1,layerY:1,returnValue:1};u.Event=new u;u.Event.bind(window,"ready",function(){});return u});i("tinymce/dom/Sizzle",[],function(){function it(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p){h(t)}t=t||p;r=r||[];if(!e||typeof e!=="string"){return r}if((l=t.nodeType)!==1&&l!==9){return[]}if(v&&!i){if(s=Y.exec(e)){if(f=s[1]){if(l===9){u=t.getElementById(f);if(u&&u.parentNode){if(u.id===f){r.push(u);return r}}else{return r}}else{if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f){r.push(u);return r}}}else if(s[2]){P.apply(r,t.getElementsByTagName(e));return r}else if((f=s[3])&&n.getElementsByClassName){P.apply(r,t.getElementsByClassName(f));return r}}if(n.qsa&&(!m||!m.test(e))){y=g=w;S=t;x=l===9&&e;if(l===1&&t.nodeName.toLowerCase()!=="object"){d=o(e);if(g=t.getAttribute("id")){y=g.replace(et,"\\$&")}else{t.setAttribute("id",y)}y="[id='"+y+"'] ";c=d.length;while(c--){d[c]=y+vt(d[c])}S=Z.test(e)&&pt(t.parentNode)||t;x=d.join(",")}if(x){try{P.apply(r,S.querySelectorAll(x));return r}catch(T){}finally{if(!g){t.removeAttribute("id")}}}}}return a(e.replace(U,"$1"),t,r,i)}function st(){function t(n,i){if(e.push(n+" ")>r.cacheLength){delete t[e.shift()]}return t[n+" "]=i}var e=[];return t}function ot(e){e[w]=true;return e}function ut(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function at(e,t){var n=e.split("|"),i=e.length;while(i--){r.attrHandle[n[i]]=t}}function ft(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r){return r}if(n){while(n=n.nextSibling){if(n===t){return-1}}}return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ht(e){return ot(function(t){t=+t;return ot(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--){if(n[i=s[o]]){n[i]=!(r[i]=n[i])}}})})}function pt(e){return e&&typeof e.getElementsByTagName!==L&&e}function dt(){}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++){r+=e[t].value}return r}function mt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=x++;return t.first?function(t,n,s){while(t=t[r]){if(t.nodeType===1||i){return e(t,n,s)}}}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r]){if(t.nodeType===1||i){if(e(t,n,o)){return true}}}}else{while(t=t[r]){if(t.nodeType===1||i){a=t[w]||(t[w]={});if((u=a[r])&&u[0]===S&&u[1]===s){return f[2]=u[2]}else{a[r]=f;if(f[2]=e(t,n,o)){return true}}}}}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--){if(!e[i](t,n,r)){return false}}return true}:e[0]}function yt(e,t,n){var r=0,i=t.length;for(;r<i;r++){it(e,t[r],n)}return n}function bt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++){if(s=e[u]){if(!n||n(s,r,i)){o.push(s);if(f){t.push(u)}}}}return o}function wt(e,t,n,r,i,s){if(r&&!r[w]){r=wt(r)}if(i&&!i[w]){i=wt(i,s)}return ot(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||yt(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?bt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;if(n){n(m,g,u,a)}if(r){f=bt(g,p);r(f,[],u,a);l=f.length;while(l--){if(c=f[l]){g[p[l]]=!(m[p[l]]=c)}}}if(s){if(i||e){if(i){f=[];l=g.length;while(l--){if(c=g[l]){f.push(m[l]=c)}}i(null,g=[],f,a)}l=g.length;while(l--){if((c=g[l])&&(f=i?B.call(s,c):h[l])>-1){s[f]=!(o[f]=c)}}}}else{g=bt(g===o?g.splice(d,g.length):g);if(i){i(null,o,g,a)}else{P.apply(o,g)}}})}function Et(e){var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=mt(function(e){return e===t},u,true),c=mt(function(e){return B.call(t,e)>-1},u,true),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;a<s;a++){if(n=r.relative[e[a].type]){h=[mt(gt(h),n)]}else{n=r.filter[e[a].type].apply(null,e[a].matches);if(n[w]){i=++a;for(;i<s;i++){if(r.relative[e[i].type]){break}}return wt(a>1&&gt(h),a>1&&vt(e.slice(0,a-1).concat({value:e[a-2].type===" "?"*":""})).replace(U,"$1"),n,a<i&&Et(e.slice(a,i)),i<s&&Et(e=e.slice(i)),i<s&&vt(e))}h.push(n)}}return gt(h)}function St(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find["TAG"]("*",l),E=S+=b==null?1:Math.random()||.1,x=w.length;if(l){f=o!==p&&o}for(;m!==x&&(c=w[m])!=null;m++){if(i&&c){h=0;while(d=e[h++]){if(d(c,o,u)){a.push(c);break}}if(l){S=E}}if(n){if(c=!d&&c){v--}if(s){g.push(c)}}}v+=m;if(n&&m!==v){h=0;while(d=t[h++]){d(g,y,o,u)}if(s){if(v>0){while(m--){if(!(g[m]||y[m])){y[m]=_.call(a)}}}y=bt(y)}P.apply(a,y);if(l&&!s&&y.length>0&&v+t.length>1){it.uniqueSort(a)}}if(l){S=E;f=b}return g};return n?ot(s):s}var e,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+ -(new Date),E=window.document,S=0,x=0,T=st(),N=st(),C=st(),k=function(e,t){if(e===t){c=true}return 0},L=typeof t,A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++){if(this[t]===e){return t}}return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+F+"*\\]",R=":("+I+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|"+".*"+")\\)|)",U=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),z=new RegExp("^"+F+"*,"+F+"*"),W=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),X=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),V=new RegExp(R),$=new RegExp("^"+I+"$"),J={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,et=/'|\\/g,tt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),nt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes);M[E.childNodes.length].nodeType}catch(rt){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]){}e.length=n-1}}}n=it.support={};s=it.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};h=it.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;if(i===p||i.nodeType!==9||!i.documentElement){return p}p=i;d=i.documentElement;v=!s(i);if(o&&o!==o.top){if(o.addEventListener){o.addEventListener("unload",function(){h()},false)}else if(o.attachEvent){o.attachEvent("onunload",function(){h()})}}n.attributes=ut(function(e){e.className="i";return!e.getAttribute("className")});n.getElementsByTagName=ut(function(e){e.appendChild(i.createComment(""));return!e.getElementsByTagName("*").length});n.getElementsByClassName=G.test(i.getElementsByClassName);n.getById=ut(function(e){d.appendChild(e).id=w;return!i.getElementsByName||!i.getElementsByName(w).length});if(n.getById){r.find["ID"]=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}};r.filter["ID"]=function(e){var t=e.replace(tt,nt);return function(e){return e.getAttribute("id")===t}}}else{delete r.find["ID"];r.filter["ID"]=function(e){var t=e.replace(tt,nt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}}r.find["TAG"]=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==L){return t.getElementsByTagName(e)}}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++]){if(n.nodeType===1){r.push(n)}}return r}return s};r.find["CLASS"]=n.getElementsByClassName&&function(e,t){if(v){return t.getElementsByClassName(e)}};g=[];m=[];if(n.qsa=G.test(i.querySelectorAll)){ut(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){m.push("[*^$]="+F+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){m.push("\\["+F+"*(?:value|"+j+")")}if(!e.querySelectorAll(":checked").length){m.push(":checked")}});ut(function(e){var t=i.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){m.push("name"+F+"*[*^$|!~]?=")}if(!e.querySelectorAll(":enabled").length){m.push(":enabled",":disabled")}e.querySelectorAll("*,:x");m.push(",.*:")})}if(n.matchesSelector=G.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector)){ut(function(e){n.disconnectedMatch=y.call(e,"div");y.call(e,"[s!='']:x");g.push("!=",R)})}m=m.length&&new RegExp(m.join("|"));g=g.length&&new RegExp(g.join("|"));t=G.test(d.compareDocumentPosition);b=t||G.test(d.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};k=t?function(e,t){if(e===t){c=true;return 0}var r=!e.compareDocumentPosition-!t.compareDocumentPosition;if(r){return r}r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r){if(e===i||e.ownerDocument===E&&b(E,e)){return-1}if(t===i||t.ownerDocument===E&&b(E,t)){return 1}return l?B.call(l,e)-B.call(l,t):0}return r&4?-1:1}:function(e,t){if(e===t){c=true;return 0}var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o){return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0}else if(s===o){return ft(e,t)}n=e;while(n=n.parentNode){u.unshift(n)}n=t;while(n=n.parentNode){a.unshift(n)}while(u[r]===a[r]){r++}return r?ft(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0};return i};it.matches=function(e,t){return it(e,null,null,t)};it.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p){h(e)}t=t.replace(X,"='$1']");if(n.matchesSelector&&v&&(!g||!g.test(t))&&(!m||!m.test(t))){try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11){return r}}catch(i){}}return it(t,p,null,[e]).length>0};it.contains=function(e,t){if((e.ownerDocument||e)!==p){h(e)}return b(e,t)};it.attr=function(e,i){if((e.ownerDocument||e)!==p){h(e)}var s=r.attrHandle[i.toLowerCase()],o=s&&O.call(r.attrHandle,i.toLowerCase())?s(e,i,!v):t;return o!==t?o:n.attributes||!v?e.getAttribute(i):(o=e.getAttributeNode(i))&&o.specified?o.value:null};it.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};it.uniqueSort=function(e){var t,r=[],i=0,s=0;c=!n.detectDuplicates;l=!n.sortStable&&e.slice(0);e.sort(k);if(c){while(t=e[s++]){if(t===e[s]){i=r.push(s)}}while(i--){e.splice(r[i],1)}}l=null;return e};i=it.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s){while(t=e[r++]){n+=i(t)}}else if(s===1||s===9||s===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){n+=i(e)}}}else if(s===3||s===4){return e.nodeValue}return n};r=it.selectors={cacheLength:50,createPseudo:ot,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(tt,nt);e[3]=(e[3]||e[4]||e[5]||"").replace(tt,nt);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){it.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){it.error(e[0])}return e},PSEUDO:function(e){var t,n=!e[6]&&e[2];if(J["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(n&&V.test(n)&&(t=o(n,true))&&(t=n.indexOf(")",n.length-t)-n.length)){e[0]=e[0].slice(0,t);e[2]=n.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(tt,nt).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=it.attr(r,e);if(i==null){return t==="!="}if(!t){return true}i+="";return t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":false}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v]){if(u?c.nodeName.toLowerCase()===g:c.nodeType===1){return false}}d=v=e==="only"&&!d&&"nextSibling"}return true}d=[o?m.firstChild:m.lastChild];if(o&&y){l=m[w]||(m[w]={});f=l[e]||[];p=f[0]===S&&f[1];h=f[0]===S&&f[2];c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop()){if(c.nodeType===1&&++h&&c===t){l[e]=[S,p,h];break}}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S){h=f[1]}else{while(c=++p&&c&&c[v]||(h=p=0)||d.pop()){if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){if(y){(c[w]||(c[w]={}))[e]=[S,h]}if(c===t){break}}}}h-=i;return h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||it.error("unsupported pseudo: "+e);if(i[w]){return i(t)}if(i.length>1){n=[e,e,"",t];return r.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var r,s=i(e,t),o=s.length;while(o--){r=B.call(e,s[o]);e[r]=!(n[r]=s[o])}}):function(e){return i(e,0,n)}}return i}},pseudos:{not:ot(function(e){var t=[],n=[],r=u(e.replace(U,"$1"));return r[w]?ot(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--){if(s=o[u]){e[u]=!(t[u]=s)}}}):function(e,i,s){t[0]=e;r(t,null,s,n);return!n.pop()}}),has:ot(function(e){return function(t){return it(e,t).length>0}}),contains:ot(function(e){e=e.replace(tt,nt);return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ot(function(e){if(!$.test(e||"")){it.error("unsupported lang: "+e)}e=e.replace(tt,nt).toLowerCase();return function(t){var n;do{if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){n=n.toLowerCase();return n===e||n.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!r.pseudos["empty"](e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[n<0?n+t:n]}),even:ht(function(e,t){var n=0;for(;n<t;n+=2){e.push(n)}return e}),odd:ht(function(e,t){var n=1;for(;n<t;n+=2){e.push(n)}return e}),lt:ht(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;){e.push(r)}return e}),gt:ht(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;){e.push(r)}return e})}};r.pseudos["nth"]=r.pseudos["eq"];for(e in{radio:true,checkbox:true,file:true,password:true,image:true}){r.pseudos[e]=lt(e)}for(e in{submit:true,reset:true}){r.pseudos[e]=ct(e)}dt.prototype=r.filters=r.pseudos;r.setFilters=new dt;o=it.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l){return t?0:l.slice(0)}u=e;a=[];f=r.preFilter;while(u){if(!n||(i=z.exec(u))){if(i){u=u.slice(i[0].length)||u}a.push(s=[])}n=false;if(i=W.exec(u)){n=i.shift();s.push({value:n,type:i[0].replace(U," ")});u=u.slice(n.length)}for(o in r.filter){if((i=J[o].exec(u))&&(!f[o]||(i=f[o](i)))){n=i.shift();s.push({value:n,type:o,matches:i});u=u.slice(n.length)}}if(!n){break}}return t?u.length:u?it.error(e):N(e,a).slice(0)};u=it.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){if(!t){t=o(e)}n=t.length;while(n--){s=Et(t[n]);if(s[w]){r.push(s)}else{i.push(s)}}s=C(e,St(i,r));s.selector=e}return s};a=it.select=function(e,t,i,s){var a,f,l,c,h,p=typeof e==="function"&&e,d=!s&&o(e=p.selector||e);i=i||[];if(d.length===1){f=d[0]=d[0].slice(0);if(f.length>2&&(l=f[0]).type==="ID"&&n.getById&&t.nodeType===9&&v&&r.relative[f[1].type]){t=(r.find["ID"](l.matches[0].replace(tt,nt),t)||[])[0];if(!t){return i}else if(p){t=t.parentNode}e=e.slice(f.shift().value.length)}a=J["needsContext"].test(e)?0:f.length;while(a--){l=f[a];if(r.relative[c=l.type]){break}if(h=r.find[c]){if(s=h(l.matches[0].replace(tt,nt),Z.test(f[0].type)&&pt(t.parentNode)||t)){f.splice(a,1);e=s.length&&vt(f);if(!e){P.apply(i,s);return i}break}}}}(p||u(e,d))(s,t,!v,i,Z.test(e)&&pt(t.parentNode)||t);return i};n.sortStable=w.split("").sort(k).join("")===w;n.detectDuplicates=!!c;h();n.sortDetached=ut(function(e){return e.compareDocumentPosition(p.createElement("div"))&1});if(!ut(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){at("type|href|height|width",function(e,t,n){if(!n){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!n.attributes||!ut(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){at("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!ut(function(e){return e.getAttribute("disabled")==null})){at(j,function(e,t,n){var r;if(!n){return e[t]===true?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}})}return it});i("tinymce/util/Tools",[],function(){function n(n){return n===null||n===t?"":(""+n).replace(e,"")}function i(e,n){if(!n){return e!==t}if(n=="array"&&r(e)){return true}return typeof e==n}function s(e){var t=e,n,i;if(!r(e)){t=[];for(n=0,i=e.length;n<i;n++){t[n]=e[n]}}return t}function o(e,t,n){var r;e=e||[];t=t||",";if(typeof e=="string"){e=e.split(t)}n=n||{};r=e.length;while(r--){n[e[r]]={}}return n}function u(e,n,r){var i,s;if(!e){return 0}r=r||e;if(e.length!==t){for(i=0,s=e.length;i<s;i++){if(n.call(r,e[i],i,e)===false){return 0}}}else{for(i in e){if(e.hasOwnProperty(i)){if(n.call(r,e[i],i,e)===false){return 0}}}}return 1}function a(e,t){var n=[];u(e,function(e){n.push(t(e))});return n}function f(e,t){var n=[];u(e,function(e){if(!t||t(e)){n.push(e)}});return n}function l(e,t,n){var r=this,i,s,o,u,a,f=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);o=e[3].match(/(^|\.)(\w+)$/i)[2];s=r.createNS(e[3].replace(/\.\w+$/,""),n);if(s[o]){return}if(e[2]=="static"){s[o]=t;if(this.onCreate){this.onCreate(e[2],e[3],s[o])}return}if(!t[o]){t[o]=function(){};f=1}s[o]=t[o];r.extend(s[o].prototype,t);if(e[5]){i=r.resolve(e[5]).prototype;u=e[5].match(/\.(\w+)$/i)[1];a=s[o];if(f){s[o]=function(){return i[u].apply(this,arguments)}}else{s[o]=function(){this.parent=i[u];return a.apply(this,arguments)}}s[o].prototype[o]=s[o];r.each(i,function(e,t){s[o].prototype[t]=i[t]});r.each(t,function(e,t){if(i[t]){s[o].prototype[t]=function(){this.parent=i[t];return e.apply(this,arguments)}}else{if(t!=o){s[o].prototype[t]=e}}})}r.each(t["static"],function(e,t){s[o][t]=e})}function c(e,t){var n,r;if(e){for(n=0,r=e.length;n<r;n++){if(e[n]===t){return n}}}return-1}function h(e,n){var r,i,s,o=arguments,u;for(r=1,i=o.length;r<i;r++){n=o[r];for(s in n){if(n.hasOwnProperty(s)){u=n[s];if(u!==t){e[s]=u}}}}return e}function p(e,t,n,r){r=r||this;if(e){if(n){e=e[n]}u(e,function(e,i){if(t.call(r,e,i,n)===false){return false}p(e,t,n,r)})}}function d(e,t){var n,r;t=t||window;e=e.split(".");for(n=0;n<e.length;n++){r=e[n];if(!t[r]){t[r]={}}t=t[r]}return t}function v(e,t){var n,r;t=t||window;e=e.split(".");for(n=0,r=e.length;n<r;n++){t=t[e[n]];if(!t){break}}return t}function m(e,t){if(!e||i(e,"array")){return e}return a(e.split(t||","),n)}var e=/^\s*|\s*$/g;var r=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};return{trim:n,isArray:r,is:i,toArray:s,makeMap:o,each:u,map:a,grep:f,inArray:c,extend:h,create:l,walk:p,createNS:d,resolve:v,explode:m}});i("tinymce/Env",[],function(){var e=navigator,t=e.userAgent;var n,r,i,s,o,u,a;n=window.opera&&window.opera.buildNumber;r=/WebKit/.test(t);i=!r&&!n&&/MSIE/gi.test(t)&&/Explorer/gi.test(e.appName);i=i&&/MSIE (\w+)\./.exec(t)[1];s=t.indexOf("Trident/")!=-1&&(t.indexOf("rv:")!=-1||e.appName.indexOf("Netscape")!=-1)?11:false;i=i||s;o=!r&&!s&&/Gecko/.test(t);u=t.indexOf("Mac")!=-1;a=/(iPad|iPhone)/.test(t);var f=!a||t.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:n,webkit:r,ie:i,gecko:o,mac:u,iOS:a,contentEditable:f,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:i!=8,range:window.getSelection&&"Range"in window,documentMode:i?document.documentMode||7:10}});i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(e,n,r,i){function c(e){return typeof e!=="undefined"}function h(e){return typeof e==="string"}function p(e,t){var n,r,i;t=t||s;i=t.createElement("div");n=t.createDocumentFragment();i.innerHTML=e;while(r=i.firstChild){n.appendChild(r)}return n}function d(e,t,n,r){var i;if(h(t)){t=p(t,A(e[0]))}else if(t.length&&!t.nodeType){t=x.makeArray(t);if(r){for(i=t.length-1;i>=0;i--){d(e,t[i],n,r)}}else{for(i=0;i<t.length;i++){d(e,t[i],n,r)}}return e}if(t.nodeType){i=e.length;while(i--){n.call(e[i],t)}}return e}function v(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1}function m(e,t,n){var r,i;t=x(t)[0];e.each(function(){var e=this;if(!n||r!=e.parentNode){r=e.parentNode;i=t.cloneNode(false);e.parentNode.insertBefore(i,e);i.appendChild(e)}else{i.appendChild(e)}});return e}function x(e,t){return new x.fn.init(e,t)}function T(e,t){var n;if(t.indexOf){return t.indexOf(e)}n=t.length;while(n--){if(t[n]===e){return n}}return-1}function C(e){return e===null||e===l?"":(""+e).replace(N,"")}function k(e,t){var n,r,i,s,o;if(e){n=e.length;if(n===s){for(r in e){if(e.hasOwnProperty(r)){o=e[r];if(t.call(o,r,o)===false){break}}}}else{for(i=0;i<n;i++){o=e[i];if(t.call(o,i,o)===false){break}}}}return e}function L(e,t){var n=[];k(e,function(e,r){if(t(r,e)){n.push(r)}});return n}function A(e){if(!e){return s}if(e.nodeType==9){return e}return e.ownerDocument}function O(e,n,r){var i=[],s=e[n];if(typeof r!="string"&&r instanceof x){r=r[0]}while(s&&s.nodeType!==9){if(r!==t){if(s===r){break}if(typeof r=="string"&&x(s).is(r)){break}}if(s.nodeType===1){i.push(s)}s=s[n]}return i}function M(e,n,r,i){var s=[];if(i instanceof x){i=i[0]}for(;e;e=e[n]){if(r&&e.nodeType!==r){continue}if(i!==t){if(e===i){break}if(typeof i=="string"&&x(e).is(i)){break}}s.push(e)}return s}function _(e,t,n){for(e=e[t];e;e=e[t]){if(e.nodeType==n){return e}}return null}function D(e,t,n){k(n,function(n,r){e[n]=e[n]||{};e[n][t]=r})}var s=document,o=Array.prototype.push,u=Array.prototype.slice;var a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;var f=e.Event,l;var g=r.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," ");var y=r.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," ");var b={"for":"htmlFor","class":"className",readonly:"readOnly"};var w={"float":"cssFloat"};var E={},S={};var N=/^\s*|\s*$/g;x.fn=x.prototype={constructor:x,selector:"",context:null,length:0,init:function(e,t){var n=this,r,i;if(!e){return n}if(e.nodeType){n.context=n[0]=e;n.length=1;return n}if(t&&t.nodeType){n.context=t}else{if(t){return x(e).attr(t)}else{n.context=t=document}}if(h(e)){n.selector=e;if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){r=[null,e,null]}else{r=a.exec(e)}if(r){if(r[1]){i=p(e,A(t)).firstChild;while(i){o.call(n,i);i=i.nextSibling}}else{i=A(t).getElementById(r[2]);if(!i){return n}if(i.id!==r[2]){return n.find(e)}n.length=1;n[0]=i}}else{return x(t).find(e)}}else{this.add(e,false)}return n},toArray:function(){return r.toArray(this)},add:function(e,t){var n=this,r,i;if(h(e)){return n.add(x(e))}if(e.nodeType){return n.add([e])}if(t!==false){r=x.unique(n.toArray().concat(x.makeArray(e)));n.length=r.length;for(i=0;i<r.length;i++){n[i]=r[i]}}else{o.apply(n,x.makeArray(e))}return n},attr:function(e,t){var n=this,r;if(typeof e==="object"){k(e,function(e,t){n.attr(e,t)})}else if(c(t)){this.each(function(){var n;if(this.nodeType===1){n=E[e];if(n&&n.set){n.set(this,t);return}if(t===null){this.removeAttribute(e,2)}else{this.setAttribute(e,t,2)}}})}else{if(n[0]&&n[0].nodeType===1){r=E[e];if(r&&r.get){return r.get(n[0],e)}if(y[e]){return n.prop(e)?e:l}t=n[0].getAttribute(e,2);if(t===null){t=l}}return t}return n},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;e=b[e]||e;if(typeof e==="object"){k(e,function(e,t){n.prop(e,t)})}else if(c(t)){this.each(function(){if(this.nodeType==1){this[e]=t}})}else{if(n[0]&&n[0].nodeType&&e in n[0]){return n[0][e]}return t}return n},css:function(e,t){function s(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function o(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var n=this,r,i;if(typeof e==="object"){k(e,function(e,t){n.css(e,t)})}else{if(c(t)){e=s(e);if(typeof t==="number"&&!g[e]){t+="px"}n.each(function(){var n=this.style;i=S[e];if(i&&i.set){i.set(this,t);return}try{this.style[w[e]||e]=t}catch(r){}if(t===null||t===""){if(n.removeProperty){n.removeProperty(o(e))}else{n.removeAttribute(e)}}})}else{r=n[0];i=S[e];if(i&&i.get){return i.get(r)}if(r.ownerDocument.defaultView){try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(o(e))}catch(u){return l}}else if(r.currentStyle){return r.currentStyle[s(e)]}}}return n},remove:function(){var e=this,t,n=this.length;while(n--){t=e[n];f.clean(t);if(t.parentNode){t.parentNode.removeChild(t)}}return this},empty:function(){var e=this,t,n=this.length;while(n--){t=e[n];while(t.firstChild){t.removeChild(t.firstChild)}}return this},html:function(e){var t=this,n;if(c(e)){n=t.length;try{while(n--){t[n].innerHTML=e}}catch(r){x(t[n]).empty().append(e)}return t}return t[0]?t[0].innerHTML:""},text:function(e){var t=this,n;if(c(e)){n=t.length;while(n--){if("innerText"in t[n]){t[n].innerText=e}else{t[0].textContent=e}}return t}return t[0]?t[0].innerText||t[0].textContent:""},append:function(){return d(this,arguments,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return d(this,arguments,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}},true)},before:function(){var e=this;if(e[0]&&e[0].parentNode){return d(e,arguments,function(e){this.parentNode.insertBefore(e,this)})}return e},after:function(){var e=this;if(e[0]&&e[0].parentNode){return d(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},true)}return e},appendTo:function(e){x(e).append(this);return this},prependTo:function(e){x(e).prepend(this);return this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return m(this,e)},wrapAll:function(e){return m(this,e,true)},wrapInner:function(e){this.each(function(){x(this).contents().wrapAll(e)});return this},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(this.childNodes)})},clone:function(){var e=[];this.each(function(){e.push(this.cloneNode(true))});return x(e)},addClass:function(e){return this.toggleClass(e,true)},removeClass:function(e){return this.toggleClass(e,false)},toggleClass:function(e,t){var n=this;if(typeof e!="string"){return n}if(e.indexOf(" ")!==-1){k(e.split(" "),function(){n.toggleClass(this,t)})}else{n.each(function(n,r){var i,s;s=v(r,e);if(s!==t){i=r.className;if(s){r.className=C((" "+i+" ").replace(" "+e+" "," "))}else{r.className+=i?" "+e:e}}})}return n},hasClass:function(e){return v(this[0],e)},each:function(e){return k(this,e)},on:function(e,t){return this.each(function(){f.bind(this,e,t)})},off:function(e,t){return this.each(function(){f.unbind(this,e,t)})},trigger:function(e){return this.each(function(){if(typeof e=="object"){f.fire(this,e.type,e)}else{f.fire(this,e)}})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new x(u.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++){x.find(e,this[t],r)}return x(r)},filter:function(e){if(typeof e=="function"){return x(L(this.toArray(),function(t,n){return e(n,t)}))}return x(x.filter(e,this.toArray()))},closest:function(e){var t=[];if(e instanceof x){e=e[0]}this.each(function(n,r){while(r){if(typeof e=="string"&&x(r).is(e)){t.push(r);break}else if(r==e){t.push(r);break}r=r.parentNode}});return x(t)},offset:function(e){var t,n,r;var i=0,s=0,o;if(!e){t=this[0];if(t){n=t.ownerDocument;r=n.documentElement;if(t.getBoundingClientRect){o=t.getBoundingClientRect();i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft;s=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop}}return{left:i,top:s}}return this.css(e)},push:o,sort:[].sort,splice:[].splice};r.extend(x,{extend:r.extend,makeArray:r.toArray,inArray:T,isArray:r.isArray,each:k,trim:C,grep:L,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(e,t,n){var r=t.length;if(n){e=":not("+e+")"}while(r--){if(t[r].nodeType!=1){t.splice(r,1)}}if(t.length===1){t=x.find.matchesSelector(t[0],e)?[t[0]]:[]}else{t=x.find.matches(e,t)}return t}});k({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return O(e,"parentNode")},next:function(e){return _(e,"nextSibling",1)},prev:function(e){return _(e,"previousSibling",1)},children:function(e){return M(e.firstChild,"nextSibling",1)},contents:function(e){return r.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){x.fn[e]=function(n){var r=this,i=[];r.each(function(){var e=t.call(i,this,n,i);if(e){if(x.isArray(e)){i.push.apply(i,e)}else{i.push(e)}}});if(this.length>1){i=x.unique(i);if(e.indexOf("parents")===0){i=i.reverse()}}i=x(i);if(n){return i.filter(n)}return i}});k({parentsUntil:function(e,t){return O(e,"parentNode",t)},nextUntil:function(e,t){return M(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return M(e,"previousSibling",1,t).slice(1)}},function(e,t){x.fn[e]=function(n,r){var i=this,s=[];i.each(function(){var e=t.call(s,this,n,s);if(e){if(x.isArray(e)){s.push.apply(s,e)}else{s.push(e)}}});if(this.length>1){s=x.unique(s);if(e.indexOf("parents")===0||e==="prevUntil"){s=s.reverse()}}s=x(s);if(r){return s.filter(r)}return s}});x.fn.is=function(e){return!!e&&this.filter(e).length>0};x.fn.init.prototype=x.fn;x.overrideDefaults=function(e){function n(r,i){t=t||e();if(arguments.length===0){r=t.element}if(!i){i=t.context}return new n.fn.init(r,i)}var t;x.extend(n,this);return n};if(i.ie&&i.ie<8){D(E,"get",{maxlength:function(e){var t=e.maxLength;if(t===2147483647){return l}return t},size:function(e){var t=e.size;if(t===20){return l}return t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;if(t.length===0){return l}return t}});D(E,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})}if(i.ie&&i.ie<9){w["float"]="styleFloat";D(S,"set",{opacity:function(e,t){var n=e.style;if(t===null||t===""){n.removeAttribute("filter")}else{n.zoom=1;n.filter="alpha(opacity="+t*100+")"}}})}x.attrHooks=E;x.cssHooks=S;return x});i("tinymce/html/Styles",[],function(){return function(e,t){function p(e,t,n,r){function i(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var n=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,r=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,i=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,o,u,a={},f,l,c,h="﻿";e=e||{};if(t){l=t.getValidStyles();c=t.getInvalidStyles()}f=("\\\" \\' \\; \\: ; : "+h).split(" ");for(u=0;u<f.length;u++){a[f[u]]=h+u;a[h+u]=f[u]}return{toHex:function(e){return e.replace(n,p)},parse:function(t){function m(e,t,n){var r,i,s,a;r=o[e+"-top"+t];if(!r){return}i=o[e+"-right"+t];if(!i){return}s=o[e+"-bottom"+t];if(!s){return}a=o[e+"-left"+t];if(!a){return}var f=[r,i,s,a];u=f.length-1;while(u--){if(f[u]!==f[u+1]){break}}if(u>-1&&n){return}o[e+t]=u==-1?f[0]:f.join(" ");delete o[e+"-top"+t];delete o[e+"-right"+t];delete o[e+"-bottom"+t];delete o[e+"-left"+t]}function g(e){var t=o[e],n;if(!t){return}t=t.split(" ");n=t.length;while(n--){if(t[n]!==t[0]){return false}}o[e]=t[0];return true}function y(e,t,n,r){if(!g(t)){return}if(!g(n)){return}if(!g(r)){return}o[e]=o[t]+" "+o[n]+" "+o[r];delete o[t];delete o[n];delete o[r]}function b(e){h=true;return a[e]}function w(e,t){if(h){e=e.replace(/\uFEFF[0-9]/g,function(e){return a[e]})}if(!t){e=e.replace(/\\([\'\";:])/g,"$1")}return e}function E(t,n,r,i,s,o){s=s||o;if(s){s=w(s);return"'"+s.replace(/\'/g,"\\'")+"'"}n=w(n||r||i);if(!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(u)){return""}if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u)){return""}}if(d){n=d.call(v,n,"style")}return"url('"+n.replace(/\'/g,"\\'")+"')"}var o={},f,l,c,h,d=e.url_converter;var v=e.url_converter_scope||this;if(t){t=t.replace(/[\u0000-\u001F]/g,"");t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,b)});while(f=i.exec(t)){l=f[1].replace(s,"").toLowerCase();c=f[2].replace(s,"");c=c.replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))});if(l&&c.length>0){if(!e.allow_script_urls&&(l=="behavior"||/expression\s*\(|\/\*|\*\//.test(c))){continue}if(l==="font-weight"&&c==="700"){c="bold"}else if(l==="color"||l==="background-color"){c=c.toLowerCase()}c=c.replace(n,p);c=c.replace(r,E);o[l]=h?w(c,true):c}i.lastIndex=f.index+f[0].length}m("border","",true);m("border","-width");m("border","-color");m("border","-style");m("padding","");m("margin","");y("border","border-width","border-style","border-color");if(o.border==="medium none"){delete o.border}if(o["border-image"]==="none"){delete o["border-image"]}}return o},serialize:function(e,t){function s(t){var r,i,s,u;r=l[t];if(r){for(i=0,s=r.length;i<s;i++){t=r[i];u=e[t];if(u!==o&&u.length>0){n+=(n.length>0?" ":"")+t+": "+u+";"}}}}function u(e,t){var n;n=c["*"];if(n&&n[e]){return false}n=c[t];if(n&&n[e]){return false}return true}var n="",r,i;if(t&&l){s("*");s(t)}else{for(r in e){i=e[r];if(i!==o&&i.length>0){if(!c||u(r,t)){n+=(n.length>0?" ":"")+r+": "+i+";"}}}}return n}}}});i("tinymce/dom/TreeWalker",[],function(){return function(e,t){function r(e,n,r,i){var s,o;if(e){if(!i&&e[n]){return e[n]}if(e!=t){s=e[r];if(s){return s}for(o=e.parentNode;o&&o!=t;o=o.parentNode){s=o[r];if(s){return s}}}}}var n=e;this.current=function(){return n};this.next=function(e){n=r(n,"firstChild","nextSibling",e);return n};this.prev=function(e){n=r(n,"lastChild","previousSibling",e);return n}}});i("tinymce/dom/Range",["tinymce/util/Tools"],function(e){function t(n){function m(){return i.createDocumentFragment()}function g(e,t){B(a,e,t)}function y(e,t){B(f,e,t)}function b(e){g(e.parentNode,v(e))}function w(e){g(e.parentNode,v(e)+1)}function E(e){y(e.parentNode,v(e))}function S(e){y(e.parentNode,v(e)+1)}function x(e){if(e){r[h]=r[c];r[p]=r[l]}else{r[c]=r[h];r[l]=r[p]}r.collapsed=a}function T(e){b(e);S(e)}function N(e){g(e,0);y(e,e.nodeType===1?e.childNodes.length:e.nodeValue.length)}function C(e,t){var n=r[c],i=r[l],s=r[h],o=r[p],u=t.startContainer,a=t.startOffset,f=t.endContainer,d=t.endOffset;if(e===0){return H(n,i,u,a)}if(e===1){return H(s,o,u,a)}if(e===2){return H(s,o,f,d)}if(e===3){return H(n,i,f,d)}}function k(){j(u)}function L(){return j(s)}function A(){return j(o)}function O(e){var t=this[c],r=this[l],i,s;if((t.nodeType===3||t.nodeType===4)&&t.nodeValue){if(!r){t.parentNode.insertBefore(e,t)}else if(r>=t.nodeValue.length){n.insertAfter(e,t)}else{i=t.splitText(r);t.parentNode.insertBefore(e,i)}}else{if(t.childNodes.length>0){s=t.childNodes[r]}if(s){t.insertBefore(e,s)}else{if(t.nodeType==3){n.insertAfter(e,t)}else{t.appendChild(e)}}}}function M(e){var t=r.extractContents();r.insertNode(e);e.appendChild(t);r.selectNode(e)}function _(){return d(new t(n),{startContainer:r[c],startOffset:r[l],endContainer:r[h],endOffset:r[p],collapsed:r.collapsed,commonAncestorContainer:r.commonAncestorContainer})}function D(e,t){var n;if(e.nodeType==3){return e}if(t<0){return e}n=e.firstChild;while(n&&t>0){--t;n=n.nextSibling}if(n){return n}return e}function P(){return r[c]==r[h]&&r[l]==r[p]}function H(e,t,r,i){var s,o,u,a,f,l;if(e==r){if(t==i){return 0}if(t<i){return-1}return 1}s=r;while(s&&s.parentNode!=e){s=s.parentNode}if(s){o=0;u=e.firstChild;while(u!=s&&o<t){o++;u=u.nextSibling}if(t<=o){return-1}return 1}s=e;while(s&&s.parentNode!=r){s=s.parentNode}if(s){o=0;u=r.firstChild;while(u!=s&&o<i){o++;u=u.nextSibling}if(o<i){return-1}return 1}a=n.findCommonAncestor(e,r);f=e;while(f&&f.parentNode!=a){f=f.parentNode}if(!f){f=a}l=r;while(l&&l.parentNode!=a){l=l.parentNode}if(!l){l=a}if(f==l){return 0}u=a.firstChild;while(u){if(u==f){return-1}if(u==l){return 1}u=u.nextSibling}}function B(e,t,i){var s,o;if(e){r[c]=t;r[l]=i}else{r[h]=t;r[p]=i}s=r[h];while(s.parentNode){s=s.parentNode}o=r[c];while(o.parentNode){o=o.parentNode}if(o==s){if(H(r[c],r[l],r[h],r[p])>0){r.collapse(e)}}else{r.collapse(e)}r.collapsed=P();r.commonAncestorContainer=n.findCommonAncestor(r[c],r[h])}function j(e){var t,n=0,i=0,s,o,u,a,f,l;if(r[c]==r[h]){return F(e)}for(t=r[h],s=t.parentNode;s;t=s,s=s.parentNode){if(s==r[c]){return I(t,e)}++n}for(t=r[c],s=t.parentNode;s;t=s,s=s.parentNode){if(s==r[h]){return q(t,e)}++i}o=i-n;u=r[c];while(o>0){u=u.parentNode;o--}a=r[h];while(o<0){a=a.parentNode;o++}for(f=u.parentNode,l=a.parentNode;f!=l;f=f.parentNode,l=l.parentNode){u=f;a=l}return R(u,a,e)}function F(e){var t,n,s,f,h,d,v,g,y;if(e!=u){t=m()}if(r[l]==r[p]){return t}if(r[c].nodeType==3){n=r[c].nodeValue;s=n.substring(r[l],r[p]);if(e!=o){f=r[c];g=r[l];y=r[p]-r[l];if(g===0&&y>=f.nodeValue.length-1){f.parentNode.removeChild(f)}else{f.deleteData(g,y)}r.collapse(a)}if(e==u){return}if(s.length>0){t.appendChild(i.createTextNode(s))}return t}f=D(r[c],r[l]);h=r[p]-r[l];while(f&&h>0){d=f.nextSibling;v=X(f,e);if(t){t.appendChild(v)}--h;f=d}if(e!=o){r.collapse(a)}return t}function I(e,t){var n,i,s,a,c,h;if(t!=u){n=m()}i=U(e,t);if(n){n.appendChild(i)}s=v(e);a=s-r[l];if(a<=0){if(t!=o){r.setEndBefore(e);r.collapse(f)}return n}i=e.previousSibling;while(a>0){c=i.previousSibling;h=X(i,t);if(n){n.insertBefore(h,n.firstChild)}--a;i=c}if(t!=o){r.setEndBefore(e);r.collapse(f)}return n}function q(e,t){var n,i,s,f,l,c;if(t!=u){n=m()}s=z(e,t);if(n){n.appendChild(s)}i=v(e);++i;f=r[p]-i;s=e.nextSibling;while(s&&f>0){l=s.nextSibling;c=X(s,t);if(n){n.appendChild(c)}--f;s=l}if(t!=o){r.setStartAfter(e);r.collapse(a)}return n}function R(e,t,n){var i,s,f,l,c,h,p;if(n!=u){s=m()}i=z(e,n);if(s){s.appendChild(i)}f=v(e);l=v(t);++f;c=l-f;h=e.nextSibling;while(c>0){p=h.nextSibling;i=X(h,n);if(s){s.appendChild(i)}h=p;--c}i=U(t,n);if(s){s.appendChild(i)}if(n!=o){r.setStartAfter(e);r.collapse(a)}return s}function U(e,t){var n=D(r[h],r[p]-1),i,s;var o,l,c,d=n!=r[h];if(n==e){return W(n,d,f,t)}i=n.parentNode;s=W(i,f,f,t);while(i){while(n){o=n.previousSibling;l=W(n,d,f,t);if(t!=u){s.insertBefore(l,s.firstChild)}d=a;n=o}if(i==e){return s}n=i.previousSibling;i=i.parentNode;c=W(i,f,f,t);if(t!=u){c.appendChild(s)}s=c}}function z(e,t){var n=D(r[c],r[l]),i=n!=r[c];var s,o,h,p,d;if(n==e){return W(n,i,a,t)}s=n.parentNode;o=W(s,f,a,t);while(s){while(n){h=n.nextSibling;p=W(n,i,a,t);if(t!=u){o.appendChild(p)}i=a;n=h}if(s==e){return o}n=s.nextSibling;s=s.parentNode;d=W(s,f,a,t);if(t!=u){d.appendChild(o)}o=d}}function W(e,t,i,s){var a,c,h,d,v;if(t){return X(e,s)}if(e.nodeType==3){a=e.nodeValue;if(i){d=r[l];c=a.substring(d);h=a.substring(0,d)}else{d=r[p];c=a.substring(0,d);h=a.substring(d)}if(s!=o){e.nodeValue=h}if(s==u){return}v=n.clone(e,f);v.nodeValue=c;return v}if(s==u){return}return n.clone(e,f)}function X(e,t){if(t!=u){return t==o?n.clone(e,a):e}e.parentNode.removeChild(e)}function V(){return n.create("body",null,A()).outerText}var r=this,i=n.doc,s=0,o=1,u=2,a=true,f=false,l="startOffset",c="startContainer",h="endContainer",p="endOffset",d=e.extend,v=n.nodeIndex;d(r,{startContainer:i,startOffset:0,endContainer:i,endOffset:0,collapsed:a,commonAncestorContainer:i,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:g,setEnd:y,setStartBefore:b,setStartAfter:w,setEndBefore:E,setEndAfter:S,collapse:x,selectNode:T,selectNodeContents:N,compareBoundaryPoints:C,deleteContents:k,extractContents:L,cloneContents:A,insertNode:O,surroundContents:M,cloneRange:_,toStringIE:V});return r}t.prototype.toString=function(){return this.toStringIE()};return t});i("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function l(e){var t;t=document.createElement("div");t.innerHTML=e;return t.textContent||t.innerText||e}function c(e,t){var n,i,s,o={};if(e){e=e.split(",");t=t||10;for(n=0;n<e.length;n+=2){i=String.fromCharCode(parseInt(e[n],t));if(!r[i]){s="&"+e[n+1]+";";o[i]=s;o[s]=i}}return o}}var t=e.makeMap;var n,r,i,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,a=/&(#x|#)?([\w]+);/g,f={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&","`":"&#96;"};i={"&lt;":"<","&gt;":">","&":"&","&quot;":'"',"&apos;":"'"};n=c("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,"+"5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,"+"5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,"+"5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,"+"68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,"+"6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,"+"6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,"+"75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,"+"7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,"+"7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,"+"sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,"+"st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,"+"t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,"+"tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,"+"u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,"+"81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,"+"8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,"+"8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,"+"8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,"+"8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,"+"nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,"+"rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,"+"Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,"+"80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,"+"811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(e,t){return e.replace(t?s:o,function(e){return r[e]||e})},encodeAllRaw:function(e){return(""+e).replace(u,function(e){return r[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:o,function(e){if(e.length>1){return"&#"+((e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320)+65536)+";"}return r[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,i){i=i||n;return e.replace(t?s:o,function(e){return r[e]||i[e]||e})},getEncodeFunc:function(e,i){function u(e,t){return e.replace(t?s:o,function(e){return r[e]||i[e]||"&#"+e.charCodeAt(0)+";"||e})}function a(e,t){return h.encodeNamed(e,t,i)}i=c(i)||n;e=t(e.replace(/\+/g,","));if(e.named&&e.numeric){return u}if(e.named){if(i){return a}return h.encodeNamed}if(e.numeric){return h.encodeNumeric}return h.encodeRaw},decode:function(e){return e.replace(a,function(e,t,r){if(t){r=parseInt(r,t.length===2?16:10);if(r>65535){r-=65536;return String.fromCharCode(55296+(r>>10),56320+(r&1023))}else{return f[r]||String.fromCharCode(r)}}return i[e]||n[e]||l(e)})}};return h});i("tinymce/dom/StyleSheetLoader",[],function(){"use strict";return function(e,t){function s(t){e.getElementsByTagName("head")[0].appendChild(t)}function o(t,o,u){function h(){var e=c.passed,t=e.length;while(t--){e[t]()}c.status=2;c.passed=[];c.failed=[]}function p(){var e=c.failed,t=e.length;while(t--){e[t]()}c.status=3;c.passed=[];c.failed=[]}function d(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function v(e,t){if(!e()){if((new Date).getTime()-l<i){window.setTimeout(t,0)}else{p()}}}function m(){v(function(){var t=e.styleSheets,n,r=t.length,i;while(r--){n=t[r];i=n.ownerNode?n.ownerNode:n.owningElement;if(i&&i.id===a.id){h();return true}}},m)}function g(){v(function(){try{var e=f.sheet.cssRules;h();return!!e}catch(t){}},g)}var a,f,l,c;if(!r[t]){c={passed:[],failed:[]};r[t]=c}else{c=r[t]}if(o){c.passed.push(o)}if(u){c.failed.push(u)}if(c.status==1){return}if(c.status==2){h();return}if(c.status==3){p();return}c.status=1;a=e.createElement("link");a.rel="stylesheet";a.type="text/css";a.id="u"+n++;a.async=false;a.defer=false;l=(new Date).getTime();if("onload"in a&&!d()){a.onload=m;a.onerror=p}else{if(navigator.userAgent.indexOf("Firefox")>0){f=e.createElement("style");f.textContent='@import "'+t+'"';g();s(f);return}else{m()}}s(a);a.href=t}var n=0,r={},i;t=t||{};i=t.maxLoadTime||5e3;this.load=o}});i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(e,n,r,i,s,o,u,a,f,l){function y(e,t){var n={},r=t.keep_values,i;i={set:function(n,r,i){if(t.url_converter){r=t.url_converter.call(t.url_converter_scope||e,r,i,n[0])}n.attr("data-mce-"+i,r).attr(i,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};n={style:{set:function(e,t){if(t!==null&&typeof t==="object"){e.css(t);return}if(r){e.attr("data-mce-style",t)}e.attr("style",t)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");n=e.serializeStyle(e.parseStyle(n),t[0].nodeName);return n}}};if(r){n.href=n.src=i}return n}function b(e,t){var s=this,o;s.doc=e;s.win=window;s.files={};s.counter=0;s.stdMode=!v||e.documentMode>=8;s.boxModel=!v||e.compatMode=="CSS1Compat"||s.stdMode;s.styleSheetLoader=new l(e);s.boundEvents=[];s.settings=t=t||{};s.schema=t.schema;s.styles=new r({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema);s.fixDoc(e);s.events=t.ownEvents?new i(t.proxy):i.Event;s.attrHooks=y(s,t);o=t.schema?t.schema.getBlockElements():{};s.$=n.overrideDefaults(function(){return{context:e,element:s.getRoot()}});s.isBlock=function(e){if(!e){return false}var t=e.nodeType;if(t){return!!(t===1&&o[e.nodeName])}return!!o[e]}}var c=f.each,h=f.is,p=f.grep,d=f.trim;var v=a.ie;var m=/^([a-z0-9],?)+$/i;var g=/^[ \t\r\n]*$/;b.prototype={$$:function(e){if(typeof e=="string"){e=this.get(e)}return this.$(e)},root:null,fixDoc:function(e){var t=this.settings,n;if(v&&t.schema){("abbr article aside audio canvas "+"details figcaption figure footer "+"header hgroup mark menu meter nav "+"output progress section summary "+"time video").replace(/\w+/g,function(t){e.createElement(t)});for(n in t.schema.getCustomElements()){e.createElement(n)}}},clone:function(e,t){var n=this,r,i;if(!v||e.nodeType!==1||t){return e.cloneNode(t)}i=n.doc;if(!t){r=i.createElement(e.nodeName);c(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))});return r}return r.firstChild},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;e=!e?this.win:e;t=e.document;n=this.boxModel?t.documentElement:t.body;return{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t=this,n,r;e=t.get(e);n=t.getPos(e);r=t.getSize(e);return{x:n.x,y:n.y,w:r.w,h:r.h}},getSize:function(e){var t=this,n,r;e=t.get(e);n=t.getStyle(e,"width");r=t.getStyle(e,"height");if(n.indexOf("px")===-1){n=0}if(r.indexOf("px")===-1){r=0}return{w:parseInt(n,10)||e.offsetWidth||e.clientWidth,h:parseInt(r,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,false)},getParents:function(e,n,r,i){var s=this,o,u=[];e=s.get(e);i=i===t;r=r||(s.getRoot().nodeName!="BODY"?s.getRoot().parentNode:null);if(h(n,"string")){o=n;if(n==="*"){n=function(e){return e.nodeType==1}}else{n=function(e){return s.is(e,o)}}}while(e){if(e==r||!e.nodeType||e.nodeType===9){break}if(!n||n(e)){if(i){u.push(e)}else{return e}}e=e.parentNode}return i?u:null},get:function(e){var t;if(e&&this.doc&&typeof e=="string"){t=e;e=this.doc.getElementById(e);if(e&&e.id!==t){return this.doc.getElementsByName(t)[1]}}return e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(t,n){var r=this;return e(t,r.get(n)||r.settings.root_element||r.doc,[])},is:function(n,r){var i;if(n.length===t){if(r==="*"){return n.nodeType==1}if(m.test(r)){r=r.toLowerCase().split(/,/);n=n.nodeName.toLowerCase();for(i=r.length-1;i>=0;i--){if(r[i]==n){return true}}return false}}if(n.nodeType&&n.nodeType!=1){return false}var s=n.nodeType?[n]:n;return e(r,s[0].ownerDocument||s[0],null,s).length>0},add:function(e,t,n,r,i){var s=this;return this.run(e,function(e){var o;o=h(t,"string")?s.doc.createElement(t):t;s.setAttribs(o,n);if(r){if(r.nodeType){o.appendChild(r)}else{s.setHTML(o,r)}}return!i?e.appendChild(o):o})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r="",i;r+="<"+e;for(i in t){if(t.hasOwnProperty(i)&&t[i]!==null&&typeof t[i]!="undefined"){r+=" "+i+'="'+this.encode(t[i])+'"'}}if(typeof n!="undefined"){return r+">"+n+"</"+e+">"}return r+" />"},createFragment:function(e){var t,n,r=this.doc,i;i=r.createElement("div");t=r.createDocumentFragment();if(e){i.innerHTML=e}while(n=i.firstChild){t.appendChild(n)}return t},remove:function(e,t){e=this.$$(e);if(t){e.each(function(){var e;while(e=this.firstChild){if(e.nodeType==3&&e.data.length===0){this.removeChild(e)}else{this.parentNode.insertBefore(e,this)}}}).remove()}else{e.remove()}return e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n);if(this.settings.update_styles){e.attr("data-mce-style",null)}},getStyle:function(e,n,r){e=this.$$(e);if(r){return e.css(n)}n=n.replace(/-(\D)/g,function(e,t){return t.toUpperCase()});if(n=="float"){n=v?"styleFloat":"cssFloat"}return e[0]&&e[0].style?e[0].style[n]:t},setStyles:function(e,t){e=this.$$(e).css(t);if(this.settings.update_styles){e.attr("data-mce-style",null)}},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--){e.removeAttributeNode(n.item(t))}})},setAttrib:function(e,t,n){var r=this,i,s,o=r.settings;if(n===""){n=null}e=r.$$(e);i=e.attr(t);if(!e.length){return}s=r.attrHooks[t];if(s&&s.set){s.set(e,n,t)}else{e.attr(t,n)}if(i!=n&&o.onSetAttrib){o.onSetAttrib({attrElm:e,attrName:t,attrValue:n})}},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){c(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r=this,i,s;e=r.$$(e);if(e.length){i=r.attrHooks[t];if(i&&i.get){s=i.get(e,t)}else{s=e.attr(t)}}if(typeof s=="undefined"){s=n||""}return s},getPos:function(e,t){var r=this,i=0,s=0,o,u=r.doc,a=u.body,f;e=r.get(e);t=t||a;if(e){if(t===a&&e.getBoundingClientRect&&n(a).css("position")==="static"){f=e.getBoundingClientRect();t=r.boxModel?u.documentElement:a;i=f.left+(u.documentElement.scrollLeft||a.scrollLeft)-t.clientLeft;s=f.top+(u.documentElement.scrollTop||a.scrollTop)-t.clientTop;return{x:i,y:s}}o=e;while(o&&o!=t&&o.nodeType){i+=o.offsetLeft||0;s+=o.offsetTop||0;o=o.offsetParent}o=e.parentNode;while(o&&o!=t&&o.nodeType){i-=o.scrollLeft||0;s-=o.scrollTop||0;o=o.parentNode}}return{x:i,y:s}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t=this,n=t.doc,r,i;if(t!==b.DOM&&n===document){var s=b.DOM.addedStyles;s=s||[];if(s[e]){return}s[e]=true;b.DOM.addedStyles=s}i=n.getElementById("mceDefaultStyles");if(!i){i=n.createElement("style");i.id="mceDefaultStyles";i.type="text/css";r=n.getElementsByTagName("head")[0];if(r.firstChild){r.insertBefore(i,r.firstChild)}else{r.appendChild(i)}}if(i.styleSheet){i.styleSheet.cssText+=e}else{i.appendChild(n.createTextNode(e))}},loadCSS:function(e){var t=this,n=t.doc,r;if(t!==b.DOM&&n===document){b.DOM.loadCSS(e);return}if(!e){e=""}r=n.getElementsByTagName("head")[0];c(e.split(","),function(e){var i;if(t.files[e]){return}t.files[e]=true;i=t.create("link",{rel:"stylesheet",href:e});if(v&&n.documentMode&&n.recalc){i.onload=function(){if(n.recalc){n.recalc()}i.onload=null}}r.appendChild(i)})},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,false)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,r){this.$$(e).toggleClass(t,r).each(function(){if(this.className===""){n(this).attr("class",null)}})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return this.$$(e).css("display")=="none"},uniqueId:function(e){return(!e?"mce_":e)+this.counter++},setHTML:function(e,t){e=this.$$(e);if(v){e.each(function(e,r){if(r.canHaveHTML===false){return}while(r.firstChild){r.removeChild(r.firstChild)}try{r.innerHTML="<br>"+t;r.removeChild(r.firstChild)}catch(i){n("<div>").html("<br>"+t).contents().slice(1).appendTo(r)}return t})}else{e.html(t)}},getOuterHTML:function(e){e=this.get(e);return e.nodeType==1?e.outerHTML:n("<div>").append(n(e).clone()).html()},setOuterHTML:function(e,t){var r=this;r.$$(e).each(function(){try{this.outerHTML=t}catch(e){r.remove(n(this).html(t),true)}})},decode:u.decode,encode:u.encodeAllRaw,insertAfter:function(e,t){t=this.get(t);return this.run(e,function(e){var n,r;n=t.parentNode;r=t.nextSibling;if(r){n.insertBefore(e,r)}else{n.appendChild(e)}return e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){if(h(t,"array")){e=e.cloneNode(true)}if(n){c(p(t.childNodes),function(t){e.appendChild(t)})}return t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n=this,r;if(e.nodeName!=t.toUpperCase()){r=n.create(t);c(n.getAttribs(e),function(t){n.setAttrib(r,t.nodeName,n.getAttrib(e,t.nodeName))});n.replace(r,e,1)}return r||e},findCommonAncestor:function(e,t){var n=e,r;while(n){r=t;while(r&&n!=r){r=r.parentNode}if(n==r){break}n=n.parentNode}if(!n&&e.ownerDocument){return e.ownerDocument.documentElement}return n},toHex:function(e){return this.styles.toHex(f.trim(e))},run:function(e,t,n){var r=this,i;if(typeof e==="string"){e=r.get(e)}if(!e){return false}n=n||this;if(!e.nodeType&&(e.length||e.length===0)){i=[];c(e,function(e,s){if(e){if(typeof e=="string"){e=r.get(e)}i.push(t.call(n,e,s))}});return i}return t.call(n,e)},getAttribs:function(e){var t;e=this.get(e);if(!e){return[]}if(v){t=[];if(e.nodeName=="OBJECT"){return e.attributes}if(e.nodeName==="OPTION"&&this.getAttrib(e,"selected")){t.push({specified:1,nodeName:"selected"})}var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;e.cloneNode(false).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})});return t}return e.attributes},isEmpty:function(e,t){var n=this,r,i,o,u,a,f=0;e=e.firstChild;if(e){u=new s(e,e.parentNode);t=t||(n.schema?n.schema.getNonEmptyElements():null);do{o=e.nodeType;if(o===1){if(e.getAttribute("data-mce-bogus")){continue}a=e.nodeName.toLowerCase();if(t&&t[a]){if(a==="br"){f++;continue}return false}i=n.getAttribs(e);r=i.length;while(r--){a=i[r].nodeName;if(a==="name"||a==="data-mce-bookmark"){return false}}}if(o==8){return false}if(o===3&&!g.test(e.nodeValue)){return false}}while(e=u.next())}return f<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new o(this)},nodeIndex:function(e,t){var n=0,r,i;if(e){for(r=e.nodeType,e=e.previousSibling;e;e=e.previousSibling){i=e.nodeType;if(t&&i==3){if(i==r||!e.nodeValue.length){continue}}n++;r=i}}return n},split:function(e,t,n){function a(e){function s(e){var t=e.previousSibling&&e.previousSibling.nodeName=="SPAN";var n=e.nextSibling&&e.nextSibling.nodeName=="SPAN";return t&&n}var t,n=e.childNodes,i=e.nodeType;if(i==1&&e.getAttribute("data-mce-type")=="bookmark"){return}for(t=n.length-1;t>=0;t--){a(n[t])}if(i!=9){if(i==3&&e.nodeValue.length>0){var o=d(e.nodeValue).length;if(!r.isBlock(e.parentNode)||o>0||o===0&&s(e)){return}}else if(i==1){n=e.childNodes;if(n.length==1&&n[0]&&n[0].nodeType==1&&n[0].getAttribute("data-mce-type")=="bookmark"){e.parentNode.insertBefore(n[0],e)}if(n.length||/^(br|hr|input|img)$/i.test(e.nodeName)){return}}r.remove(e)}return e}var r=this,i=r.createRng(),s,o,u;if(e&&t){i.setStart(e.parentNode,r.nodeIndex(e));i.setEnd(t.parentNode,r.nodeIndex(t));s=i.extractContents();i=r.createRng();i.setStart(t.parentNode,r.nodeIndex(t)+1);i.setEnd(e.parentNode,r.nodeIndex(e)+1);o=i.extractContents();u=e.parentNode;u.insertBefore(a(s),e);if(n){u.replaceChild(n,t)}else{u.insertBefore(t,e)}u.insertBefore(a(o),e);r.remove(e);return n||t}},bind:function(e,t,n,r){var i=this;if(f.isArray(e)){var s=e.length;while(s--){e[s]=i.bind(e[s],t,n,r)}return e}if(i.settings.collect&&(e===i.doc||e===i.win)){i.boundEvents.push([e,t,n,r])}return i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r=this,i;if(f.isArray(e)){i=e.length;while(i--){e[i]=r.unbind(e[i],t,n)}return e}if(r.boundEvents&&(e===r.doc||e===r.win)){i=r.boundEvents.length;while(i--){var s=r.boundEvents[i];if(e==s[0]&&(!t||t==s[1])&&(!n||n==s[2])){this.events.unbind(s[0],s[1],s[2])}}}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;if(!e||e.nodeType!=1){return null}t=e.getAttribute("data-mce-contenteditable");if(t&&t!=="inherit"){return t}return e.contentEditable!=="inherit"?e.contentEditable:null},getContentEditableParent:function(e){var t=this.getRoot(),n=null;for(;e&&e!==t;e=e.parentNode){n=this.getContentEditable(e);if(n!==null){break}}return n},destroy:function(){var t=this;if(t.boundEvents){var n=t.boundEvents.length;while(n--){var r=t.boundEvents[n];this.events.unbind(r[0],r[1],r[2])}t.boundEvents=null}if(e.setDocument){e.setDocument()}t.win=t.doc=t.root=t.events=t.frag=null},isChildOf:function(e,t){while(e){if(t===e){return true}e=e.parentNode}return false},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e){if(typeof i=="string"){i=function(e){return r.is(e,t)}}for(e=e[n];e;e=e[n]){if(i(e)){return e}}}return null}};b.DOM=new b(document);return b});i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t){function s(){function h(e,t){function o(){r.remove(s);if(i){i.onreadystatechange=i.onload=i=null}t()}function u(){if(typeof console!=="undefined"&&console.log){console.log("Failed to load: "+e)}}var r=n,i,s;s=r.uniqueId();i=document.createElement("script");i.id=s;i.type="text/javascript";i.src=e;if("onreadystatechange"in i){i.onreadystatechange=function(){if(/loaded|complete/.test(i.readyState)){o()}}}else{i.onload=o}i.onerror=u;(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}var e=0,t=1,s=2,o={},u=[],a={},f=[],l=0,c;this.isDone=function(e){return o[e]==s};this.markDone=function(e){o[e]=s};this.add=this.load=function(t,n,r){var i=o[t];if(i==c){u.push(t);o[t]=e}if(n){if(!a[t]){a[t]=[]}a[t].push({func:n,scope:r||this})}};this.loadQueue=function(e,t){this.loadScripts(u,e,t)};this.loadScripts=function(e,n,u){function d(e){r(a[e],function(e){e.func.call(e.scope)});a[e]=c}var p;f.push({func:n,scope:u||this});p=function(){var n=i(e);e.length=0;r(n,function(e){if(o[e]==s){d(e);return}if(o[e]!=t){o[e]=t;l++;h(e,function(){o[e]=s;l--;d(e);p()})}});if(!l){r(f,function(e){e.func.call(e.scope)});f.length=0}};p()}}var n=e.DOM;var r=t.each,i=t.grep;s.ScriptLoader=new s;return s});i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(e,n){function i(){var e=this;e.items=[];e.urls={};e.lookup={}}var r=n.each;i.prototype={get:function(e){if(this.lookup[e]){return this.lookup[e].instance}else{return t}},dependencies:function(e){var t;if(this.lookup[e]){t=this.lookup[e].dependencies}return t||[]},requireLangPack:function(t,n){var r=i.language;if(r&&i.languageLoad!==false){if(n){n=","+n+",";if(n.indexOf(","+r.substr(0,2)+",")!=-1){r=r.substr(0,2)}else if(n.indexOf(","+r+",")==-1){return}}e.ScriptLoader.add(this.urls[t]+"/langs/"+r+".js")}},add:function(e,t,n){this.items.push(t);this.lookup[e]={instance:t,dependencies:n};return t},createUrl:function(e,t){if(typeof t==="object"){return t}else{return{prefix:e.prefix,resource:t,suffix:e.suffix}}},addComponents:function(t,n){var i=this.urls[t];r(n,function(t){e.ScriptLoader.add(i+"/"+t)})},load:function(n,s,o,u){function l(){var i=a.dependencies(n);r(i,function(e){var n=a.createUrl(s,e);a.load(n.resource,n,t,t)});if(o){if(u){o.call(u)}else{o.call(e)}}}var a=this,f=s;if(a.urls[n]){return}if(typeof s==="object"){f=s.prefix+s.resource+s.suffix}if(f.indexOf("/")!==0&&f.indexOf("://")==-1){f=i.baseURL+"/"+f}a.urls[n]=f.substring(0,f.lastIndexOf("/"));if(a.lookup[n]){l()}else{e.ScriptLoader.add(f,l,u)}}};i.PluginManager=new i;i.ThemeManager=new i;return i});i("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker"],function(e,t){function r(e,t){var n=e.childNodes;t--;if(t>n.length-1){t=n.length-1}else if(t<0){t=0}return n[t]||e}function i(e){this.walk=function(t,i){function m(e){var t;t=e[0];if(t.nodeType===3&&t===s&&o>=t.nodeValue.length){e.splice(0,1)}t=e[e.length-1];if(a===0&&e.length>0&&t===u&&t.nodeType===3){e.splice(e.length-1,1)}return e}function g(e,t,n){var r=[];for(;e&&e!=n;e=e[t]){r.push(e)}return r}function y(e,t){do{if(e.parentNode==t){return e}e=e.parentNode}while(e)}function b(e,t,n){var r=n?"nextSibling":"previousSibling";for(h=e,p=h.parentNode;h&&h!=t;h=p){p=h.parentNode;d=g(h==e?h:h[r],r);if(d.length){if(!n){d.reverse()}i(m(d))}}}var s=t.startContainer,o=t.startOffset,u=t.endContainer,a=t.endOffset,f,l,c,h,p,d,v;v=e.select("td.mce-item-selected,th.mce-item-selected");if(v.length>0){n(v,function(e){i([e])});return}if(s.nodeType==1&&s.hasChildNodes()){s=s.childNodes[o]}if(u.nodeType==1&&u.hasChildNodes()){u=r(u,a)}if(s==u){return i(m([s]))}f=e.findCommonAncestor(s,u);for(h=s;h;h=h.parentNode){if(h===u){return b(s,f,true)}if(h===f){break}}for(h=u;h;h=h.parentNode){if(h===s){return b(u,f)}if(h===f){break}}l=y(s,f)||s;c=y(u,f)||u;b(s,l,true);d=g(l==s?l:l.nextSibling,"nextSibling",c==u?c.nextSibling:c);if(d.length){i(m(d))}b(u,c)};this.split=function(e){function s(e,t){return e.splitText(t)}var t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;if(t==r&&t.nodeType==3){if(n>0&&n<t.nodeValue.length){r=s(t,n);t=r.previousSibling;if(i>n){i=i-n;t=r=s(r,i).previousSibling;i=r.nodeValue.length;n=0}else{i=0}}}else{if(t.nodeType==3&&n>0&&n<t.nodeValue.length){t=s(t,n);n=0}if(r.nodeType==3&&i>0&&i<r.nodeValue.length){r=s(r,i).previousSibling;i=r.nodeValue.length}}return{startContainer:t,startOffset:n,endContainer:r,endOffset:i}};this.normalize=function(n){function s(s){function d(n,r){var i=new t(n,e.getParent(n.parentNode,e.isBlock)||f);while(n=i[r?"prev":"next"]()){if(n.nodeName==="BR"){return true}}}function v(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function m(n,s){var a,h,d;s=s||o;d=e.getParent(s.parentNode,e.isBlock)||f;if(n&&s.nodeName=="BR"&&p&&e.isEmpty(d)){o=s.parentNode;u=e.nodeIndex(s);r=true;return}a=new t(s,d);while(l=a[n?"prev":"next"]()){if(e.getContentEditableParent(l)==="false"){return}if(l.nodeType===3&&l.nodeValue.length>0){o=l;u=n?l.nodeValue.length:0;r=true;return}if(e.isBlock(l)||c[l.nodeName.toLowerCase()]){return}h=l}if(i&&h){o=h;r=true;u=0}}var o,u,a,f=e.getRoot(),l,c;var h,p;o=n[(s?"start":"end")+"Container"];u=n[(s?"start":"end")+"Offset"];p=o.nodeType==1&&u===o.childNodes.length;c=e.schema.getNonEmptyElements();h=s;if(o.nodeType==1&&u>o.childNodes.length-1){h=false}if(o.nodeType===9){o=e.getRoot();u=0}if(o===f){if(h){l=o.childNodes[u>0?u-1:0];if(l){if(c[l.nodeName]||l.nodeName=="TABLE"){return}}}if(o.hasChildNodes()){u=Math.min(!h&&u>0?u-1:u,o.childNodes.length-1);o=o.childNodes[u];u=0;if(o.hasChildNodes()&&!/TABLE/.test(o.nodeName)){l=o;a=new t(o,f);do{if(l.nodeType===3&&l.nodeValue.length>0){u=h?0:l.nodeValue.length;o=l;r=true;break}if(c[l.nodeName.toLowerCase()]){u=e.nodeIndex(l);o=l.parentNode;if(l.nodeName=="IMG"&&!h){u++}r=true;break}}while(l=h?a.next():a.prev())}}}if(i){if(o.nodeType===3&&u===0){m(true)}if(o.nodeType===1){l=o.childNodes[u];if(!l){l=o.childNodes[u-1]}if(l&&l.nodeName==="BR"&&!v(l,"A")&&!d(l)&&!d(l,true)){m(true,l)}}}if(h&&!i&&o.nodeType===3&&u===o.nodeValue.length){m(false)}if(r){n["set"+(s?"Start":"End")](o,u)}}var r,i;i=n.collapsed;s(true);if(!i){s()}if(r&&i){n.collapse(true)}return r}}var n=e.each;i.compareRanges=function(e,t){if(e&&t){if(e.item||e.duplicate){if(e.item&&t.item&&e.item(0)===t.item(0)){return true}if(e.isEqual&&t.isEqual&&t.isEqual(e)){return true}}else{return e.startContainer==t.startContainer&&e.startOffset==t.startOffset}}return false};return i});i("tinymce/NodeChange",["tinymce/dom/RangeUtils"],function(e){return function(t){function i(e){var n,i;i=t.$(e).parentsUntil(t.getBody()).add(e);if(i.length===r.length){for(n=i.length;n>=0;n--){if(i[n]!==r[n]){break}}if(n===-1){r=i;return true}}r=i;return false}var n,r=[];if(!("onselectionchange"in t.getDoc())){t.on("NodeChange Click MouseUp KeyUp Focus",function(r){var i,s;i=t.selection.getRng();s={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};if(r.type=="nodechange"||!e.compareRanges(s,n)){t.fire("SelectionChange")}n=s})}t.on("contextmenu",function(){t.fire("SelectionChange")});t.on("SelectionChange",function(){var e=t.selection.getStart(true);if(!t.selection.isCollapsed()&&!i(e)&&t.dom.isChildOf(e,t.getBody())){t.nodeChanged({selectionChange:true})}});t.on("MouseUp",function(e){if(!e.isDefaultPrevented()){setTimeout(function(){t.nodeChanged()},0)}});this.nodeChanged=function(e){var n=t.selection,r,i,s;if(t.initialized&&n&&!t.settings.disable_nodechange&&!t.settings.readonly){s=t.getBody();r=n.getStart()||s;r=r.ownerDocument!=t.getDoc()?t.getBody():r;if(r.nodeName=="IMG"&&n.isCollapsed()){r=r.parentNode}i=[];t.dom.getParent(r,function(e){if(e===s){return true}i.push(e)});e=e||{};e.element=r;e.parents=i;t.fire("NodeChange",e)}}}});i("tinymce/html/Node",[],function(){function n(e,t,n){var r,i,s=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[s]){return e[s]}if(e!==t){r=e[o];if(r){return r}for(i=e.parent;i&&i!==t;i=i.parent){r=i[o];if(r){return r}}}}function r(e,t){this.name=e;this.type=t;if(t===1){this.attributes=[];this.attributes.map={}}}var e=/^[ \t\r\n]*$/,t={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};r.prototype={replace:function(e){var t=this;if(e.parent){e.remove()}t.insert(e,t);t.remove();return t},attr:function(e,t){var n=this,r,i,s;if(typeof e!=="string"){for(i in e){n.attr(i,e[i])}return n}if(r=n.attributes){if(t!==s){if(t===null){if(e in r.map){delete r.map[e];i=r.length;while(i--){if(r[i].name===e){r=r.splice(i,1);return n}}}return n}if(e in r.map){i=r.length;while(i--){if(r[i].name===e){r[i].value=t;break}}}else{r.push({name:e,value:t})}r.map[e]=t;return n}else{return r.map[e]}}},clone:function(){var e=this,t=new r(e.name,e.type),n,i,s,o,u;if(s=e.attributes){u=[];u.map={};for(n=0,i=s.length;n<i;n++){o=s[n];if(o.name!=="id"){u[u.length]={name:o.name,value:o.value};u.map[o.name]=o.value}}t.attributes=u}t.value=e.value;t.shortEnded=e.shortEnded;return t},wrap:function(e){var t=this;t.parent.insert(e,t);e.append(t);return t},unwrap:function(){var e=this,t,n;for(t=e.firstChild;t;){n=t.next;e.insert(t,e,true);t=n}e.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;if(t){if(t.firstChild===e){t.firstChild=n;if(n){n.prev=null}}else{r.next=n}if(t.lastChild===e){t.lastChild=r;if(r){r.next=null}}else{n.prev=r}e.parent=e.next=e.prev=null}return e},append:function(e){var t=this,n;if(e.parent){e.remove()}n=t.lastChild;if(n){n.next=e;e.prev=n;t.lastChild=e}else{t.lastChild=t.firstChild=e}e.parent=t;return e},insert:function(e,t,n){var r;if(e.parent){e.remove()}r=t.parent||this;if(n){if(t===r.firstChild){r.firstChild=e}else{t.prev.next=e}e.prev=t.prev;e.next=t;t.prev=e}else{if(t===r.lastChild){r.lastChild=e}else{t.next.prev=e}e.next=t.next;e.prev=t;t.next=e}e.parent=r;return e},getAll:function(e){var t=this,r,i=[];for(r=t.firstChild;r;r=n(r,t)){if(r.name===e){i.push(r)}}return i},empty:function(){var e=this,t,r,i;if(e.firstChild){t=[];for(i=e.firstChild;i;i=n(i,e)){t.push(i)}r=t.length;while(r--){i=t[r];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}e.firstChild=e.lastChild=null;return e},isEmpty:function(t){var r=this,i=r.firstChild,s,o;if(i){do{if(i.type===1){if(i.attributes.map["data-mce-bogus"]){continue}if(t[i.name]){return false}s=i.attributes.length;while(s--){o=i.attributes[s].name;if(o==="name"||o.indexOf("data-mce-bookmark")===0){return false}}}if(i.type===8){return false}if(i.type===3&&!e.test(i.value)){return false}}while(i=n(i,r))}return true},walk:function(e){return n(this,null,e)}};r.create=function(e,n){var i,s;i=new r(e,t[e]||1);if(n){for(s in n){i.attr(s,n[s])}}return i};return r});i("tinymce/html/Schema",["tinymce/util/Tools"],function(e){function a(e,t){return e?e.split(t||" "):[]}function f(e){function h(e,t,i){function c(e,t){var n={},r,i;for(r=0,i=e.length;r<i;r++){n[e[r]]=t||{}}return n}var o,u,f,l=arguments;i=i||[];t=t||"";if(typeof i==="string"){i=a(i)}for(u=3;u<l.length;u++){if(typeof l[u]==="string"){l[u]=a(l[u])}i.push.apply(i,l[u])}e=a(e);o=e.length;while(o--){f=[].concat(s,a(t));r[e[o]]={attributes:c(f),attributesOrder:f,children:c(i,n)}}}function p(e,t){var n,i,s,o;e=a(e);n=e.length;t=a(t);while(n--){i=r[e[n]];for(s=0,o=t.length;s<o;s++){i.attributes[t[s]]={};i.attributesOrder.push(t[s])}}}var r={},s,o;var u,f,l,c;if(t[e]){return t[e]}s=a("id accesskey class dir lang style tabindex title");o=a("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul");u=a("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd "+"label map noscript object q s samp script select small span strong sub sup "+"textarea u var #text #comment");if(e!="html4"){s.push.apply(s,a("contenteditable contextmenu draggable dropzone "+"hidden spellcheck translate"));o.push.apply(o,a("article aside details dialog figure header footer hgroup section nav"));u.push.apply(u,a("audio canvas command datalist mark meter output progress time wbr "+"video ruby bdi keygen"))}if(e!="html5-strict"){s.push("xml:lang");c=a("acronym applet basefont big font strike tt");u.push.apply(u,c);i(c,function(e){h(e,"",u)});l=a("center dir isindex noframes");o.push.apply(o,l);f=[].concat(o,u);i(l,function(e){h(e,"",f)})}f=f||[].concat(o,u);h("html","manifest","head body");h("head","","base command link meta noscript script style title");h("title hr noscript br");h("base","href target");h("link","href rel media hreflang type sizes hreflang");h("meta","name http-equiv content charset");h("style","media type scoped");h("script","src async defer type charset");h("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus "+"onhashchange onload onmessage onoffline ononline onpagehide onpageshow "+"onpopstate onresize onscroll onstorage onunload",f);h("address dt dd div caption","",f);h("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u);h("blockquote","cite",f);h("ol","reversed start type","li");h("ul","","li");h("li","value",f);h("dl","","dt dd");h("a","href target rel media hreflang type",u);h("q","cite",u);h("ins del","cite datetime",f);h("img","src alt usemap ismap width height");h("iframe","src name width height",f);h("embed","src type width height");h("object","data type typemustmatch name usemap form width height",f,"param");h("param","name value");h("map","name",f,"area");h("area","alt coords shape href target rel media hreflang type");h("table","border","caption colgroup thead tfoot tbody tr"+(e=="html4"?" col":""));h("colgroup","span","col");h("col","span");h("tbody thead tfoot","","tr");h("tr","","td th");h("td","colspan rowspan headers",f);h("th","colspan rowspan headers scope abbr",f);h("form","accept-charset action autocomplete enctype method name novalidate target",f);h("fieldset","disabled form name",f,"legend");h("label","form for",u);h("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate "+"formtarget height list max maxlength min multiple name pattern readonly required size src step type value width");h("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e=="html4"?f:u);h("select","disabled form multiple name required size","option optgroup");h("optgroup","disabled label","option");h("option","disabled label selected value");h("textarea","cols dirname disabled form maxlength name readonly required rows wrap");h("menu","type label",f,"li");h("noscript","",f);if(e!="html4"){h("wbr");h("ruby","",u,"rt rp");h("figcaption","",f);h("mark rt rp summary bdi","",u);h("canvas","width height",f);h("video","src crossorigin poster preload autoplay mediagroup loop "+"muted controls width height buffered",f,"track source");h("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",f,"track source");h("source","src type media");h("track","kind src srclang label default");h("datalist","",u,"option");h("article section nav aside header footer","",f);h("hgroup","","h1 h2 h3 h4 h5 h6");h("figure","",f,"figcaption");h("time","datetime",u);h("dialog","open",f);h("command","type label icon disabled checked radiogroup command");h("output","for form name",u);h("progress","value max",u);h("meter","value min max low high optimum",u);h("details","open",f,"summary");h("keygen","autofocus challenge disabled form keytype name")}if(e!="html5-strict"){p("script","language xml:space");p("style","xml:space");p("object","declare classid code codebase codetype archive standby align border hspace vspace");p("embed","align name hspace vspace");p("param","valuetype type");p("a","charset name rev shape coords");p("br","clear");p("applet","codebase archive code object alt name width height align hspace vspace");p("img","name longdesc align border hspace vspace");p("iframe","longdesc frameborder marginwidth marginheight scrolling align");p("font basefont","size color face");p("input","usemap align");p("select","onchange");p("textarea");p("h1 h2 h3 h4 h5 h6 div p legend caption","align");p("ul","type compact");p("li","type");p("ol dl menu dir","compact");p("pre","width xml:space");p("hr","align noshade size width");p("isindex","prompt");p("table","summary width frame rules cellspacing cellpadding align bgcolor");p("col","width align char charoff valign");p("colgroup","width align char charoff valign");p("thead","align char charoff valign");p("tr","align char charoff valign bgcolor");p("th","axis align char charoff valign nowrap bgcolor width height");p("form","accept");p("td","abbr axis scope align char charoff valign nowrap bgcolor width height");p("tfoot","align char charoff valign");p("tbody","align char charoff valign");p("area","nohref");p("body","background bgcolor text link vlink alink")}if(e!="html4"){p("input button select textarea","autofocus");p("input textarea","placeholder");p("a","download");p("link script img","crossorigin");p("iframe","sandbox seamless allowfullscreen")}i(a("a form meter progress dfn"),function(e){if(r[e]){delete r[e].children[e]}});delete r.caption.children.table;t[e]=r;return r}function l(e,t){var n;if(e){n={};if(typeof e=="string"){e={"*":e}}i(e,function(e,i){n[i]=t=="map"?r(e,/[, ]/):o(e,/[, ]/)})}return n}var t={},n={};var r=e.makeMap,i=e.each,s=e.extend,o=e.explode,u=e.inArray;return function(e){function L(n,i,o){var u=e[n];if(!u){u=t[n];if(!u){u=r(i," ",r(i.toUpperCase()," "));u=s(u,o);t[n]=u}}else{u=r(u,/[, ]/,r(u.toUpperCase(),/[, ]/))}return u}function A(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function O(e){var t,n,i,s,o,f,l,h,d,v,m,g,y,b,w,E,S,x,T,N=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e){e=a(e,",");if(c["@"]){E=c["@"].attributes;S=c["@"].attributesOrder}for(t=0,n=e.length;t<n;t++){o=N.exec(e[t]);if(o){b=o[1];d=o[2];w=o[3];h=o[5];g={};y=[];f={attributes:g,attributesOrder:y};if(b==="#"){f.paddEmpty=true}if(b==="-"){f.removeEmpty=true}if(o[4]==="!"){f.removeEmptyAttrs=true}if(E){for(x in E){g[x]=E[x]}y.push.apply(y,S)}if(h){h=a(h,"|");for(i=0,s=h.length;i<s;i++){o=C.exec(h[i]);if(o){l={};m=o[1];v=o[2].replace(/::/g,":");b=o[3];T=o[4];if(m==="!"){f.attributesRequired=f.attributesRequired||[];f.attributesRequired.push(v);l.required=true}if(m==="-"){delete g[v];y.splice(u(y,v),1);continue}if(b){if(b==="="){f.attributesDefault=f.attributesDefault||[];f.attributesDefault.push({name:v,value:T});l.defaultValue=T}if(b===":"){f.attributesForced=f.attributesForced||[];f.attributesForced.push({name:v,value:T});l.forcedValue=T}if(b==="<"){l.validValues=r(T,"?")}}if(k.test(v)){f.attributePatterns=f.attributePatterns||[];l.pattern=A(v);f.attributePatterns.push(l)}else{if(!g[v]){y.push(v)}g[v]=l}}}}if(!E&&d=="@"){E=g;S=y}if(w){f.outputName=d;c[w]=f}if(k.test(d)){f.pattern=A(d);p.push(f)}else{c[d]=f}}}}}function M(e){c={};p=[];O(e);i(m,function(e,t){h[t]=e.children})}function _(e){var n=/^(~)?(.+)$/;if(e){t.text_block_elements=t.block_elements=null;i(a(e,","),function(e){var t=n.exec(e),r=t[1]==="~",o=r?"span":"div",u=t[2];h[u]=h[o];C[u]=o;if(!r){S[u.toUpperCase()]={};S[u]={}}if(!c[u]){var a=c[o];a=s({},a);delete a.removeEmptyAttrs;delete a.removeEmpty;c[u]=a}i(h,function(e,t){if(e[o]){h[t]=e=s({},h[t]);e[u]=e[o]}})})}}function D(e){var t=/^([+\-]?)(\w+)\[([^\]]+)\]$/;if(e){i(a(e,","),function(e){var n=t.exec(e),r,o;if(n){o=n[1];if(o){r=h[n[2]]}else{r=h[n[2]]={"#comment":{}}}r=h[n[2]];i(a(n[3],"|"),function(e){if(o==="-"){h[n[2]]=r=s({},h[n[2]]);delete r[e]}else{r[e]={}}})}})}}function P(e){var t=c[e],n;if(t){return t}n=p.length;while(n--){t=p[n];if(t.pattern.test(e)){return t}}}var n=this,c={},h={},p=[],d,v,m;var g,y,b,w,E;var S,x,T,N;var C={},k={};e=e||{};m=f(e.schema);if(e.verify_html===false){e.valid_elements="*[*]"}d=l(e.valid_styles);v=l(e.invalid_styles,"map");E=l(e.valid_classes,"map");g=L("whitespace_elements","pre script noscript style textarea video audio iframe object");y=L("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr");b=L("short_ended_elements","area base basefont br col frame hr img input isindex link "+"meta param embed source wbr track");w=L("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize "+"noshade nowrap readonly selected autoplay loop controls");x=L("non_empty_elements","td th iframe video audio object script",b);T=L("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form "+"blockquote center dir fieldset header footer article section hgroup aside nav figure");S=L("block_elements","hr table tbody thead tfoot "+"th tr td li ol ul caption dl dt dd noscript menu isindex option "+"datalist select optgroup",T);N=L("text_inline_elements","span strong b em i font strike u var cite "+"dfn code mark q sup sub samp");i((e.special||"script noscript style textarea").split(" "),function(e){k[e]=new RegExp("</"+e+"[^>]*>","gi")});if(!e.valid_elements){i(m,function(e,t){c[t]={attributes:e.attributes,attributesOrder:e.attributesOrder};h[t]=e.children});if(e.schema!="html5"){i(a("strong/b em/i"),function(e){e=a(e,"/");c[e[1]].outputName=e[0]})}c.img.attributesDefault=[{name:"alt",value:""}];i(a("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){if(c[e]){c[e].removeEmpty=true}});i(a("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){c[e].paddEmpty=true});i(a("span"),function(e){c[e].removeEmptyAttrs=true})}else{M(e.valid_elements)}_(e.custom_elements);D(e.valid_children);O(e.extended_valid_elements);D("+ol[ul|ol],+ul[ul|ol]");if(e.invalid_elements){i(o(e.invalid_elements),function(e){if(c[e]){delete c[e]}})}if(!P("span")){O("span[!data-mce-type|*]")}n.children=h;n.getValidStyles=function(){return d};n.getInvalidStyles=function(){return v};n.getValidClasses=function(){return E};n.getBoolAttrs=function(){return w};n.getBlockElements=function(){return S};n.getTextBlockElements=function(){return T};n.getTextInlineElements=function(){return N};n.getShortEndedElements=function(){return b};n.getSelfClosingElements=function(){return y};n.getNonEmptyElements=function(){return x};n.getWhiteSpaceElements=function(){return g};n.getSpecialElements=function(){return k};n.isValidChild=function(e,t){var n=h[e];return!!(n&&n[t])};n.isValid=function(e,t){var n,r,i=P(e);if(i){if(t){if(i.attributes[t]){return true}n=i.attributePatterns;if(n){r=n.length;while(r--){if(n[r].pattern.test(e)){return true}}}}else{return true}}return false};n.getElementRule=P;n.getCustomElements=function(){return C};n.addValidElements=O;n.setValidElements=M;n.addCustomElements=_;n.addValidChildren=D;n.elements=c}});i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,t,n){function i(e,t,n){var r=1,i,s,o,u;u=e.getShortEndedElements();o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;o.lastIndex=i=n;while(s=o.exec(t)){i=o.lastIndex;if(s[1]==="/"){r--}else if(!s[1]){if(s[2]in u){continue}r++}if(r===0){break}}return i}function s(s,o){function a(){}var u=this;s=s||{};u.schema=o=o||new e;if(s.fix_self_closing!==false){s.fix_self_closing=true}r("comment cdata text start end pi doctype".split(" "),function(e){if(e){u[e]=s[e]||a}});u.parse=function(e){function z(e){var t,n;t=c.length;while(t--){if(c[t].name===e){break}}if(t>=0){for(n=c.length-1;n>=t;n--){e=c[n];if(e.valid){r.end(e.name)}}c.length=t}}function W(e,t,n,r,i){var o,u,a=/[\s\u0000-\u001F]+/g;t=t.toLowerCase();n=t in b?t:F(n||r||i||"");if(E&&!m&&t.indexOf("data-")!==0){o=C[t];if(!o&&k){u=k.length;while(u--){o=k[u];if(o.pattern.test(t)){break}}if(u===-1){o=null}}if(!o){return}if(o.validValues&&!(n in o.validValues)){return}}if(q[t]&&!s.allow_script_urls){var f=n.replace(a,"");try{f=decodeURIComponent(f)}catch(l){f=unescape(f)}if(R.test(f)){return}if(!s.allow_html_data_urls&&U.test(f)&&!/^data:image\//i.test(f)){return}}h.map[t]=n;h.push({name:t,value:n})}var r=this,u,a=0,f,l,c=[],h,p,d,v;var m,g,y,b,w;var E,S,x,T,N,C,k;var L,A,O;var M,_,D,P,H,B,j=0;var F=t.decode,I,q=n.makeMap("src,href,data,background,formaction,poster");var R=/((java|vb)script|mhtml):/i,U=/^data:/i;D=new RegExp("<(?:"+"(?:!--([\\w\\W]*?)-->)|"+"(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|"+"(?:!DOCTYPE([\\w\\W]*?)>)|"+"(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|"+"(?:\\/([^>]+)>)|"+"(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>)"+")","g");P=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g;y=o.getShortEndedElements();_=s.self_closing_elements||o.getSelfClosingElements();b=o.getBoolAttrs();E=s.validate;g=s.remove_internals;I=s.fix_self_closing;H=o.getSpecialElements();while(u=D.exec(e)){if(a<u.index){r.text(F(e.substr(a,u.index-a)))}if(f=u[6]){f=f.toLowerCase();if(f.charAt(0)===":"){f=f.substr(1)}z(f)}else if(f=u[7]){f=f.toLowerCase();if(f.charAt(0)===":"){f=f.substr(1)}w=f in y;if(I&&_[f]&&c.length>0&&c[c.length-1].name===f){z(f)}if(!E||(S=o.getElementRule(f))){x=true;if(E){C=S.attributes;k=S.attributePatterns}if(N=u[8]){m=N.indexOf("data-mce-type")!==-1;if(m&&g){x=false}h=[];h.map={};N.replace(P,W)}else{h=[];h.map={}}if(E&&!m){L=S.attributesRequired;A=S.attributesDefault;O=S.attributesForced;M=S.removeEmptyAttrs;if(M&&!h.length){x=false}if(O){p=O.length;while(p--){T=O[p];v=T.name;B=T.value;if(B==="{$uid}"){B="mce_"+j++}h.map[v]=B;h.push({name:v,value:B})}}if(A){p=A.length;while(p--){T=A[p];v=T.name;if(!(v in h.map)){B=T.value;if(B==="{$uid}"){B="mce_"+j++}h.map[v]=B;h.push({name:v,value:B})}}}if(L){p=L.length;while(p--){if(L[p]in h.map){break}}if(p===-1){x=false}}if(T=h.map["data-mce-bogus"]){if(T==="all"){a=i(o,e,D.lastIndex);D.lastIndex=a;continue}x=false}}if(x){r.start(f,h,w)}}else{x=false}if(l=H[f]){l.lastIndex=a=u.index+u[0].length;if(u=l.exec(e)){if(x){d=e.substr(a,u.index-a)}a=u.index+u[0].length}else{d=e.substr(a);a=e.length}if(x){if(d.length>0){r.text(d,true)}r.end(f)}D.lastIndex=a;continue}if(!w){if(!N||N.indexOf("/")!=N.length-1){c.push({name:f,valid:x})}else if(x){r.end(f)}}}else if(f=u[1]){if(f.charAt(0)===">"){f=" "+f}if(!s.allow_conditional_comments&&f.substr(0,3)==="[if"){f=" "+f}r.comment(f)}else if(f=u[2]){r.cdata(f)}else if(f=u[3]){r.doctype(f)}else if(f=u[4]){r.pi(f,u[5])}a=u.index+u[0].length}if(a<e.length){r.text(F(e.substr(a)))}for(p=c.length-1;p>=0;p--){f=c[p];if(f.valid){r.end(f.name)}}}}var r=n.each;s.findEndTag=i;return s});i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(e,t,n,r){var i=r.makeMap,s=r.each,o=r.explode,u=r.extend;return function(r,a){function d(t){var n,r,s,o,u,l,c,h,p;var d,v,m,g,y;v=i("tr,td,th,tbody,thead,tfoot,table");d=a.getNonEmptyElements();m=a.getTextBlockElements();for(n=0;n<t.length;n++){r=t[n];if(!r.parent||r.fixed){continue}if(m[r.name]&&r.parent.name=="li"){g=r.next;while(g){if(m[g.name]){g.name="li";g.fixed=true;r.parent.insert(g,r.parent)}else{break}g=g.next}r.unwrap(r);continue}o=[r];for(s=r.parent;s&&!a.isValidChild(s.name,r.name)&&!v[s.name];s=s.parent){o.push(s)}if(s&&o.length>1){o.reverse();u=l=f.filterNode(o[0].clone());for(p=0;p<o.length-1;p++){if(a.isValidChild(l.name,o[p].name)){c=f.filterNode(o[p].clone());l.append(c)}else{c=l}for(h=o[p].firstChild;h&&h!=o[p+1];){y=h.next;c.append(h);h=y}l=c}if(!u.isEmpty(d)){s.insert(u,o[0],true);s.insert(r,u)}else{s.insert(r,o[0],true)}s=o[0];if(s.isEmpty(d)||s.firstChild===s.lastChild&&s.firstChild.name==="br"){s.empty().remove()}}else if(r.parent){if(r.name==="li"){g=r.prev;if(g&&(g.name==="ul"||g.name==="ul")){g.append(r);continue}g=r.next;if(g&&(g.name==="ul"||g.name==="ul")){g.insert(r,g.firstChild,true);continue}r.wrap(f.filterNode(new e("ul",1)));continue}if(a.isValidChild(r.parent.name,"div")&&a.isValidChild("div",r.name)){r.wrap(f.filterNode(new e("div",1)))}else{if(r.name==="style"||r.name==="script"){r.empty().remove()}else{r.unwrap()}}}}}var f=this,l={},c=[],h={},p={};r=r||{};r.validate="validate"in r?r.validate:true;r.root_name=r.root_name||"body";f.schema=a=a||new t;f.filterNode=function(e){var t,n,r;if(n in l){r=h[n];if(r){r.push(e)}else{h[n]=[e]}}t=c.length;while(t--){n=c[t].name;if(n in e.attributes.map){r=p[n];if(r){r.push(e)}else{p[n]=[e]}}}return e};f.addNodeFilter=function(e,t){s(o(e),function(e){var n=l[e];if(!n){l[e]=n=[]}n.push(t)})};f.addAttributeFilter=function(e,t){s(o(e),function(e){var n;for(n=0;n<c.length;n++){if(c[n].name===e){c[n].callbacks.push(t);return}}c.push({name:e,callbacks:[t]})})};f.parse=function(t,s){function H(){function i(t){if(t){e=t.firstChild;if(e&&e.type==3){e.value=e.value.replace(N,"")}e=t.lastChild;if(e&&e.type==3){e.value=e.value.replace(L,"")}}}var e=f.firstChild,t,n;if(!a.isValidChild(f.name,P.toLowerCase())){return}while(e){t=e.next;if(e.type==3||e.type==1&&e.name!=="p"&&!T[e.name]&&!e.attr("data-mce-type")){if(!n){n=B(P,1);n.attr(r.forced_root_block_attrs);f.insert(n,e);n.append(e)}else{n.append(e)}}else{i(n);n=null}e=t}i(n)}function B(t,n){var r=new e(t,n),i;if(t in l){i=h[t];if(i){i.push(r)}else{h[t]=[r]}}return r}function j(e){var t,n,r;for(t=e.prev;t&&t.type===3;){n=t.value.replace(L,"");if(n.length>0){t.value=n;t=t.prev}else{r=t.prev;t.remove();t=r}}}function F(e){var t,n={};for(t in e){if(t!=="li"&&t!="p"){n[t]=e[t]}}return n}var o,f,v,m,g,y,b,w,E,S,x;var T,N,C=[],k;var L,A,O,M;var _,D,P;s=s||{};h={};p={};T=u(i("script,style,head,html,body,title,meta,param"),a.getBlockElements());D=a.getNonEmptyElements();_=a.children;x=r.validate;P="forced_root_block"in s?s.forced_root_block:r.forced_root_block;M=a.getWhiteSpaceElements();N=/^[ \t\r\n]+/;L=/[ \t\r\n]+$/;A=/[ \t\r\n]+/g;O=/^[ \t\r\n]+$/;o=new n({validate:x,allow_script_urls:r.allow_script_urls,allow_conditional_comments:r.allow_conditional_comments,self_closing_elements:F(a.getSelfClosingElements()),cdata:function(e){v.append(B("#cdata",4)).value=e},text:function(e,t){var n;if(!k){e=e.replace(A," ");if(v.lastChild&&T[v.lastChild.name]){e=e.replace(N,"")}}if(e.length!==0){n=B("#text",3);n.raw=!!t;v.append(n).value=e}},comment:function(e){v.append(B("#comment",8)).value=e},pi:function(e,t){v.append(B(e,7)).value=t;j(v)},doctype:function(e){var t;t=v.append(B("#doctype",10));t.value=e;j(v)},start:function(e,t,n){var r,i,s,o,u;s=x?a.getElementRule(e):{};if(s){r=B(s.outputName||e,1);r.attributes=t;r.shortEnded=n;v.append(r);u=_[v.name];if(u&&_[r.name]&&!u[r.name]){C.push(r)}i=c.length;while(i--){o=c[i].name;if(o in t.map){E=p[o];if(E){E.push(r)}else{p[o]=[r]}}}if(T[e]){j(r)}if(!n){v=r}if(!k&&M[e]){k=true}}},end:function(t){var n,r,i,s,o;r=x?a.getElementRule(t):{};if(r){if(T[t]){if(!k){n=v.firstChild;if(n&&n.type===3){i=n.value.replace(N,"");if(i.length>0){n.value=i;n=n.next}else{s=n.next;n.remove();n=s;while(n&&n.type===3){i=n.value;s=n.next;if(i.length===0||O.test(i)){n.remove();n=s}n=s}}}n=v.lastChild;if(n&&n.type===3){i=n.value.replace(L,"");if(i.length>0){n.value=i;n=n.prev}else{s=n.prev;n.remove();n=s;while(n&&n.type===3){i=n.value;s=n.prev;if(i.length===0||O.test(i)){n.remove();n=s}n=s}}}}}if(k&&M[t]){k=false}if(r.removeEmpty||r.paddEmpty){if(v.isEmpty(D)){if(r.paddEmpty){v.empty().append(new e("#text","3")).value=" "}else{if(!v.attributes.map.name&&!v.attributes.map.id){o=v.parent;if(T[v.name]){v.empty().remove()}else{v.unwrap()}v=o;return}}}}v=v.parent}}},a);f=v=new e(s.context||r.root_name,11);o.parse(t);if(x&&C.length){if(!s.context){d(C)}else{s.invalid=true}}if(P&&(f.name=="body"||s.isRootContent)){H()}if(!s.invalid){for(S in h){E=l[S];m=h[S];b=m.length;while(b--){if(!m[b].parent){m.splice(b,1)}}for(g=0,y=E.length;g<y;g++){E[g](m,S,s)}}for(g=0,y=c.length;g<y;g++){E=c[g];if(E.name in p){m=p[E.name];b=m.length;while(b--){if(!m[b].parent){m.splice(b,1)}}for(b=0,w=E.callbacks.length;b<w;b++){E.callbacks[b](m,E.name,s)}}}}return f};if(r.remove_trailing_brs){f.addNodeFilter("br",function(t){var n,r=t.length,i,s=u({},a.getBlockElements());var o=a.getNonEmptyElements(),f,l,c,h;var p,d;s.body=1;for(n=0;n<r;n++){i=t[n];f=i.parent;if(s[i.parent.name]&&i===f.lastChild){c=i.prev;while(c){h=c.name;if(h!=="span"||c.attr("data-mce-type")!=="bookmark"){if(h!=="br"){break}if(h==="br"){i=null;break}}c=c.prev}if(i){i.remove();if(f.isEmpty(o)){p=a.getElementRule(f.name);if(p){if(p.removeEmpty){f.remove()}else if(p.paddEmpty){f.empty().append(new e("#text",3)).value=" "}}}}}else{l=i;while(f&&f.firstChild===l&&f.lastChild===l){l=f;if(s[f.name]){break}f=f.parent}if(l===f){d=new e("#text",3);d.value=" ";i.replace(d)}}}})}if(!r.allow_html_in_named_anchor){f.addAttributeFilter("id,name",function(e){var t=e.length,n,r,i,s;while(t--){s=e[t];if(s.name==="a"&&s.firstChild&&!s.attr("href")){i=s.parent;n=s.lastChild;do{r=n.prev;i.insert(n,s);n=r}while(n)}}})}if(r.validate&&a.getValidClasses()){f.addAttributeFilter("class",function(e){var t=e.length,n,r,i,s,o;var u=a.getValidClasses(),f,l;while(t--){n=e[t];r=n.attr("class").split(" ");o="";for(i=0;i<r.length;i++){s=r[i];l=false;f=u["*"];if(f&&f[s]){l=true}f=u[n.name];if(!l&&f&&!f[s]){l=true}if(l){if(o){o+=" "}o+=s}}if(!o.length){o=null}n.attr("class",o)}})}}});i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(e,t){var n=t.makeMap;return function(t){var r=[],i,s,o,u,a;t=t||{};i=t.indent;s=n(t.indent_before||"");o=n(t.indent_after||"");u=e.getEncodeFunc(t.entity_encoding||"raw",t.entities);a=t.element_format=="html";return{start:function(e,t,n){var f,l,c,h;if(i&&s[e]&&r.length>0){h=r[r.length-1];if(h.length>0&&h!=="\n"){r.push("\n")}}r.push("<",e);if(t){for(f=0,l=t.length;f<l;f++){c=t[f];r.push(" ",c.name,'="',u(c.value,true),'"')}}if(!n||a){r[r.length]=">"}else{r[r.length]=" />"}if(n&&i&&o[e]&&r.length>0){h=r[r.length-1];if(h.length>0&&h!=="\n"){r.push("\n")}}},end:function(e){var t;r.push("</",e,">");if(i&&o[e]&&r.length>0){t=r[r.length-1];if(t.length>0&&t!=="\n"){r.push("\n")}}},text:function(e,t){if(e.length>0){r[r.length]=t?e:u(e)}},cdata:function(e){r.push("<![CDATA[",e,"]]>")},comment:function(e){r.push("<!--",e,"-->")},pi:function(e,t){if(t){r.push("<?",e," ",t,"?>")}else{r.push("<?",e,"?>")}if(i){r.push("\n")}},doctype:function(e){r.push("<!DOCTYPE",e,">",i?"\n":"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}}});i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(e,t){return function(n,r){var i=this,s=new e(n);n=n||{};n.validate="validate"in n?n.validate:true;i.schema=r=r||new t;i.writer=s;i.serialize=function(e){function o(e){var n=t[e.type],u,a,f,l,c,h,p,d,v;if(!n){u=e.name;a=e.shortEnded;f=e.attributes;if(i&&f&&f.length>1){h=[];h.map={};v=r.getElementRule(e.name);for(p=0,d=v.attributesOrder.length;p<d;p++){l=v.attributesOrder[p];if(l in f.map){c=f.map[l];h.map[l]=c;h.push({name:l,value:c})}}for(p=0,d=f.length;p<d;p++){l=f[p].name;if(!(l in h.map)){c=f.map[l];h.map[l]=c;h.push({name:l,value:c})}}f=h}s.start(e.name,f,a);if(!a){if(e=e.firstChild){do{o(e)}while(e=e.next)}s.end(u)}}else{n(e)}}var t,i;i=n.validate;t={3:function(e){s.text(e.value,e.raw)},8:function(e){s.comment(e.value)},7:function(e){s.pi(e.name,e.value)},10:function(e){s.doctype(e.value)},4:function(e){s.cdata(e.value)},11:function(e){if(e=e.firstChild){do{o(e)}while(e=e.next)}}};s.reset();if(e.type==1&&!n.inner){o(e)}else{t[11](e)}return s.getContent()}}});i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools"],function(e,t,n,r,i,s,o,u){var a=u.each,f=u.trim;var l=e.DOM;return function(e,i){var u,c,h;if(i){u=i.dom;c=i.schema}u=u||l;c=c||new s(e);e.entity_encoding=e.entity_encoding||"named";e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:true;h=new t(e,c);h.addAttributeFilter("data-mce-tabindex",function(e,t){var n=e.length,r;while(n--){r=e[n];r.attr("tabindex",r.attributes.map["data-mce-tabindex"]);r.attr(t,null)}});h.addAttributeFilter("src,href,style",function(t,n){var r=t.length,i,s,o="data-mce-"+n;var a=e.url_converter,f=e.url_converter_scope,l;while(r--){i=t[r];s=i.attributes.map[o];if(s!==l){i.attr(n,s.length>0?s:null);i.attr(o,null)}else{s=i.attributes.map[n];if(n==="style"){s=u.serializeStyle(u.parseStyle(s),i.name)}else if(a){s=a.call(f,s,n,i.name)}i.attr(n,s.length>0?s:null)}}});h.addAttributeFilter("class",function(e){var t=e.length,n,r;while(t--){n=e[t];r=n.attr("class");if(r){r=n.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,"");n.attr("class",r.length>0?r:null)}}});h.addAttributeFilter("data-mce-type",function(e,t,n){var r=e.length,i;while(r--){i=e[r];if(i.attributes.map["data-mce-type"]==="bookmark"&&!n.cleanup){i.remove()}}});h.addNodeFilter("noscript",function(e){var t=e.length,r;while(t--){r=e[t].firstChild;if(r){r.value=n.decode(r.value)}}});h.addNodeFilter("script,style",function(e,t){function o(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}var n=e.length,r,i,s;while(n--){r=e[n];i=r.firstChild?r.firstChild.value:"";if(t==="script"){s=r.attr("type");if(s){r.attr("type",s=="mce-no/type"?null:s.replace(/^mce\-/,""))}if(i.length>0){r.firstChild.value="// <![CDATA[\n"+o(i)+"\n// ]]>"}}else{if(i.length>0){r.firstChild.value="<!--\n"+o(i)+"\n-->"}}}});h.addNodeFilter("#comment",function(e){var t=e.length,n;while(t--){n=e[t];if(n.value.indexOf("[CDATA[")===0){n.name="#cdata";n.type=4;n.value=n.value.replace(/^\[CDATA\[|\]\]$/g,"")}else if(n.value.indexOf("mce:protected ")===0){n.name="#text";n.type=3;n.raw=true;n.value=unescape(n.value).substr(14)}}});h.addNodeFilter("xml:namespace,input",function(e,t){var n=e.length,r;while(n--){r=e[n];if(r.type===7){r.remove()}else if(r.type===1){if(t==="input"&&!("type"in r.attributes.map)){r.attr("type","text")}}}});if(e.fix_list_elements){h.addNodeFilter("ul,ol",function(e){var t=e.length,n,r;while(t--){n=e[t];r=n.parent;if(r.name==="ul"||r.name==="ol"){if(n.prev&&n.prev.name==="li"){n.prev.append(n)}}}})}h.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,"+"data-mce-selected,data-mce-expando,"+"data-mce-type,data-mce-resize",function(e,t){var n=e.length;while(n--){e[n].attr(t,null)}});return{schema:c,addNodeFilter:h.addNodeFilter,addAttributeFilter:h.addAttributeFilter,serialize:function(t,n){var i=this,s,l,p,d,v;if(o.ie&&u.select("script,style,select,map").length>0){v=t.innerHTML;t=t.cloneNode(false);u.setHTML(t,v)}else{t=t.cloneNode(true)}s=t.ownerDocument.implementation;if(s.createHTMLDocument){l=s.createHTMLDocument("");a(t.nodeName=="BODY"?t.childNodes:[t],function(e){l.body.appendChild(l.importNode(e,true))});if(t.nodeName!="BODY"){t=l.body.firstChild}else{t=l.body}p=u.doc;u.doc=l}n=n||{};n.format=n.format||"html";if(n.selection){n.forced_root_block=""}if(!n.no_events){n.node=t;i.onPreProcess(n)}d=new r(e,c);n.content=d.serialize(h.parse(f(n.getInner?t.innerHTML:u.getOuterHTML(t)),n));if(!n.cleanup){n.content=n.content.replace(/\uFEFF/g,"")}if(!n.no_events){i.onPostProcess(n)}if(p){u.doc=p}n.node=null;return n.content},addRules:function(e){c.addValidElements(e)},setRules:function(e){c.setValidElements(e)},onPreProcess:function(e){if(i){i.fire("PreProcess",e)}},onPostProcess:function(e){if(i){i.fire("PostProcess",e)}}}}});i("tinymce/dom/TridentSelection",[],function(){function e(e){function i(t,n){var r,i=0,s,o,u,a,f,l,c=-1,h;r=t.duplicate();r.collapse(n);h=r.parentElement();if(h.ownerDocument!==e.dom.doc){return}while(h.contentEditable==="false"){h=h.parentNode}if(!h.hasChildNodes()){return{node:h,inside:1}}u=h.children;s=u.length-1;while(i<=s){l=Math.floor((i+s)/2);a=u[l];r.moveToElementText(a);c=r.compareEndPoints(n?"StartToStart":"EndToEnd",t);if(c>0){s=l-1}else if(c<0){i=l+1}else{return{node:a}}}if(c<0){if(!a){r.moveToElementText(h);r.collapse(true);a=h;o=true}else{r.collapse(false)}f=0;while(r.compareEndPoints(n?"StartToStart":"StartToEnd",t)!==0){if(r.move("character",1)===0||h!=r.parentElement()){break}f++}}else{r.collapse(true);f=0;while(r.compareEndPoints(n?"StartToStart":"StartToEnd",t)!==0){if(r.move("character",-1)===0||h!=r.parentElement()){break}f++}}return{node:a,position:c,offset:f,inside:o}}function s(){function c(e){var t=i(r,e),n,o,u=0,a,f,l;n=t.node;o=t.offset;if(t.inside&&!n.hasChildNodes()){s[e?"setStart":"setEnd"](n,0);return}if(o===f){s[e?"setStartBefore":"setEndAfter"](n);return}if(t.position<0){a=t.inside?n.firstChild:n.nextSibling;if(!a){s[e?"setStartAfter":"setEndAfter"](n);return}if(!o){if(a.nodeType==3){s[e?"setStart":"setEnd"](a,0)}else{s[e?"setStartBefore":"setEndBefore"](a)}return}while(a){if(a.nodeType==3){l=a.nodeValue;u+=l.length;if(u>=o){n=a;u-=o;u=l.length-u;break}}a=a.nextSibling}}else{a=n.previousSibling;if(!a){return s[e?"setStartBefore":"setEndBefore"](n)}if(!o){if(n.nodeType==3){s[e?"setStart":"setEnd"](a,n.nodeValue.length)}else{s[e?"setStartAfter":"setEndAfter"](a)}return}while(a){if(a.nodeType==3){u+=a.nodeValue.length;if(u>=o){n=a;u-=o;break}}a=a.previousSibling}}s[e?"setStart":"setEnd"](n,u)}var r=e.getRng(),s=n.createRng(),o,u,a,f,l;o=r.item?r.item(0):r.parentElement();if(o.ownerDocument!=n.doc){return s}u=e.isCollapsed();if(r.item){s.setStart(o.parentNode,n.nodeIndex(o));s.setEnd(s.startContainer,s.startOffset+1);return s}try{c(true);if(!u){c()}}catch(h){if(h.number==-2147024809){l=t.getBookmark(2);a=r.duplicate();a.collapse(true);o=a.parentElement();if(!u){a=r.duplicate();a.collapse(false);f=a.parentElement();f.innerHTML=f.innerHTML}o.innerHTML=o.innerHTML;t.moveToBookmark(l);r=e.getRng();c(true);if(!u){c()}}else{throw h}}return s}var t=this,n=e.dom,r=false;this.getBookmark=function(t){function o(e){var t,r,i,s,o=[];t=e.parentNode;r=n.getRoot().parentNode;while(t!=r&&t.nodeType!==9){i=t.children;s=i.length;while(s--){if(e===i[s]){o.push(s);break}}e=t;t=t.parentNode}return o}function u(e){var t;t=i(r,e);if(t){return{position:t.position,offset:t.offset,indexes:o(t.node),inside:t.inside}}}var r=e.getRng(),s={};if(t===2){if(!r.item){s.start=u(true);if(!e.isCollapsed()){s.end=u()}}else{s.start={ctrl:true,indexes:o(r.item(0))}}}return s};this.moveToBookmark=function(e){function i(e){var t,r,i,s;t=n.getRoot();for(r=e.length-1;r>=0;r--){s=t.children;i=e[r];if(i<=s.length-1){t=s[i]}}return t}function s(n){var s=e[n?"start":"end"],o,u,a,f;if(s){o=s.position>0;u=r.createTextRange();u.moveToElementText(i(s.indexes));f=s.offset;if(f!==a){u.collapse(s.inside||o);u.moveStart("character",o?-f:f)}else{u.collapse(n)}t.setEndPoint(n?"StartToStart":"EndToStart",u);if(n){t.collapse(true)}}}var t,r=n.doc.body;if(e.start){if(e.start.ctrl){t=r.createControlRange();t.addElement(i(e.start.indexes));t.select()}else{t=r.createTextRange();s(true);s();t.select()}}};this.addRange=function(t){function v(e){var t,s,l,p,d;l=n.create("a");t=e?o:a;s=e?u:f;p=i.duplicate();if(t==c||t==c.documentElement){t=h;s=0}if(t.nodeType==3){t.parentNode.insertBefore(l,t);p.moveToElementText(l);p.moveStart("character",s);n.remove(l);i.setEndPoint(e?"StartToStart":"EndToEnd",p)}else{d=t.childNodes;if(d.length){if(s>=d.length){n.insertAfter(l,d[d.length-1])}else{t.insertBefore(l,d[s])}p.moveToElementText(l)}else if(t.canHaveHTML){t.innerHTML="<span>&#xFEFF;</span>";l=t.firstChild;p.moveToElementText(l);p.collapse(r)}i.setEndPoint(e?"StartToStart":"EndToEnd",p);n.remove(l)}}var i,s,o,u,a,f,l,c=e.dom.doc,h=c.body,p,d;o=t.startContainer;u=t.startOffset;a=t.endContainer;f=t.endOffset;i=h.createTextRange();if(o==a&&o.nodeType==1){if(u==f&&!o.hasChildNodes()){if(o.canHaveHTML){l=o.previousSibling;if(l&&!l.hasChildNodes()&&n.isBlock(l)){l.innerHTML="&#xFEFF;"}else{l=null}o.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>";i.moveToElementText(o.lastChild);i.select();n.doc.selection.clear();o.innerHTML="";if(l){l.innerHTML=""}return}else{u=n.nodeIndex(o);o=o.parentNode}}if(u==f-1){try{d=o.childNodes[u];s=h.createControlRange();s.addElement(d);s.select();p=e.getRng();if(p.item&&d===p.item(0)){return}}catch(m){}}}v(true);v();i.select()};this.getRangeAt=s}return e});i("tinymce/util/VK",["tinymce/Env"],function(e){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey},metaKeyPressed:function(t){return e.mac?t.metaKey:t.ctrlKey&&!t.altKey}}});i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/Env"],function(e,t,n){return function(r,i){function _(e){var t=i.settings.object_resizing;if(t===false||n.iOS){return false}if(typeof t!="string"){t="table,img,div"}if(e.getAttribute("data-mce-resize")==="false"){return false}return i.dom.is(e,t)}function D(t){var n,r,o;var l,h;n=t.screenX-p;r=t.screenY-d;E=n*c[2]+g;S=r*c[3]+y;E=E<5?5:E;S=S<5?5:S;if(u.nodeName=="IMG"&&i.settings.resize_img_proportional!==false){o=!e.modifierPressed(t)}else{o=e.modifierPressed(t)||u.nodeName=="IMG"&&c[2]*c[3]!==0}if(o){if(C(n)>C(r)){S=k(E*b);E=k(S/b)}else{E=k(S/b);S=k(E*b)}}s.setStyles(a,{width:E,height:S});l=c.startPos.x+n;h=c.startPos.y+r;l=l>0?l:0;h=h>0?h:0;s.setStyles(f,{left:l,top:h,display:"block"});f.innerHTML=E+" &times; "+S;if(c[2]<0&&a.clientWidth<=E){s.setStyle(a,"left",v+(g-E))}if(c[3]<0&&a.clientHeight<=S){s.setStyle(a,"top",m+(y-S))}n=L.scrollWidth-A;r=L.scrollHeight-O;if(n+r!==0){s.setStyles(f,{left:l-n,top:h-r})}if(!w){i.fire("ObjectResizeStart",{target:u,width:g,height:y});w=true}}function P(){function e(e,t){if(t){if(u.style[e]||!i.schema.isValid(u.nodeName.toLowerCase(),e)){s.setStyle(u,e,t)}else{s.setAttrib(u,e,t)}}}w=false;e("width",E);e("height",S);s.unbind(x,"mousemove",D);s.unbind(x,"mouseup",P);if(T!=x){s.unbind(T,"mousemove",D);s.unbind(T,"mouseup",P)}s.remove(a);s.remove(f);if(!N||u.nodeName=="TABLE"){H(u)}i.fire("ObjectResized",{target:u,width:E,height:S});s.setAttrib(u,"style",s.getAttrib(u,"style"));i.nodeChanged()}function H(e,t,r){var h,w,N,C,k;z();h=s.getPos(e,L);v=h.x;m=h.y;k=e.getBoundingClientRect();w=k.width||k.right-k.left;N=k.height||k.bottom-k.top;if(u!=e){U();u=e;E=S=0}C=i.fire("ObjectSelected",{target:e});if(_(e)&&!C.isDefaultPrevented()){o(l,function(e,i){function h(t){p=t.screenX;d=t.screenY;g=u.clientWidth;y=u.clientHeight;b=y/g;c=e;e.startPos={x:w*e[0]+v,y:N*e[1]+m};A=L.scrollWidth;O=L.scrollHeight;a=u.cloneNode(true);s.addClass(a,"mce-clonedresizable");s.setAttrib(a,"data-mce-bogus","all");a.contentEditable=false;a.unSelectabe=true;s.setStyles(a,{left:v,top:m,margin:0});a.removeAttribute("data-mce-selected");L.appendChild(a);s.bind(x,"mousemove",D);s.bind(x,"mouseup",P);if(T!=x){s.bind(T,"mousemove",D);s.bind(T,"mouseup",P)}f=s.add(L,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},g+" &times; "+y)}var o,l;if(t){if(i==t){h(r)}return}o=s.get("mceResizeHandle"+i);if(!o){l=L;o=s.add(l,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:true,style:"cursor:"+i+"-resize; margin:0; padding:0"});if(n.ie){o.contentEditable=false}}else{s.show(o)}if(!e.elm){s.bind(o,"mousedown",function(e){e.stopImmediatePropagation();e.preventDefault();h(e)});e.elm=o}s.setStyles(o,{left:w*e[0]+v-o.offsetWidth/2,top:N*e[1]+m-o.offsetHeight/2})})}else{B()}u.setAttribute("data-mce-selected","1")}function B(){var e,t;z();if(u){u.removeAttribute("data-mce-selected")}for(e in l){t=s.get("mceResizeHandle"+e);if(t){s.unbind(t);s.remove(t)}}}function j(e){function i(e,t){if(e){do{if(e===t){return true}}while(e=e.parentNode)}}var t,n;if(w){return}o(s.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")});n=e.type=="mousedown"?e.target:r.getNode();n=s.$(n).closest(N?"table":"table,img,hr")[0];if(i(n,L)){W();t=r.getStart(true);if(i(t,n)&&i(r.getEnd(true),n)){if(!N||n!=t&&t.nodeName!=="IMG"){H(n);return}}}B()}function F(e,t,n){if(e&&e.attachEvent){e.attachEvent("on"+t,n)}}function I(e,t,n){if(e&&e.detachEvent){e.detachEvent("on"+t,n)}}function q(e){var t=e.srcElement,n,r,s,o,a,f,p;n=t.getBoundingClientRect();f=h.clientX-n.left;p=h.clientY-n.top;for(r in l){s=l[r];o=t.offsetWidth*s[0];a=t.offsetHeight*s[1];if(C(o-f)<8&&C(a-p)<8){c=s;break}}w=true;i.fire("ObjectResizeStart",{target:u,width:u.clientWidth,height:u.clientHeight});i.getDoc().selection.empty();H(t,r,h)}function R(e){var t=e.srcElement;if(t!=u){i.fire("ObjectSelected",{target:t});U();if(t.id.indexOf("mceResizeHandle")===0){e.returnValue=false;return}if(t.nodeName=="IMG"||t.nodeName=="TABLE"){B();u=t;F(t,"resizestart",q)}}}function U(){I(u,"resizestart",q)}function z(){for(var e in l){var t=l[e];if(t.elm){s.unbind(t.elm);delete t.elm}}}function W(){try{i.getDoc().execCommand("enableObjectResizing",false,false)}catch(e){}}function X(e){var t;if(!N){return}t=x.body.createControlRange();try{t.addElement(e);t.select();return true}catch(n){}}function V(){u=a=null;if(N){U();I(L,"controlselect",R)}}var s=i.dom,o=t.each;var u,a,f,l,c,h;var p,d,v,m,g,y,b,w;var E,S,x=i.getDoc(),T=document,N=n.ie&&n.ie<11;var C=Math.abs,k=Math.round,L=i.getBody(),A,O;l={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var M=".mce-content-body";i.contentStyles.push(M+" div.mce-resizehandle {"+"position: absolute;"+"border: 1px solid black;"+"background: #FFF;"+"width: 5px;"+"height: 5px;"+"z-index: 10000"+"}"+M+" .mce-resizehandle:hover {"+"background: #000"+"}"+M+" img[data-mce-selected], hr[data-mce-selected] {"+"outline: 1px solid black;"+"resize: none"+"}"+M+" .mce-clonedresizable {"+"position: absolute;"+(n.gecko?"":"outline: 1px dashed black;")+"opacity: .5;"+"filter: alpha(opacity=50);"+"z-index: 10000"+"}"+M+" .mce-resize-helper {"+"background: #555;"+"background: rgba(0,0,0,0.75);"+"border-radius: 3px;"+"border: 1px;"+"color: white;"+"display: none;"+"font-family: sans-serif;"+"font-size: 12px;"+"white-space: nowrap;"+"line-height: 14px;"+"margin: 5px 10px;"+"padding: 5px;"+"position: absolute;"+"z-index: 10001"+"}");i.on("init",function(){if(N){i.on("ObjectResized",function(e){if(e.target.nodeName!="TABLE"){B();X(e.target)}});F(L,"controlselect",R);i.on("mousedown",function(e){h=e})}else{W();if(n.ie>=11){i.on("mouseup",function(e){var t=e.target.nodeName;if(!w&&/^(TABLE|IMG|HR)$/.test(t)){i.selection.select(e.target,t=="TABLE");i.nodeChanged()}});i.dom.bind(L,"mscontrolselect",function(e){if(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)){e.preventDefault();if(e.target.tagName=="IMG"){window.setTimeout(function(){i.selection.select(e.target)},0)}}})}}i.on("nodechange ResizeEditor",j);i.on("keydown keyup",function(e){if(u&&u.nodeName=="TABLE"){j(e)}});i.on("hide",B)});i.on("remove",z);return{isResizable:_,showResizeRect:H,hideResizeRect:B,updateResizeRect:j,controlSelect:X,destroy:V}}});i("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools"],function(e,t){function n(n){var r=n.dom;this.getBookmark=function(e,i){function p(e,n){var i=0;t.each(r.select(e),function(e,t){if(e==n){i=t}});return i}function d(e){function t(t){var n,r,i,s=t?"start":"end";n=e[s+"Container"];r=e[s+"Offset"];if(n.nodeType==1&&n.nodeName=="TR"){i=n.childNodes;n=i[Math.min(t?r:r-1,i.length-1)];if(n){r=t?0:n.childNodes.length;e["set"+(t?"Start":"End")](n,r)}}}t(true);t();return e}function v(){function o(e,n){var s=e[n?"startContainer":"endContainer"],o=e[n?"startOffset":"endOffset"],u=[],a,f,l=0;if(s.nodeType==3){if(i){for(a=s.previousSibling;a&&a.nodeType==3;a=a.previousSibling){o+=a.nodeValue.length}}u.push(o)}else{f=s.childNodes;if(o>=f.length&&f.length){l=1;o=Math.max(0,f.length-1)}u.push(r.nodeIndex(f[o],i)+l)}for(;s&&s!=t;s=s.parentNode){u.push(r.nodeIndex(s,i))}return u}var e=n.getRng(true),t=r.getRoot(),s={};s.start=o(e,true);if(!n.isCollapsed()){s.end=o(e)}return s}var s,o,u,a,f,l,c="&#xFEFF;",h;if(e==2){l=n.getNode();f=l?l.nodeName:null;if(f=="IMG"){return{name:f,index:p(f,l)}}if(n.tridentSel){return n.tridentSel.getBookmark(e)}return v()}if(e){return{rng:n.getRng()}}s=n.getRng();u=r.uniqueId();a=n.isCollapsed();h="overflow:hidden;line-height:0px";if(s.duplicate||s.item){if(!s.item){o=s.duplicate();try{s.collapse();s.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_start" style="'+h+'">'+c+"</span>");if(!a){o.collapse(false);s.moveToElementText(o.parentElement());if(s.compareEndPoints("StartToEnd",o)===0){o.move("character",-1)}o.pasteHTML('<span data-mce-type="bookmark" id="'+u+'_end" style="'+h+'">'+c+"</span>")}}catch(m){return null}}else{l=s.item(0);f=l.nodeName;return{name:f,index:p(f,l)}}}else{l=n.getNode();f=l.nodeName;if(f=="IMG"){return{name:f,index:p(f,l)}}o=d(s.cloneRange());if(!a){o.collapse(false);o.insertNode(r.create("span",{"data-mce-type":"bookmark",id:u+"_end",style:h},c))}s=d(s);s.collapse(true);s.insertNode(r.create("span",{"data-mce-type":"bookmark",id:u+"_start",style:h},c))}n.moveToBookmark({id:u,keep:1});return{id:u}};this.moveToBookmark=function(i){function c(e){var t=i[e?"start":"end"],n,r,u,a;if(t){u=t[0];for(r=o,n=t.length-1;n>=1;n--){a=r.childNodes;if(t[n]>a.length-1){return}r=a[t[n]]}if(r.nodeType===3){u=Math.min(t[0],r.nodeValue.length)}if(r.nodeType===1){u=Math.min(t[0],r.childNodes.length)}if(e){s.setStart(r,u)}else{s.setEnd(r,u)}}return true}function h(n){var s=r.get(i.id+"_"+n),o,c,h,p,d=i.keep;if(s){o=s.parentNode;if(n=="start"){if(!d){c=r.nodeIndex(s)}else{o=s.firstChild;c=1}u=a=o;f=l=c}else{if(!d){c=r.nodeIndex(s)}else{o=s.firstChild;c=1}a=o;l=c}if(!d){p=s.previousSibling;h=s.nextSibling;t.each(t.grep(s.childNodes),function(e){if(e.nodeType==3){e.nodeValue=e.nodeValue.replace(/\uFEFF/g,"")}});while(s=r.get(i.id+"_"+n)){r.remove(s,1)}if(p&&h&&p.nodeType==h.nodeType&&p.nodeType==3&&!e.opera){c=p.nodeValue.length;p.appendData(h.nodeValue);r.remove(h);if(n=="start"){u=a=p;f=l=c}else{a=p;l=c}}}}}function p(t){if(r.isBlock(t)&&!t.innerHTML&&!e.ie){t.innerHTML='<br data-mce-bogus="1" />'}return t}var s,o,u,a,f,l;if(i){if(i.start){s=r.createRng();o=r.getRoot();if(n.tridentSel){return n.tridentSel.moveToBookmark(i)}if(c(true)&&c()){n.setRng(s)}}else if(i.id){h("start");h("end");if(u){s=r.createRng();s.setStart(p(u),f);s.setEnd(p(a),l);n.setRng(s)}}else if(i.name){n.select(r.select(i.name)[i.index])}else if(i.rng){n.setRng(i.rng)}}}}n.isBookmarkNode=function(e){return e&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"};return n});i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/Env","tinymce/util/Tools"],function(e,n,r,i,s,o,u){function c(e,t,i,o){var u=this;u.dom=e;u.win=t;u.serializer=i;u.editor=o;u.bookmarkManager=new s(u);u.controlSelection=new r(u,o);if(!u.win.getSelection){u.tridentSel=new n(u)}}var a=u.each,f=u.trim;var l=o.ie;c.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();if(!e){n._moveEndPoint(r,n.editor.getBody(),true);n.setRng(r)}else{r.setStart(e,t);r.setEnd(e,t);n.setRng(r);n.collapse(false)}},getContent:function(e){var n=this,r=n.getRng(),i=n.dom.create("body");var s=n.getSel(),o,u,a;e=e||{};o=u="";e.get=true;e.format=e.format||"html";e.selection=true;n.editor.fire("BeforeGetContent",e);if(e.format=="text"){return n.isCollapsed()?"":r.text||(s.toString?s.toString():"")}if(r.cloneContents){a=r.cloneContents();if(a){i.appendChild(a)}}else if(r.item!==t||r.htmlText!==t){i.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText);i.removeChild(i.firstChild)}else{i.innerHTML=r.toString()}if(/^\s/.test(i.innerHTML)){o=" "}if(/\s+$/.test(i.innerHTML)){u=" "}e.getInner=true;e.content=n.isCollapsed()?"":o+n.serializer.serialize(i,e)+u;n.editor.fire("GetContent",e);return e.content},setContent:function(e,t){var n=this,r=n.getRng(),i,s=n.win.document,o,u;t=t||{format:"html"};t.set=true;t.selection=true;e=t.content=e;if(!t.no_events){n.editor.fire("BeforeSetContent",t)}e=t.content;if(r.insertNode){e+='<span id="__caret">_</span>';if(r.startContainer==s&&r.endContainer==s){s.body.innerHTML=e}else{r.deleteContents();if(s.body.childNodes.length===0){s.body.innerHTML=e}else{if(r.createContextualFragment){r.insertNode(r.createContextualFragment(e))}else{o=s.createDocumentFragment();u=s.createElement("div");o.appendChild(u);u.outerHTML=e;r.insertNode(o)}}}i=n.dom.get("__caret");r=s.createRange();r.setStartBefore(i);r.setEndBefore(i);n.setRng(r);n.dom.remove("__caret");try{n.setRng(r)}catch(a){}}else{if(r.item){s.execCommand("Delete",false,null);r=n.getRng()}if(/^\s+/.test(e)){r.pasteHTML('<span id="__mce_tmp">_</span>'+e);n.dom.remove("__mce_tmp")}else{r.pasteHTML(e)}}if(!t.no_events){n.editor.fire("SetContent",t)}},getStart:function(e){var t=this,n=t.getRng(),r,i,s,o;if(n.duplicate||n.item){if(n.item){return n.item(0)}s=n.duplicate();s.collapse(1);r=s.parentElement();if(r.ownerDocument!==t.dom.doc){r=t.dom.getRoot()}i=o=n.parentElement();while(o=o.parentNode){if(o==r){r=i;break}}return r}else{r=n.startContainer;if(r.nodeType==1&&r.hasChildNodes()){if(!e||!n.collapsed){r=r.childNodes[Math.min(r.childNodes.length-1,n.startOffset)]}}if(r&&r.nodeType==3){return r.parentNode}return r}},getEnd:function(e){var t=this,n=t.getRng(),r,i;if(n.duplicate||n.item){if(n.item){return n.item(0)}n=n.duplicate();n.collapse(0);r=n.parentElement();if(r.ownerDocument!==t.dom.doc){r=t.dom.getRoot()}if(r&&r.nodeName=="BODY"){return r.lastChild||r}return r}else{r=n.endContainer;i=n.endOffset;if(r.nodeType==1&&r.hasChildNodes()){if(!e||!n.collapsed){r=r.childNodes[i>0?i-1:i]}}if(r&&r.nodeType==3){return r.parentNode}return r}},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n=this,r=n.dom,i=r.createRng(),s;n.lastFocusBookmark=null;if(e){if(!t&&n.controlSelection.controlSelect(e)){return}s=r.nodeIndex(e);i.setStart(e.parentNode,s);i.setEnd(e.parentNode,s+1);if(t){n._moveEndPoint(i,e,true);n._moveEndPoint(i,e)}n.setRng(i)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();if(!t||t.item){return false}if(t.compareEndPoints){return t.compareEndPoints("StartToEnd",t)===0}return!n||t.collapsed},collapse:function(e){var t=this,n=t.getRng(),r;if(n.item){r=n.item(0);n=t.win.document.body.createTextRange();n.moveToElementText(r)}n.collapse(!!e);t.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function u(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var t=this,n,r,i,s=t.win.document,o;if(!e&&t.lastFocusBookmark){var a=t.lastFocusBookmark;if(a.startContainer){r=s.createRange();r.setStart(a.startContainer,a.startOffset);r.setEnd(a.endContainer,a.endOffset)}else{r=a}return r}if(e&&t.tridentSel){return t.tridentSel.getRangeAt(0)}try{if(n=t.getSel()){if(n.rangeCount>0){r=n.getRangeAt(0)}else{r=n.createRange?n.createRange():s.createRange()}}}catch(f){}if(l&&r&&r.setStart&&s.selection){try{o=s.selection.createRange()}catch(f){}if(o&&o.item){i=o.item(0);r=s.createRange();r.setStartBefore(i);r.setEndAfter(i)}}if(!r){r=s.createRange?s.createRange():s.body.createTextRange()}if(r.setStart&&r.startContainer.nodeType===9&&r.collapsed){i=t.dom.getRoot();r.setStart(i,0);r.setEnd(i,0)}if(t.selectedRange&&t.explicitRange){if(u(r.START_TO_START,r,t.selectedRange)===0&&u(r.END_TO_END,r,t.selectedRange)===0){r=t.explicitRange}else{t.selectedRange=null;t.explicitRange=null}}return r},setRng:function(e,t){var n=this,r;if(!e){return}if(e.select){try{e.select()}catch(i){}return}if(!n.tridentSel){r=n.getSel();if(r){n.explicitRange=e;try{r.removeAllRanges();r.addRange(e)}catch(i){}if(t===false&&r.extend){r.collapse(e.endContainer,e.endOffset);r.extend(e.startContainer,e.startOffset)}n.selectedRange=r.rangeCount>0?r.getRangeAt(0):null}}else{if(e.cloneRange){try{n.tridentSel.addRange(e);return}catch(i){}}}},setNode:function(e){var t=this;t.setContent(t.dom.getOuterHTML(e));return e},getNode:function(){function a(e,t){var n=e;while(e&&e.nodeType===3&&e.length===0){e=t?e.nextSibling:e.previousSibling}return e||n}var e=this,t=e.getRng(),n;var r=t.startContainer,i=t.endContainer;var s=t.startOffset,o=t.endOffset,u=e.dom.getRoot();if(!t){return u}if(t.setStart){n=t.commonAncestorContainer;if(!t.collapsed){if(r==i){if(o-s<2){if(r.hasChildNodes()){n=r.childNodes[s]}}}if(r.nodeType===3&&i.nodeType===3){if(r.length===s){r=a(r.nextSibling,true)}else{r=r.parentNode}if(o===0){i=a(i.previousSibling,false)}else{i=i.parentNode}if(r&&r===i){return r}}}if(n&&n.nodeType==3){return n.parentNode}return n}n=t.item?t.item(0):t.parentElement();if(n.ownerDocument!==e.win.document){n=u}return n},getSelectedBlocks:function(t,n){var r=this,i=r.dom,s,o,u=[];o=i.getRoot();t=i.getParent(t||r.getStart(),i.isBlock);n=i.getParent(n||r.getEnd(),i.isBlock);if(t&&t!=o){u.push(t)}if(t&&n&&t!=n){s=t;var a=new e(t,o);while((s=a.next())&&s!=n){if(i.isBlock(s)){u.push(s)}}}if(n&&t!=n&&n!=o){u.push(n)}return u},isForward:function(){var e=this.dom,t=this.getSel(),n,r;if(!t||!t.anchorNode||!t.focusNode){return true}n=e.createRng();n.setStart(t.anchorNode,t.anchorOffset);n.collapse(true);r=e.createRng();r.setStart(t.focusNode,t.focusOffset);r.collapse(true);return n.compareBoundaryPoints(n.START_TO_START,r)<=0},normalize:function(){var e=this,t=e.getRng();if(!l&&(new i(e.dom)).normalize(t)){e.setRng(t,e.isForward())}return t},selectorChanged:function(e,t){var n=this,r;if(!n.selectorChangedData){n.selectorChangedData={};r={};n.editor.on("NodeChange",function(e){var t=e.element,i=n.dom,s=i.getParents(t,null,i.getRoot()),o={};a(n.selectorChangedData,function(e,t){a(s,function(n){if(i.is(n,t)){if(!r[t]){a(e,function(e){e(true,{node:n,selector:t,parents:s})});r[t]=e}o[t]=e;return false}})});a(r,function(e,n){if(!o[n]){delete r[n];a(e,function(e){e(false,{node:t,selector:n,parents:s})})}})})}if(!n.selectorChangedData[e]){n.selectorChangedData[e]=[]}n.selectorChangedData[e].push(t);return n},getScrollContainer:function(){var e,t=this.dom.getRoot();while(t&&t.nodeName!="BODY"){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function a(e){var t=0,n=0;var r=e;while(r&&r.nodeType){t+=r.offsetLeft||0;n+=r.offsetTop||0;r=r.offsetParent}return{x:t,y:n}}var t,n,r=this,i=r.dom,s=i.getRoot(),o,u;if(s.nodeName!="BODY"){var f=r.getScrollContainer();if(f){t=a(e).y-a(f).y;u=f.clientHeight;o=f.scrollTop;if(t<o||t+25>o+u){f.scrollTop=t<o?t:t-u+25}return}}n=i.getViewPort(r.editor.getWin());t=i.getPos(e).y;o=n.y;u=n.h;if(t<n.y||t+25>o+u){r.editor.getWin().scrollTo(0,t<o?t:t-u+25)}},placeCaretAt:function(e,t){var n=this.editor.getDoc(),r,i;if(n.caretPositionFromPoint){i=n.caretPositionFromPoint(e,t);r=n.createRange();r.setStart(i.offsetNode,i.offset);r.collapse(true)}else if(n.caretRangeFromPoint){r=n.caretRangeFromPoint(e,t)}else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t);r.collapse(true)}catch(s){r.collapse(t<n.body.clientHeight)}}this.setRng(r)},_moveEndPoint:function(t,n,r){var i=n,s=new e(n,i);var u=this.dom.schema.getNonEmptyElements();do{if(n.nodeType==3&&f(n.nodeValue).length!==0){if(r){t.setStart(n,0)}else{t.setEnd(n,n.nodeValue.length)}return}if(u[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName)){if(r){t.setStartBefore(n)}else{if(n.nodeName=="BR"){t.setEndBefore(n)}else{t.setEndAfter(n)}}return}if(o.ie&&o.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n)){if(r){t.setStart(n,0)}else{t.setEnd(n,0)}return}}while(n=r?s.next():s.prev());if(i.nodeName=="BODY"){if(r){t.setStart(i,0)}else{t.setEnd(i,i.childNodes.length)}}},destroy:function(){this.win=null;this.controlSelection.destroy()}};return c});i("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(e,t){function r(t){this.compare=function(r,i){function s(e){var r={};n(t.getAttribs(e),function(n){var i=n.nodeName.toLowerCase();if(i.indexOf("_")!==0&&i!=="style"&&i!=="data-mce-style"){r[i]=t.getAttrib(e,i)}});return r}function o(e,t){var n,r;for(r in e){if(e.hasOwnProperty(r)){n=t[r];if(typeof n=="undefined"){return false}if(e[r]!=n){return false}delete t[r]}}for(r in t){if(t.hasOwnProperty(r)){return false}}return true}if(r.nodeName!=i.nodeName){return false}if(!o(s(r),s(i))){return false}if(!o(t.parseStyle(t.getAttrib(r,"style")),t.parseStyle(t.getAttrib(i,"style")))){return false}return!e.isBookmarkNode(r)&&!e.isBookmarkNode(i)}}var n=t.each;return r});i("tinymce/fmt/Preview",["tinymce/util/Tools"],function(e){function n(e,n){function f(e){return e.replace(/%(\w+)/g,"")}var r,i,s=e.dom;var o="",u,a;a=e.settings.preview_styles;if(a===false){return""}if(!a){a="font-family font-size font-weight font-style text-decoration "+"text-transform color background-color border border-radius outline text-shadow"}if(typeof n=="string"){n=e.formatter.get(n);if(!n){return}n=n[0]}r=n.block||n.inline||"span";i=s.create(r);t(n.styles,function(e,t){e=f(e);if(e){s.setStyle(i,t,e)}});t(n.attributes,function(e,t){e=f(e);if(e){s.setAttrib(i,t,e)}});t(n.classes,function(e){e=f(e);if(!s.hasClass(i,e)){s.addClass(i,e)}});e.fire("PreviewFormats");s.setStyles(i,{position:"absolute",left:-65535});e.getBody().appendChild(i);u=s.getStyle(e.getBody(),"fontSize",true);u=/px$/.test(u)?parseInt(u,10):0;t(a.split(" "),function(t){var n=s.getStyle(i,t,true);if(t=="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)){n=s.getStyle(e.getBody(),t,true);if(s.toHex(n).toLowerCase()=="#ffffff"){return}}if(t=="color"){if(s.toHex(n).toLowerCase()=="#000000"){return}}if(t=="font-size"){if(/em|%$/.test(n)){if(u===0){return}n=parseFloat(n,10)/(/%$/.test(n)?100:1);n=n*u+"px"}}if(t=="border"&&n){o+="padding:0 2px;"}o+=t+":"+n+";"});e.fire("AfterPreviewFormats");s.remove(i);return o}var t=e.each;return{getCssText:n}});i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview"],function(e,t,n,r,i,s){return function(o){function A(e){if(e.nodeType){e=e.nodeName}return!!o.schema.getTextBlockElements()[e.toLowerCase()]}function O(e,t){return a.getParents(e,t,a.getRoot())}function M(e){return e.nodeType===1&&e.id==="_mce_caret"}function _(){H({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:false,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:false,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:false,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:true},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:true},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:true,remove_similar:true},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:true,remove_similar:true},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:true,deep:true,onmatch:function(){return true},onformat:function(e,t,n){N(n,function(t,n){a.setAttrib(e,n,t)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q",remove:"all",split:true,expand:false,block_expand:true,deep:true},{selector:"span",attributes:["style","class"],remove:"empty",split:true,expand:false,deep:true},{selector:"*",attributes:["style","class"],split:false,expand:false,deep:true}]});N("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){H(e,{block:e,remove:"all"})});H(o.settings.formats)}function D(){o.addShortcut("ctrl+b","bold_desc","Bold");o.addShortcut("ctrl+i","italic_desc","Italic");o.addShortcut("ctrl+u","underline_desc","Underline");for(var e=1;e<=6;e++){o.addShortcut("ctrl+"+e,"",["FormatBlock",false,"h"+e])}o.addShortcut("ctrl+7","",["FormatBlock",false,"p"]);o.addShortcut("ctrl+8","",["FormatBlock",false,"div"]);o.addShortcut("ctrl+9","",["FormatBlock",false,"address"])}function P(e){return e?u[e]:u}function H(e,t){if(e){if(typeof e!=="string"){N(e,function(e,t){H(t,e)})}else{t=t.length?t:[t];N(t,function(e){if(e.deep===w){e.deep=!e.selector}if(e.split===w){e.split=!e.selector||e.inline}if(e.remove===w&&e.selector&&!e.inline){e.remove="none"}if(e.selector&&e.inline){e.mixed=true;e.block_expand=true}if(typeof e.classes==="string"){e.classes=e.classes.split(/\s+/)}});u[e]=t}}}function B(e){if(e&&u[e]){delete u[e]}return u}function j(e){var t;o.dom.getParent(e,function(e){t=o.dom.getStyle(e,"text-decoration");return t&&t!=="none"});return t}function F(e){var t;if(e.nodeType===1&&e.parentNode&&e.parentNode.nodeType===1){t=j(e.parentNode);if(o.dom.getStyle(e,"color")&&t){o.dom.setStyle(e,"text-decoration",t)}else if(o.dom.getStyle(e,"textdecoration")===t){o.dom.setStyle(e,"text-decoration",null)}}}function I(t,n,r){function m(e,t){t=t||s;if(e){if(t.onformat){t.onformat(e,t,n,r)}N(t.styles,function(t,r){a.setStyle(e,r,Y(t,n))});if(t.styles){var i=a.getAttrib(e,"style");if(i){e.setAttribute("data-mce-style",i)}}N(t.attributes,function(t,r){a.setAttrib(e,r,Y(t,n))});N(t.classes,function(t){t=Y(t,n);if(!a.hasClass(e,t)){a.addClass(e,t)}})}}function b(){function t(t,n){var i=new e(n);for(r=i.current();r;r=i.prev()){if(r.childNodes.length>1||r==t||r.tagName=="BR"){return r}}}var n=o.selection.getRng();var i=n.startContainer;var s=n.endContainer;if(i!=s&&n.endOffset===0){var u=t(i,s);var a=u.nodeType==3?u.length:u.childNodes.length;n.setEnd(u,a)}return n}function w(e,r,o){var u=[],f,p,d=true;f=s.inline||s.block;p=a.create(f);m(p);l.walk(e,function(e){function l(e){var y,b,w,S,x;x=d;y=e.nodeName.toLowerCase();b=e.parentNode.nodeName.toLowerCase();if(e.nodeType===1&&E(e)){x=d;d=E(e)==="true";S=true}if(K(y,"br")){r=0;if(s.block){a.remove(e)}return}if(s.wrapper&&U(e,t,n)){r=0;return}if(d&&!S&&s.block&&!s.wrapper&&A(y)&&c(b,f)){e=a.rename(e,f);m(e);u.push(e);r=0;return}if(s.selector){N(i,function(t){if("collapsed"in t&&t.collapsed!==v){return}if(a.is(e,t.selector)&&!M(e)){m(e,t);w=true}});if(!s.inline||w){r=0;return}}if(d&&!S&&c(f,y)&&c(b,f)&&!(!o&&e.nodeType===3&&e.nodeValue.length===1&&e.nodeValue.charCodeAt(0)===65279)&&!M(e)&&(!s.inline||!h(e))){if(!r){r=a.clone(p,g);e.parentNode.insertBefore(r,e);u.push(r)}r.appendChild(e)}else{r=0;N(C(e.childNodes),l);if(S){d=x}r=0}}var r;N(e,l)});if(s.links===true){N(u,function(e){function t(e){if(e.nodeName==="A"){m(e,s)}N(C(e.childNodes),t)}t(e)})}N(u,function(e){function o(e){var t=0;N(e.childNodes,function(e){if(!Z(e)&&!T(e)){t++}});return t}function f(e){var t,n;N(e.childNodes,function(e){if(e.nodeType==1&&!T(e)&&!M(e)){t=e;return g}});if(t&&!T(t)&&J(t,s)){n=a.clone(t,g);m(n);a.replace(n,e,y);a.remove(t,1)}return n||e}var r;r=o(e);if((u.length>1||!h(e))&&r===0){a.remove(e,1);return}if(s.inline||s.wrapper){if(!s.exact&&r===1){e=f(e)}N(i,function(t){N(a.select(t.inline,e),function(e){if(T(e)){return}rt(t,n,e,t.exact?e:null)})});if(U(e.parentNode,t,n)){a.remove(e,1);e=0;return y}if(s.merge_with_parents){a.getParent(e.parentNode,function(r){if(U(r,t,n)){a.remove(e,1);e=0;return y}})}if(e&&s.merge_siblings!==false){e=ot(st(e),e);e=ot(e,st(e,y))}}})}var i=P(t),s=i[0],u,d,v=!r&&f.isCollapsed();if(s){if(r){if(r.nodeType){d=a.createRng();d.setStartBefore(r);d.setEndAfter(r);w(tt(d,i),null,true)}else{w(r,null,true)}}else{if(!v||!s.inline||a.select("td.mce-item-selected,th.mce-item-selected").length){var S=o.selection.getNode();if(!p&&i[0].defaultBlock&&!a.getParent(S,a.isBlock)){I(i[0].defaultBlock)}o.selection.setRng(b());u=f.getBookmark();w(tt(f.getRng(y),i),u);if(s.styles&&(s.styles.color||s.styles.textDecoration)){k(S,F,"childNodes");F(S)}f.moveToBookmark(u);ft(f.getRng(y));o.nodeChanged()}else{at("apply",t,n)}}}}function q(e,t,n,r){function v(e){var n,r,o,u,a;if(e.nodeType===1&&E(e)){u=p;p=E(e)==="true";a=true}n=C(e.childNodes);if(p&&!a){for(r=0,o=i.length;r<o;r++){if(rt(i[r],t,e,e)){break}}}if(s.deep){if(n.length){for(r=0,o=n.length;r<o;r++){v(n[r])}if(a){p=u}}}}function m(n){var i;N(O(n.parentNode).reverse(),function(n){var s;if(!i&&n.id!="_start"&&n.id!="_end"){s=U(n,e,t,r);if(s&&s.split!==false){i=n}}});return i}function b(e,n,r,o){var u,f,l,c,p,d;if(e){d=e.parentNode;for(u=n.parentNode;u&&u!=d;u=u.parentNode){f=a.clone(u,g);for(p=0;p<i.length;p++){if(rt(i[p],t,f,f)){f=0;break}}if(f){if(l){f.appendChild(l)}if(!c){c=f}l=f}}if(o&&(!s.mixed||!h(e))){n=a.split(e,n)}if(l){r.parentNode.insertBefore(l,r);c.appendChild(r)}}return n}function w(e){return b(m(e),e,e,true)}function S(e){var t=a.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];if(T(n)){n=n[e?"firstChild":"lastChild"]}a.remove(t,true);return n}function x(e){var t,n;var r=e.commonAncestorContainer;e=tt(e,i,y);if(s.split){t=ut(e,y);n=ut(e);if(t!=n){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild){if(t.nodeName=="TR"){t=t.firstChild.firstChild||t}else{t=t.firstChild||t}}if(r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&/^(TH|TD)$/.test(n.nodeName)&&n.firstChild){n=n.firstChild||n}t=et(t,"span",{id:"_start","data-mce-type":"bookmark"});n=et(n,"span",{id:"_end","data-mce-type":"bookmark"});w(t);w(n);t=S(y);n=S()}else{t=n=w(t)}e.startContainer=t.parentNode;e.startOffset=d(t);e.endContainer=n.parentNode;e.endOffset=d(n)+1}l.walk(e,function(e){N(e,function(e){v(e);if(e.nodeType===1&&o.dom.getStyle(e,"text-decoration")==="underline"&&e.parentNode&&j(e.parentNode)==="underline"){rt({deep:false,exact:true,inline:"span",styles:{textDecoration:"underline"}},null,e)}})})}var i=P(e),s=i[0],u,c,p=true;if(n){if(n.nodeType){c=a.createRng();c.setStartBefore(n);c.setEndAfter(n);x(c)}else{x(n)}return}if(!f.isCollapsed()||!s.inline||a.select("td.mce-item-selected,th.mce-item-selected").length){u=f.getBookmark();x(f.getRng(y));f.moveToBookmark(u);if(s.inline&&z(e,t,f.getStart())){ft(f.getRng(true))}o.nodeChanged()}else{at("remove",e,t,r)}}function R(e,t,n){var r=P(e);if(z(e,t,n)&&(!("toggle"in r[0])||r[0].toggle)){q(e,t,n)}else{I(e,t,n)}}function U(e,t,n,r){function f(e,t,i){var s,o,u=t[i],f;if(t.onmatch){return t.onmatch(e,t,i)}if(u){if(u.length===w){for(s in u){if(u.hasOwnProperty(s)){if(i==="attributes"){o=a.getAttrib(e,s)}else{o=Q(e,s)}if(r&&!o&&!t.exact){return}if((!r||t.exact)&&!K(o,G(Y(u[s],n),s))){return}}}}else{for(f=0;f<u.length;f++){if(i==="attributes"?a.getAttrib(e,u[f]):Q(e,u[f])){return t}}}}return t}var i=P(t),s,o,u;if(i&&e){for(o=0;o<i.length;o++){s=i[o];if(J(e,s)&&f(e,s,"attributes")&&f(e,s,"styles")){if(u=s.classes){for(o=0;o<u.length;o++){if(!a.hasClass(e,u[o])){return}}}return s}}}}function z(e,t,n){function i(n){var r=a.getRoot();if(n===r){return false}n=a.getParent(n,function(n){return n.parentNode===r||!!U(n,e,t,true)});return U(n,e,t)}var r;if(n){return i(n)}n=f.getNode();if(i(n)){return y}r=f.getStart();if(r!=n){if(i(r)){return y}}return g}function W(e,t){var n,r=[],i={};n=f.getStart();a.getParent(n,function(n){var s,o;for(s=0;s<e.length;s++){o=e[s];if(!i[o]&&U(n,o,t)){i[o]=true;r.push(o)}}},a.getRoot());return r}function X(e){var t=P(e),n,r,i,s,o;if(t){n=f.getStart();r=O(n);for(s=t.length-1;s>=0;s--){o=t[s].selector;if(!o||t[s].defaultBlock){return y}for(i=r.length-1;i>=0;i--){if(a.is(r[i],o)){return y}}}}return g}function V(e,t,n){var r;if(!b){b={};r={};o.on("NodeChange",function(e){var t=O(e.element),n={};t=i.grep(t,function(e){return e.nodeType==1&&!e.getAttribute("data-mce-bogus")});N(b,function(e,i){N(t,function(s){if(U(s,i,{},e.similar)){if(!r[i]){N(e,function(e){e(true,{node:s,format:i,parents:t})});r[i]=e}n[i]=e;return false}})});N(r,function(i,s){if(!n[s]){delete r[s];N(i,function(n){n(false,{node:e.element,format:s,parents:t})})}})})}N(e.split(","),function(e){if(!b[e]){b[e]=[];b[e].similar=n}b[e].push(t)});return this}function $(e){return s.getCssText(o,e)}function J(e,t){if(K(e,t.inline)){return y}if(K(e,t.block)){return y}if(t.selector){return e.nodeType==1&&a.is(e,t.selector)}}function K(e,t){e=e||"";t=t||"";e=""+(e.nodeName||e);t=""+(t.nodeName||t);return e.toLowerCase()==t.toLowerCase()}function Q(e,t){return G(a.getStyle(e,t),t)}function G(e,t){if(t=="color"||t=="backgroundColor"){e=a.toHex(e)}if(t=="fontWeight"&&e==700){e="bold"}if(t=="fontFamily"){e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")}return""+e}function Y(e,t){if(typeof e!="string"){e=e(t)}else if(t){e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})}return e}function Z(e){return e&&e.nodeType===3&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function et(e,t,n){var r=a.create(t,n);e.parentNode.insertBefore(r,e);r.appendChild(e);return r}function tt(t,n,r){function v(e){function u(e){return e.nodeName=="BR"&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var t,r,i,s,o;t=r=e?f:c;s=e?"previousSibling":"nextSibling";o=a.getRoot();if(t.nodeType==3&&!Z(t)){if(e?l>0:p<t.nodeValue.length){return t}}while(true){if(!n[0].block_expand&&h(r)){return r}for(i=r[s];i;i=i[s]){if(!T(i)&&!Z(i)&&!u(i)){return r}}if(r.parentNode==o){t=r;break}r=r.parentNode}return t}function m(e,t){if(t===w){t=e.nodeType===3?e.length:e.childNodes.length}while(e&&e.hasChildNodes()){e=e.childNodes[t];if(e){t=e.nodeType===3?e.length:e.childNodes.length}}return{node:e,offset:t}}function y(e){var t=e;while(t){if(t.nodeType===1&&E(t)){return E(t)==="false"?t:e}t=t.parentNode}return e}function b(t,n,i){function c(e,t){var n,s,o=e.nodeValue;if(typeof t=="undefined"){t=i?o.length:0}if(i){n=o.lastIndexOf(" ",t);s=o.lastIndexOf(" ",t);n=n>s?n:s;if(n!==-1&&!r){n++}}else{n=o.indexOf(" ",t);s=o.indexOf(" ",t);n=n!==-1&&(s===-1||n<s)?n:s}return n}var s,u,f,l;if(t.nodeType===3){f=c(t,n);if(f!==-1){return{container:t,offset:f}}l=t}s=new e(t,a.getParent(t,h)||o.getBody());while(u=s[i?"prev":"next"]()){if(u.nodeType===3){l=u;f=c(u);if(f!==-1){return{container:u,offset:f}}}else if(h(u)){break}}if(l){if(i){n=0}else{n=l.length}return{container:l,offset:n}}}function S(e,r){var i,s,o,u;if(e.nodeType==3&&e.nodeValue.length===0&&e[r]){e=e[r]}i=O(e);for(s=0;s<i.length;s++){for(o=0;o<n.length;o++){u=n[o];if("collapsed"in u&&u.collapsed!==t.collapsed){continue}if(a.is(i[s],u.selector)){return i[s]}}}return e}function x(e,t){var r,i=a.getRoot();if(!n[0].wrapper){r=a.getParent(e,n[0].block,i)}if(!r){r=a.getParent(e.nodeType==3?e.parentNode:e,function(e){return e!=i&&A(e)})}if(r&&n[0].wrapper){r=O(r,"ul,ol").reverse()[0]||r}if(!r){r=e;while(r[t]&&!h(r[t])){r=r[t];if(K(r,"br")){break}}}return r||e}var i,s,u,f=t.startContainer,l=t.startOffset,c=t.endContainer,p=t.endOffset;if(f.nodeType==1&&f.hasChildNodes()){i=f.childNodes.length-1;f=f.childNodes[l>i?i:l];if(f.nodeType==3){l=0}}if(c.nodeType==1&&c.hasChildNodes()){i=c.childNodes.length-1;c=c.childNodes[p>i?i:p-1];if(c.nodeType==3){p=c.nodeValue.length}}f=y(f);c=y(c);if(T(f.parentNode)||T(f)){f=T(f)?f:f.parentNode;f=f.nextSibling||f;if(f.nodeType==3){l=0}}if(T(c.parentNode)||T(c)){c=T(c)?c:c.parentNode;c=c.previousSibling||c;if(c.nodeType==3){p=c.length}}if(n[0].inline){if(t.collapsed){u=b(f,l,true);if(u){f=u.container;l=u.offset}u=b(c,p);if(u){c=u.container;p=u.offset}}s=m(c,p);if(s.node){while(s.node&&s.offset===0&&s.node.previousSibling){s=m(s.node.previousSibling)}if(s.node&&s.offset>0&&s.node.nodeType===3&&s.node.nodeValue.charAt(s.offset-1)===" "){if(s.offset>1){c=s.node;c.splitText(s.offset-1)}}}}if(n[0].inline||n[0].block_expand){if(!n[0].inline||f.nodeType!=3||l===0){f=v(true)}if(!n[0].inline||c.nodeType!=3||p===c.nodeValue.length){c=v()}}if(n[0].selector&&n[0].expand!==g&&!n[0].inline){f=S(f,"previousSibling");c=S(c,"nextSibling")}if(n[0].block||n[0].selector){f=x(f,"previousSibling");c=x(c,"nextSibling");if(n[0].block){if(!h(f)){f=v(true)}if(!h(c)){c=v()}}}if(f.nodeType==1){l=d(f);f=f.parentNode}if(c.nodeType==1){p=d(c)+1;c=c.parentNode}return{startContainer:f,startOffset:l,endContainer:c,endOffset:p}}function nt(e,t){return t.links&&e.tagName=="A"}function rt(e,t,n,r){var i,s,o;if(!J(n,e)&&!nt(n,e)){return g}if(e.remove!="all"){N(e.styles,function(i,s){i=G(Y(i,t),s);if(typeof s==="number"){s=i;r=0}if(e.remove_similar||!r||K(Q(r,s),i)){a.setStyle(n,s,"")}o=1});if(o&&a.getAttrib(n,"style")===""){n.removeAttribute("style");n.removeAttribute("data-mce-style")}N(e.attributes,function(e,i){var s;e=Y(e,t);if(typeof i==="number"){i=e;r=0}if(!r||K(a.getAttrib(r,i),e)){if(i=="class"){e=a.getAttrib(n,i);if(e){s="";N(e.split(/\s+/),function(e){if(/mce\w+/.test(e)){s+=(s?" ":"")+e}});if(s){a.setAttrib(n,i,s);return}}}if(i=="class"){n.removeAttribute("className")}if(m.test(i)){n.removeAttribute("data-mce-"+i)}n.removeAttribute(i)}});N(e.classes,function(e){e=Y(e,t);if(!r||a.hasClass(r,e)){a.removeClass(n,e)}});s=a.getAttribs(n);for(i=0;i<s.length;i++){if(s[i].nodeName.indexOf("_")!==0){return g}}}if(e.remove!="none"){it(n,e);return y}}function it(e,t){function i(e,t,n){e=st(e,t,n);return!e||e.nodeName=="BR"||h(e)}var n=e.parentNode,r;if(t.block){if(!p){if(h(e)&&!h(n)){if(!i(e,g)&&!i(e.firstChild,y,1)){e.insertBefore(a.create("br"),e.firstChild)}if(!i(e,y)&&!i(e.lastChild,g,1)){e.appendChild(a.create("br"))}}}else{if(n==a.getRoot()){if(!t.list_block||!K(e,t.list_block)){N(C(e.childNodes),function(e){if(c(p,e.nodeName.toLowerCase())){if(!r){r=et(e,p);a.setAttribs(r,o.settings.forced_root_block_attrs)}else{r.appendChild(e)}}else{r=0}})}}}}if(t.selector&&t.inline&&!K(t.inline,e)){return}a.remove(e,1)}function st(e,t,n){if(e){t=t?"nextSibling":"previousSibling";for(e=n?e:e[t];e;e=e[t]){if(e.nodeType==1||!Z(e)){return e}}}}function ot(e,t){function o(e,t){for(n=e;n;n=n[t]){if(n.nodeType==3&&n.nodeValue.length!==0){return e}if(n.nodeType==1&&!T(n)){return n}}return e}var n,i,s=new r(a);if(e&&t){e=o(e,"previousSibling");t=o(t,"nextSibling");if(s.compare(e,t)){for(n=e.nextSibling;n&&n!=t;){i=n;n=n.nextSibling;e.appendChild(i)}a.remove(t);N(C(t.childNodes),function(t){e.appendChild(t)});return e}}return t}function ut(t,n){var r,i,s;r=t[n?"startContainer":"endContainer"];i=t[n?"startOffset":"endOffset"];if(r.nodeType==1){s=r.childNodes.length-1;if(!n&&i){i--}r=r.childNodes[i>s?s:i]}if(r.nodeType===3&&n&&i>=r.nodeValue.length){r=(new e(r,o.getBody())).next()||r}if(r.nodeType===3&&!n&&i===0){r=(new e(r,o.getBody())).prev()||r}return r}function at(t,n,r,i){function c(e){var t=a.create("span",{id:s,"data-mce-bogus":true,style:u?"color:red":""});if(e){t.appendChild(o.getDoc().createTextNode(v))}return t}function h(e,t){while(e){if(e.nodeType===3&&e.nodeValue!==v||e.childNodes.length>1){return false}if(t&&e.nodeType===1){t.push(e)}e=e.firstChild}return true}function p(e){while(e){if(e.id===s){return e}e=e.parentNode}}function d(t){var n;if(t){n=new e(t,t);for(t=n.current();t;t=n.next()){if(t.nodeType===3){return t}}}}function m(e,t){var n,r;if(!e){e=p(f.getStart());if(!e){while(e=a.get(s)){m(e,false)}}}else{r=f.getRng(true);if(h(e)){if(t!==false){r.setStartBefore(e);r.setEndBefore(e)}a.remove(e)}else{n=d(e);if(n.nodeValue.charAt(0)===v){n.deleteData(0,1);if(r.startContainer==n&&r.startOffset>0){r.setStart(n,r.startOffset-1)}if(r.endContainer==n&&r.endOffset>0){r.setEnd(n,r.endOffset-1)}}a.remove(e,1)}f.setRng(r)}}function g(){var e,t,i,s,o,u,a;e=f.getRng(true);s=e.startOffset;u=e.startContainer;a=u.nodeValue;t=p(f.getStart());if(t){i=d(t)}if(a&&s>0&&s<a.length&&/\w/.test(a.charAt(s))&&/\w/.test(a.charAt(s-1))){o=f.getBookmark();e.collapse(true);e=tt(e,P(n));e=l.split(e);I(n,r,e);f.moveToBookmark(o)}else{if(!t||i.nodeValue!==v){t=c(true);i=t.firstChild;e.insertNode(t);s=1;I(n,r,t)}else{I(n,r,t)}f.setCursorLocation(i,s)}}function y(){var e=f.getRng(true),t,s,o,u,h,p,d=[],m,g;t=e.startContainer;s=e.startOffset;h=t;if(t.nodeType==3){if(s!=t.nodeValue.length){u=true}h=h.parentNode}while(h){if(U(h,n,r,i)){p=h;break}if(h.nextSibling){u=true}d.push(h);h=h.parentNode}if(!p){return}if(u){o=f.getBookmark();e.collapse(true);e=tt(e,P(n),true);e=l.split(e);q(n,r,e);f.moveToBookmark(o)}else{g=c();h=g;for(m=d.length-1;m>=0;m--){h.appendChild(a.clone(d[m],false));h=h.firstChild}h.appendChild(a.doc.createTextNode(v));h=h.firstChild;var y=a.getParent(p,A);if(y&&a.isEmpty(y)){p.parentNode.replaceChild(g,p)}else{a.insertAfter(g,p)}f.setCursorLocation(h,1);if(a.isEmpty(p)){a.remove(p)}}}function b(){var e;e=p(f.getStart());if(e&&!a.isEmpty(e)){k(e,function(e){if(e.nodeType==1&&e.id!==s&&!a.isEmpty(e)){a.setAttrib(e,"data-mce-bogus",null)}},"childNodes")}}var s="_mce_caret",u=o.settings.caret_debug;if(!o._hasCaretEvents){x=function(){var e=[],t;if(h(p(f.getStart()),e)){t=e.length;while(t--){a.setAttrib(e[t],"data-mce-bogus","1")}}};S=function(e){var t=e.keyCode;m();if(t==8||t==37||t==39){m(p(f.getStart()))}b()};o.on("SetContent",function(e){if(e.selection){b()}});o._hasCaretEvents=true}if(t=="apply"){g()}else{y()}}function ft(t){var n=t.startContainer,r=t.startOffset,i,s,o,u,l;if(n.nodeType==3&&r>=n.nodeValue.length){r=d(n);n=n.parentNode;i=true}if(n.nodeType==1){u=n.childNodes;n=u[Math.min(r,u.length-1)];s=new e(n,a.getParent(n,a.isBlock));if(r>u.length-1||i){s.next()}for(o=s.current();o;o=s.next()){if(o.nodeType==3&&!Z(o)){l=a.create("a",{"data-mce-bogus":"all"},v);o.parentNode.insertBefore(l,o);t.setStart(o,0);f.setRng(t);a.remove(l);return}}}}var u={},a=o.dom,f=o.selection,l=new t(a),c=o.schema.isValidChild,h=a.isBlock,p=o.settings.forced_root_block,d=a.nodeIndex,v="﻿",m=/^(src|href|style)$/,g=false,y=true,b,w,E=a.getContentEditable,S,x,T=n.isBookmarkNode;var N=i.each,C=i.grep,k=i.walk,L=i.extend;L(this,{get:P,register:H,unregister:B,apply:I,remove:q,toggle:R,match:z,matchAll:W,matchNode:U,canApply:X,formatChanged:V,getCssText:$});_();D();o.on("BeforeGetContent",function(e){if(x&&e.format!="raw"){x()}});o.on("mouseup keydown",function(e){if(S){S(e)}})}});i("tinymce/UndoManager",["tinymce/Env","tinymce/util/Tools","tinymce/html/SaxParser"],function(e,t,n){var r=t.trim,i;i=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​﻿]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi");return function(t){function c(){var e=t.getContent({format:"raw",no_events:1});var s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g;var o,u,a,f,l,c=t.schema;e=e.replace(i,"");l=c.getShortEndedElements();while(f=s.exec(e)){u=s.lastIndex;a=f[0].length;if(l[f[1]]){o=u}else{o=n.findEndTag(c,e,u)}e=e.substring(0,u-a)+e.substring(o);s.lastIndex=u-a}return r(e)}function h(e){s.typing=false;s.add({},e)}var s=this,o=0,u=[],a,f,l=0;t.on("init",function(){s.add()});t.on("BeforeExecCommand",function(e){var t=e.command;if(t!="Undo"&&t!="Redo"&&t!="mceRepaint"){s.beforeChange()}});t.on("ExecCommand",function(e){var t=e.command;if(t!="Undo"&&t!="Redo"&&t!="mceRepaint"){h(e)}});t.on("ObjectResizeStart",function(){s.beforeChange()});t.on("SaveContent ObjectResized blur",h);t.on("DragEnd",h);t.on("KeyUp",function(n){var r=n.keyCode;if(r>=33&&r<=36||r>=37&&r<=40||r==45||r==13||n.ctrlKey){h();t.nodeChanged()}if(r==46||r==8||e.mac&&(r==91||r==93)){t.nodeChanged()}if(f&&s.typing){if(!t.isDirty()){t.isNotDirty=!u[0]||c()==u[0].content;if(!t.isNotDirty){t.fire("change",{level:u[0],lastLevel:null})}}t.fire("TypingUndo");f=false;t.nodeChanged()}});t.on("KeyDown",function(e){var t=e.keyCode;if(t>=33&&t<=36||t>=37&&t<=40||t==45){if(s.typing){h(e)}return}if((t<16||t>20)&&t!=224&&t!=91&&!s.typing){s.beforeChange();s.typing=true;s.add({},e);f=true}});t.on("MouseDown",function(e){if(s.typing){h(e)}});t.addShortcut("ctrl+z","","Undo");t.addShortcut("ctrl+y,ctrl+shift+z","","Redo");t.on("AddUndo Undo Redo ClearUndos",function(e){if(!e.isDefaultPrevented()){t.nodeChanged()}});s={data:u,typing:false,beforeChange:function(){if(!l){a=t.selection.getBookmark(2,true)}},add:function(e,n){var r,i=t.settings,s;e=e||{};e.content=c();if(l||t.removed){return null}s=u[o];if(t.fire("BeforeAddUndo",{level:e,lastLevel:s,originalEvent:n}).isDefaultPrevented()){return null}if(s&&s.content==e.content){return null}if(u[o]){u[o].beforeBookmark=a}if(i.custom_undo_redo_levels){if(u.length>i.custom_undo_redo_levels){for(r=0;r<u.length-1;r++){u[r]=u[r+1]}u.length--;o=u.length}}e.bookmark=t.selection.getBookmark(2,true);if(o<u.length-1){u.length=o+1}u.push(e);o=u.length-1;var f={level:e,lastLevel:s,originalEvent:n};t.fire("AddUndo",f);if(o>0){t.isNotDirty=false;t.fire("change",f)}return e},undo:function(){var e;if(s.typing){s.add();s.typing=false}if(o>0){e=u[--o];if(o===0){t.isNotDirty=true}t.setContent(e.content,{format:"raw"});t.selection.moveToBookmark(e.beforeBookmark);t.fire("undo",{level:e})}return e},redo:function(){var e;if(o<u.length-1){e=u[++o];t.setContent(e.content,{format:"raw"});t.selection.moveToBookmark(e.bookmark);t.fire("redo",{level:e})}return e},clear:function(){u=[];o=0;s.typing=false;t.fire("ClearUndos")},hasUndo:function(){return o>0||s.typing&&u[0]&&c()!=u[0].content},hasRedo:function(){return o<u.length-1&&!this.typing},transact:function(e){s.beforeChange();try{l++;e()}finally{l--}s.add()}};return s}});i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(e,t,n){var r=n.ie&&n.ie<11;return function(i){function c(c){function k(e){return e&&s.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&s.getContentEditable(e)!=="true"}function L(e){var t;if(s.isBlock(e)){t=o.getRng();e.appendChild(s.create("span",null," "));o.select(e);e.lastChild.outerHTML="";o.setRng(t)}}function A(e){var t=e,n=[],r;if(!t){return}while(t=t.firstChild){if(s.isBlock(t)){return}if(t.nodeType==1&&!l[t.nodeName.toLowerCase()]){n.push(t)}}r=n.length;while(r--){t=n[r];if(!t.hasChildNodes()||t.firstChild==t.lastChild&&t.firstChild.nodeValue===""){s.remove(t)}else{if(t.nodeName=="A"&&(t.innerText||t.textContent)===" "){s.remove(t)}}}}function O(t){function c(e){while(e){if(e.nodeType==1||e.nodeType==3&&e.data&&/[\r\n\s]/.test(e.data)){return e}e=e.nextSibling}}var r,i,u,a=t,f;if(!t){return}if(n.ie&&n.ie<9&&g&&g.firstChild){if(g.firstChild==g.lastChild&&g.firstChild.tagName=="BR"){s.remove(g.firstChild)}}if(/^(LI|DT|DD)$/.test(t.nodeName)){var h=c(t.firstChild);if(h&&/^(UL|OL|DL)$/.test(h.nodeName)){t.insertBefore(s.doc.createTextNode(" "),t.firstChild)}}u=s.createRng();if(!n.ie){t.normalize()}if(t.hasChildNodes()){r=new e(t,t);while(i=r.current()){if(i.nodeType==3){u.setStart(i,0);u.setEnd(i,0);break}if(l[i.nodeName.toLowerCase()]){u.setStartBefore(i);u.setEndBefore(i);break}a=i;i=r.next()}if(!i){u.setStart(a,0);u.setEnd(a,0)}}else{if(t.nodeName=="BR"){if(t.nextSibling&&s.isBlock(t.nextSibling)){if(!y||y<9){f=s.create("br");t.parentNode.insertBefore(f,t)}u.setStartBefore(t);u.setEndBefore(t)}else{u.setStartAfter(t);u.setEndAfter(t)}}else{u.setStart(t,0);u.setEnd(t,0)}}o.setRng(u);s.remove(f);o.scrollIntoView(t)}function M(e){var t=u.forced_root_block;if(t&&t.toLowerCase()===e.tagName.toLowerCase()){s.setAttribs(e,u.forced_root_block_attrs)}}function _(e){var t=v,n,i,o,a=f.getTextInlineElements();if(e||x=="TABLE"){n=s.create(e||N);M(n)}else{n=g.cloneNode(false)}o=n;if(u.keep_styles!==false){do{if(a[t.nodeName]){if(t.id=="_mce_caret"){continue}i=t.cloneNode(false);s.setAttrib(i,"id","");if(n.hasChildNodes()){i.appendChild(n.firstChild);n.appendChild(i)}else{o=i;n.appendChild(i)}}}while(t=t.parentNode)}if(!r){o.innerHTML='<br data-mce-bogus="1">'}return n}function D(t){var n,r,i;if(v.nodeType==3&&(t?m>0:m<v.nodeValue.length)){return false}if(v.parentNode==g&&C&&!t){return true}if(t&&v.nodeType==1&&v==g.firstChild){return true}if(v.nodeName==="TABLE"||v.previousSibling&&v.previousSibling.nodeName=="TABLE"){return C&&!t||!C&&t}n=new e(v,g);if(v.nodeType==3){if(t&&m===0){n.prev()}else if(!t&&m==v.nodeValue.length){n.next()}}while(r=n.current()){if(r.nodeType===1){if(!r.getAttribute("data-mce-bogus")){i=r.nodeName.toLowerCase();if(l[i]&&i!=="br"){return false}}}else if(r.nodeType===3&&!/^[ \t\r\n]*$/.test(r.nodeValue)){return false}if(t){n.prev()}else{n.next()}}return true}function P(e,t){var n,r,o,u,a,l,c=N||"P";r=s.getParent(e,s.isBlock);l=i.getBody().nodeName.toLowerCase();if(!r||!k(r)){r=r||d;if(!r.hasChildNodes()){n=s.create(c);M(n);r.appendChild(n);h.setStart(n,0);h.setEnd(n,0);return n}u=e;while(u.parentNode!=r){u=u.parentNode}while(u&&!s.isBlock(u)){o=u;u=u.previousSibling}if(o&&f.isValidChild(l,c.toLowerCase())){n=s.create(c);M(n);o.parentNode.insertBefore(n,o);u=o;while(u&&!s.isBlock(u)){a=u.nextSibling;n.appendChild(u);u=a}h.setStart(e,t);h.setEnd(e,t)}}return e}function H(){function e(e){var t=S[e?"firstChild":"lastChild"];while(t){if(t.nodeType==1){break}t=t[e?"nextSibling":"previousSibling"]}return t===g}function t(){var e=S.parentNode;if(/^(LI|DT|DD)$/.test(e.nodeName)){return e}return S}var n=S.parentNode.nodeName;if(/^(OL|UL|LI)$/.test(n)){N="LI"}w=N?_(N):s.create("BR");if(e(true)&&e()){if(n=="LI"){s.insertAfter(w,t())}else{s.replace(w,S)}}else if(e(true)){if(n=="LI"){s.insertAfter(w,t());w.appendChild(s.doc.createTextNode(" "));w.appendChild(S)}else{S.parentNode.insertBefore(w,S)}}else if(e()){s.insertAfter(w,t());L(w)}else{S=t();p=h.cloneRange();p.setStartAfter(g);p.setEndAfter(S);E=p.extractContents();if(N=="LI"&&E.firstChild.nodeName=="LI"){w=E.firstChild;s.insertAfter(E,S)}else{s.insertAfter(E,S);s.insertAfter(w,S)}}s.remove(g);O(w);a.add()}function B(){i.execCommand("InsertLineBreak",false,c)}function j(e){do{if(e.nodeType===3){e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")}e=e.firstChild}while(e)}function F(e){var t=s.getRoot(),n,r;n=e;while(n!==t&&s.getContentEditable(n)!=="false"){if(s.getContentEditable(n)==="true"){r=n}n=n.parentNode}return n!==t?r:t}function I(e){var t;if(!r){e.normalize();t=e.lastChild;if(!t||/^(left|right)$/gi.test(s.getStyle(t,"float",true))){s.add(e,"br")}}}var h,p,d,v,m,g,y,b,w,E,S,x,T,N,C;h=o.getRng(true);if(c.isDefaultPrevented()){return}if(!h.collapsed){i.execCommand("Delete");return}(new t(s)).normalize(h);v=h.startContainer;m=h.startOffset;N=(u.force_p_newlines?"p":"")||u.forced_root_block;N=N?N.toUpperCase():"";y=s.doc.documentMode;b=c.shiftKey;if(v.nodeType==1&&v.hasChildNodes()){C=m>v.childNodes.length-1;v=v.childNodes[Math.min(m,v.childNodes.length-1)]||v;if(C&&v.nodeType==3){m=v.nodeValue.length}else{m=0}}d=F(v);if(!d){return}a.beforeChange();if(!s.isBlock(d)&&d!=s.getRoot()){if(!N||b){B()}return}if(N&&!b||!N&&b){v=P(v,m)}g=s.getParent(v,s.isBlock);S=g?s.getParent(g.parentNode,s.isBlock):null;x=g?g.nodeName.toUpperCase():"";T=S?S.nodeName.toUpperCase():"";if(T=="LI"&&!c.ctrlKey){g=S;x=T}if(/^(LI|DT|DD)$/.test(x)){if(!N&&b){B();return}if(s.isEmpty(g)){H();return}}if(x=="PRE"&&u.br_in_pre!==false){if(!b){B();return}}else{if(!N&&!b&&x!="LI"||N&&b){B();return}}if(N&&g===i.getBody()){return}N=N||"P";if(D()){if(/^(H[1-6]|PRE|FIGURE)$/.test(x)&&T!="HGROUP"){w=_(N)}else{w=_()}if(u.end_container_on_empty_block&&k(S)&&s.isEmpty(g)){w=s.split(S,g)}else{s.insertAfter(w,g)}O(w)}else if(D(true)){w=g.parentNode.insertBefore(_(),g);L(w);O(g)}else{p=h.cloneRange();p.setEndAfter(g);E=p.extractContents();j(E);w=E.firstChild;s.insertAfter(E,g);A(w);I(g);O(w)}s.setAttrib(w,"id","");i.fire("NewBlock",{newBlock:w});a.add()}var s=i.dom,o=i.selection,u=i.settings;var a=i.undoManager,f=i.schema,l=f.getNonEmptyElements();i.on("keydown",function(e){if(e.keyCode==13){if(c(e)!==false){e.preventDefault()}}})}});i("tinymce/ForceBlocks",[],function(){return function(e){function o(){var o=r.getStart(),u=e.getBody(),a;var f,l,c,h,p;var d,v=-16777215,m,g;var y,b,w;w=t.forced_root_block;if(!o||o.nodeType!==1||!w){return}while(o&&o!=u){if(s[o.nodeName]){return}o=o.parentNode}a=r.getRng();if(a.setStart){f=a.startContainer;l=a.startOffset;c=a.endContainer;h=a.endOffset;try{g=e.getDoc().activeElement===u}catch(E){}}else{if(a.item){o=a.item(0);a=e.getDoc().body.createTextRange();a.moveToElementText(o)}g=a.parentElement().ownerDocument===e.getDoc();y=a.duplicate();y.collapse(true);l=y.move("character",v)*-1;if(!y.collapsed){y=a.duplicate();y.collapse(false);h=y.move("character",v)*-1-l}}o=u.firstChild;b=u.nodeName.toLowerCase();while(o){if((o.nodeType===3||o.nodeType==1&&!s[o.nodeName])&&i.isValidChild(b,w.toLowerCase())){if(o.nodeType===3&&o.nodeValue.length===0){d=o;o=o.nextSibling;n.remove(d);continue}if(!p){p=n.create(w,e.settings.forced_root_block_attrs);o.parentNode.insertBefore(p,o);m=true}d=o;o=o.nextSibling;p.appendChild(d)}else{p=null;o=o.nextSibling}}if(m&&g){if(a.setStart){a.setStart(f,l);a.setEnd(c,h);r.setRng(a)}else{try{a=e.getDoc().body.createTextRange();a.moveToElementText(u);a.collapse(true);a.moveStart("character",l);if(h>0){a.moveEnd("character",h)}a.select()}catch(E){}}e.nodeChanged()}}var t=e.settings,n=e.dom,r=e.selection;var i=e.schema,s=i.getBlockElements();if(t.forced_root_block){e.on("NodeChange",o)}}});i("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools","tinymce/dom/ElementUtils","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker"],function(e,n,r,i,s,o){var u=r.each,a=r.extend;var f=r.map,l=r.inArray,c=r.explode;var h=n.gecko,p=n.ie,d=n.ie&&n.ie<11;var v=true,m=false;return function(r){function x(e,t,n){var r;e=e.toLowerCase();if(r=b.exec[e]){r(e,t,n);return v}return m}function T(e){var t;e=e.toLowerCase();if(t=b.state[e]){return t(e)}return-1}function N(e){var t;e=e.toLowerCase();if(t=b.value[e]){return t(e)}return m}function C(e,t){t=t||"exec";u(e,function(e,n){u(n.toLowerCase().split(","),function(n){b[t][n]=e})})}function k(e,n,i){if(n===t){n=m}if(i===t){i=null}return r.getDoc().execCommand(e,n,i)}function L(e){return E.match(e)}function A(e,n){E.toggle(e,n?{value:n}:t);r.nodeChanged()}function O(e){S=y.getBookmark(e)}function M(){y.moveToBookmark(S)}var g=r.dom,y=r.selection,b={state:{},exec:{},value:{}},w=r.settings,E=r.formatter,S;a(this,{execCommand:x,queryCommandState:T,queryCommandValue:N,addCommands:C});C({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},"Cut,Copy,Paste":function(e){var t=r.getDoc(),i;try{k(e)}catch(s){i=v}if(i||!t.queryCommandSupported(e)){var o=r.translate("Your browser doesn't support direct access to the clipboard. "+"Please use the Ctrl+X/C/V keyboard shortcuts instead.");if(n.mac){o=o.replace(/Ctrl\+/g,"⌘+")}r.windowManager.alert(o)}},unlink:function(){if(y.isCollapsed()){var e=y.getNode();if(e.tagName=="A"){r.dom.remove(e,true)}return}E.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);if(t=="full"){t="justify"}u("left,center,right,justify".split(","),function(e){if(t!=e){E.remove("align"+e)}});A("align"+t);x("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;k(e);t=g.getParent(y.getNode(),"ol,ul");if(t){n=t.parentNode;if(/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)){O();g.split(n,t);M()}}},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){A(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){A(e,n)},FontSize:function(e,t,n){var r,i;if(n>=1&&n<=7){i=c(w.font_size_style_values);r=c(w.font_size_classes);if(r){n=r[n-1]||n}else{n=i[n-1]||n}}A(e,n)},RemoveFormat:function(e){E.remove(e)},mceBlockQuote:function(){A("blockquote")},FormatBlock:function(e,t,n){return A(n||"p")},mceCleanup:function(){var e=y.getBookmark();r.setContent(r.getContent({cleanup:v}),{cleanup:v});y.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||y.getNode();if(i!=r.getBody()){O();r.dom.remove(i,v);M()}},mceSelectNodeDepth:function(e,t,n){var i=0;g.getParent(y.getNode(),function(e){if(e.nodeType==1&&i++==n){y.select(e);return m}},r.getBody())},mceSelectNode:function(e,t,n){y.select(n)},mceInsertContent:function(t,n,s){function x(e){function i(e){return n[e]&&n[e].nodeType==3}var t,n,r;t=y.getRng(true);n=t.startContainer;r=t.startOffset;if(n.nodeType==3){if(r>0){e=e.replace(/^&nbsp;/," ")}else if(!i("previousSibling")){e=e.replace(/^ /,"&nbsp;")}if(r<n.length){e=e.replace(/&nbsp;(<br>|)$/," ")}else if(!i("nextSibling")){e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;")}}return e}function T(e){if(E){for(m=e.firstChild;m;m=m.walk(true)){if(S[m.name]){m.attr("data-mce-new","true")}}}}function N(){if(E){var e=r.getBody(),t=new i(g);u(g.select("*[data-mce-new]"),function(n){n.removeAttribute("data-mce-new");for(var r=n.parentNode;r&&r!=e;r=r.parentNode){if(t.compare(r,n)){g.remove(n,true)}}})}}var o,a,f,l,c,h;var d,v,m,b,w,E;var S=r.schema.getTextInlineElements();if(typeof s!="string"){E=s.merge;s=s.content}if(/^ | $/.test(s)){s=x(s)}o=r.parser;a=new e({},r.schema);w='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';h={content:s,format:"html",selection:true};r.fire("BeforeSetContent",h);s=h.content;if(s.indexOf("{$caret}")==-1){s+="{$caret}"}s=s.replace(/\{\$caret\}/,w);v=y.getRng();var C=v.startContainer||(v.parentElement?v.parentElement():null);var k=r.getBody();if(C===k&&y.isCollapsed()){if(g.isBlock(k.firstChild)&&g.isEmpty(k.firstChild)){v=g.createRng();v.setStart(k.firstChild,0);v.setEnd(k.firstChild,0);y.setRng(v)}}if(!y.isCollapsed()){r.getDoc().execCommand("Delete",false,null)}f=y.getNode();var L={context:f.nodeName.toLowerCase()};c=o.parse(s,L);T(c);m=c.lastChild;if(m.attr("id")=="mce_marker"){d=m;for(m=m.prev;m;m=m.walk(true)){if(m.type==3||!g.isBlock(m.name)){if(r.schema.isValidChild(m.parent.name,"span")){m.parent.insert(d,m,m.name==="br")}break}}}if(!L.invalid){s=a.serialize(c);m=f.firstChild;b=f.lastChild;if(!m||m===b&&m.nodeName==="BR"){g.setHTML(f,s)}else{y.setContent(s)}}else{y.setContent(w);f=y.getNode();l=r.getBody();if(f.nodeType==9){f=m=l}else{m=f}while(m!==l){f=m;m=m.parentNode}s=f==l?l.innerHTML:g.getOuterHTML(f);s=a.serialize(o.parse(s.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return a.serialize(c)})));if(f==l){g.setHTML(l,s)}else{g.setOuterHTML(f,s)}}N();d=g.get("mce_marker");y.scrollIntoView(d);v=g.createRng();m=d.previousSibling;if(m&&m.nodeType==3){v.setStart(m,m.nodeValue.length);if(!p){b=d.nextSibling;if(b&&b.nodeType==3){m.appendData(b.data);b.parentNode.removeChild(b)}}}else{v.setStartBefore(d);v.setEndBefore(d)}g.remove(d);y.setRng(v);r.fire("SetContent",h);r.addVisual()},mceInsertRawHTML:function(e,t,n){y.setContent("tiny_mce_marker");r.setContent(r.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){A(n)},mceSetContent:function(e,t,n){r.setContent(n)},"Indent,Outdent":function(e){var t,n,i;t=w.indentation;n=/[a-z%]+$/i.exec(t);t=parseInt(t,10);if(!T("InsertUnorderedList")&&!T("InsertOrderedList")){if(!w.forced_root_block&&!g.getParent(y.getNode(),g.isBlock)){E.apply("div")}u(y.getSelectedBlocks(),function(s){if(s.nodeName!="LI"){var o=r.getParam("indent_use_margin",false)?"margin":"padding";o+=g.getStyle(s,"direction",true)=="rtl"?"Right":"Left";if(e=="outdent"){i=Math.max(0,parseInt(s.style[o]||0,10)-t);g.setStyle(s,o,i?i+n:"")}else{i=parseInt(s.style[o]||0,10)+t+n;g.setStyle(s,o,i)}}})}else{k(e)}},mceRepaint:function(){if(h){try{O(v);if(y.getSel()){y.getSel().selectAllChildren(r.getBody())}y.collapse(v);M()}catch(e){}}},InsertHorizontalRule:function(){r.execCommand("mceInsertContent",false,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual;r.addVisual()},mceReplaceContent:function(e,t,n){r.execCommand("mceInsertContent",false,n.replace(/\{\$selection\}/g,y.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;if(typeof n=="string"){n={href:n}}r=g.getParent(y.getNode(),"a");n.href=n.href.replace(" ","%20");if(!r||!n.href){E.remove("link")}if(n.href){E.apply("link",n,r)}},selectAll:function(){var e=g.getRoot(),t;if(y.getRng().setStart){t=g.createRng();t.setStart(e,0);t.setEnd(e,e.childNodes.length);y.setRng(t)}else{t=y.getRng();if(!t.item){t.moveToElementText(e);t.select()}}},"delete":function(){k("Delete");var e=r.getBody();if(g.isEmpty(e)){r.setContent("");if(e.firstChild&&g.isBlock(e.firstChild)){r.selection.setCursorLocation(e.firstChild,0)}else{r.selection.setCursorLocation(e,0)}}},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(e,t,n){function x(){var e=new o(h,m),t;var n=r.schema.getNonEmptyElements();while(t=e.next()){if(n[t.nodeName.toLowerCase()]||t.length>0){return true}}}var i=n;var u,a,f;var l=y.getRng(true);(new s(g)).normalize(l);var c=l.startOffset;var h=l.startContainer;if(h.nodeType==1&&h.hasChildNodes()){var p=c>h.childNodes.length-1;h=h.childNodes[Math.min(c,h.childNodes.length-1)]||h;if(p&&h.nodeType==3){c=h.nodeValue.length}else{c=0}}var m=g.getParent(h,g.isBlock);var b=m?m.nodeName.toUpperCase():"";var w=m?g.getParent(m.parentNode,g.isBlock):null;var E=w?w.nodeName.toUpperCase():"";var S=i&&i.ctrlKey;if(E=="LI"&&!S){m=w;b=E}if(h&&h.nodeType==3&&c>=h.nodeValue.length){if(!d&&!x()){u=g.create("br");l.insertNode(u);l.setStartAfter(u);l.setEndAfter(u);a=true}}u=g.create("br");l.insertNode(u);var T=g.doc.documentMode;if(d&&b=="PRE"&&(!T||T<8)){u.parentNode.insertBefore(g.doc.createTextNode("\r"),u)}f=g.create("span",{},"&nbsp;");u.parentNode.insertBefore(f,u);y.scrollIntoView(f);g.remove(f);if(!a){l.setStartAfter(u);l.setEndAfter(u)}else{l.setStartBefore(u);l.setEndBefore(u)}y.setRng(l);r.undoManager.add();return v}});C({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7);var n=y.isCollapsed()?[g.getParent(y.getNode(),g.isBlock)]:y.getSelectedBlocks();var r=f(n,function(e){return!!E.matchNode(e,t)});return l(r,v)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return L(e)},mceBlockQuote:function(){return L("blockquote")},Outdent:function(){var e;if(w.inline_styles){if((e=g.getParent(y.getStart(),g.isBlock))&&parseInt(e.style.paddingLeft,10)>0){return v}if((e=g.getParent(y.getEnd(),g.isBlock))&&parseInt(e.style.paddingLeft,10)>0){return v}}return T("InsertUnorderedList")||T("InsertOrderedList")||!w.inline_styles&&!!g.getParent(y.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=g.getParent(y.getNode(),"ul,ol");return t&&(e==="insertunorderedlist"&&t.tagName==="UL"||e==="insertorderedlist"&&t.tagName==="OL")}},"state");C({"FontSize,FontName":function(e){var t=0,n;if(n=g.getParent(y.getNode(),"span")){if(e=="fontsize"){t=n.style.fontSize}else{t=n.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()}}return t}},"value");C({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}})}});i("tinymce/util/URI",["tinymce/util/Tools"],function(e){function s(e,i){var o=this,u,a;e=n(e);i=o.settings=i||{};u=i.base_uri;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){o.source=e;return}var f=e.indexOf("//")===0;if(e.indexOf("/")===0&&!f){e=(u?u.protocol||"http":"http")+"://mce_host"+e}if(!/^[\w\-]*:?\/\//.test(e)){a=i.base_uri?i.base_uri.path:(new s(location.href)).directory;if(i.base_uri.protocol===""){e="//mce_host"+o.toAbsPath(a,e)}else{e=/([^#?]*)([#?]?.*)/.exec(e);e=(u&&u.protocol||"http")+"://mce_host"+o.toAbsPath(a,e[1])+e[2]}}e=e.replace(/@@/g,"(mce_at)");e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);t(r,function(t,n){var r=e[n];if(r){r=r.replace(/\(mce_at\)/g,"@@")}o[t]=r});if(u){if(!o.protocol){o.protocol=u.protocol}if(!o.userInfo){o.userInfo=u.userInfo}if(!o.port&&o.host==="mce_host"){o.port=u.port}if(!o.host||o.host==="mce_host"){o.host=u.host}o.source=""}if(f){o.protocol=""}}var t=e.each,n=e.trim;var r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");var i={ftp:21,http:80,https:443,mailto:25};s.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e);t.path=e[0];t.directory=e[1];t.file=e[2];t.source="";t.getURI()},toRelative:function(e){var t=this,n;if(e==="./"){return e}e=new s(e,{base_uri:t});if(e.host!="mce_host"&&t.host!=e.host&&e.host||t.port!=e.port||t.protocol!=e.protocol&&e.protocol!==""){return e.getURI()}var r=t.getURI(),i=e.getURI();if(r==i||r.charAt(r.length-1)=="/"&&r.substr(0,r.length-1)==i){return r}n=t.toRelPath(t.path,e.path);if(e.query){n+="?"+e.query}if(e.anchor){n+="#"+e.anchor}return n},toAbsolute:function(e,t){e=new s(e,{base_uri:this});return e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port){return true}var t=i[this.protocol];if(t&&(this.port||t)==(e.port||t)){return true}}return false},toRelPath:function(e,t){var n,r=0,i="",s,o;e=e.substring(0,e.lastIndexOf("/"));e=e.split("/");n=t.split("/");if(e.length>=n.length){for(s=0,o=e.length;s<o;s++){if(s>=n.length||e[s]!=n[s]){r=s+1;break}}}if(e.length<n.length){for(s=0,o=n.length;s<o;s++){if(s>=e.length||e[s]!=n[s]){r=s+1;break}}}if(r===1){return t}for(s=0,o=e.length-(r-1);s<o;s++){i+="../"}for(s=r-1,o=n.length;s<o;s++){if(s!=r-1){i+="/"+n[s]}else{i+=n[s]}}return i},toAbsPath:function(e,n){var r,i=0,s=[],o,u;o=/\/$/.test(n)?"/":"";e=e.split("/");n=n.split("/");t(e,function(e){if(e){s.push(e)}});e=s;for(r=n.length-1,s=[];r>=0;r--){if(n[r].length===0||n[r]==="."){continue}if(n[r]===".."){i++;continue}if(i>0){i--;continue}s.push(n[r])}r=e.length-i;if(r<=0){u=s.reverse().join("/")}else{u=e.slice(0,r).join("/")+"/"+s.reverse().join("/")}if(u.indexOf("/")!==0){u="/"+u}if(o&&u.lastIndexOf("/")!==u.length-1){u+=o}return u},getURI:function(e){var t,n=this;if(!n.source||e){t="";if(!e){if(n.protocol){t+=n.protocol+"://"}else{t+="//"}if(n.userInfo){t+=n.userInfo+"@"}if(n.host){t+=n.host}if(n.port){t+=":"+n.port}}if(n.path){t+=n.path}if(n.query){t+="?"+n.query}if(n.anchor){t+="#"+n.anchor}n.source=t}return n.source}};return s});i("tinymce/util/Class",["tinymce/util/Tools"],function(e){function s(){}var t=e.each,n=e.extend;var r,i;s.extend=r=function(e){function l(){var e,t,n,r=this;if(!i){if(r.init){r.init.apply(r,arguments)}t=r.Mixins;if(t){e=t.length;while(e--){n=t[e];if(n.init){n.init.apply(r,arguments)}}}}}function c(){return this}function h(e,t){return function(){var n=this,r=n._super,i;n._super=o[e];i=t.apply(n,arguments);n._super=r;return i}}var s=this,o=s.prototype,u,a,f;i=true;u=new s;i=false;if(e.Mixins){t(e.Mixins,function(t){t=t;for(var n in t){if(n!=="init"){e[n]=t[n]}}});if(o.Mixins){e.Mixins=o.Mixins.concat(e.Mixins)}}if(e.Methods){t(e.Methods.split(","),function(t){e[t]=c})}if(e.Properties){t(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this,r;if(e!==r){t[n]=e;return t}return t[n]}})}if(e.Statics){t(e.Statics,function(e,t){l[t]=e})}if(e.Defaults&&o.Defaults){e.Defaults=n({},o.Defaults,e.Defaults)}for(a in e){f=e[a];if(typeof f=="function"&&o[a]){u[a]=h(a,f)}else{u[a]=f}}l.prototype=u;l.constructor=l;l.extend=r;return l};return s});i("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(e){function n(e){function s(){return false}function o(){return true}function u(t,i){var u,a,l,c;t=t.toLowerCase();i=i||{};i.type=t;if(!i.target){i.target=n}if(!i.preventDefault){i.preventDefault=function(){i.isDefaultPrevented=o};i.stopPropagation=function(){i.isPropagationStopped=o};i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=o};i.isDefaultPrevented=s;i.isPropagationStopped=s;i.isImmediatePropagationStopped=s}if(e.beforeFire){e.beforeFire(i)}u=r[t];if(u){for(a=0,l=u.length;a<l;a++){u[a]=c=u[a];if(c.once){f(t,c)}if(i.isImmediatePropagationStopped()){i.stopPropagation();return i}if(c.call(n,i)===false){i.preventDefault();return i}}}return i}function a(e,n,o){var u,a,f;if(n===false){n=s}if(n){a=e.toLowerCase().split(" ");f=a.length;while(f--){e=a[f];u=r[e];if(!u){u=r[e]=[];i(e,true)}if(o){u.unshift(n)}else{u.push(n)}}}return t}function f(e,n){var s,o,u,a,f;if(e){a=e.toLowerCase().split(" ");s=a.length;while(s--){e=a[s];o=r[e];if(!e){for(u in r){i(u,false);delete r[u]}return t}if(o){if(!n){o.length=0}else{f=o.length;while(f--){if(o[f]===n){o=o.slice(0,f).concat(o.slice(f+1));r[e]=o}}}if(!o.length){i(e,false);delete r[e]}}}}else{for(e in r){i(e,false)}r={}}return t}function l(e,t,n){t.once=true;return a(e,t,n)}function c(e){e=e.toLowerCase();return!(!r[e]||r[e].length===0)}var t=this,n,r={},i;e=e||{};n=e.scope||t;i=e.toggleEvent||s;t.fire=u;t.on=a;t.off=f;t.once=l;t.has=c}var t=e.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange "+"mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover "+"draggesture dragdrop drop drag submit "+"compositionstart compositionend compositionupdate touchstart touchend"," ");n.isNative=function(e){return!!t[e.toLowerCase()]};return n});i("tinymce/ui/Selector",["tinymce/util/Class"],function(e){"use strict";function t(e){var t=[],n=e.length,r;while(n--){r=e[n];if(!r.__checked){t.push(r);r.__checked=1}}n=t.length;while(n--){delete t[n].__checked}return t}var n=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i;var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i=/^\s*|\s*$/g,s;var o=e.extend({init:function(e){function s(e){if(e){e=e.toLowerCase();return function(t){return e==="*"||t.type===e}}}function o(e){if(e){return function(t){return t._name===e}}}function u(e){if(e){e=e.split(".");return function(t){var n=e.length;while(n--){if(!t.hasClass(e[n])){return false}}return true}}}function a(e,t,n){if(e){return function(r){var i=r[e]?r[e]():"";return!t?!!n:t==="="?i===n:t==="*="?i.indexOf(n)>=0:t==="~="?(" "+i+" ").indexOf(" "+n+" ")>=0:t==="!="?i!=n:t==="^="?i.indexOf(n)===0:t==="$="?i.substr(i.length-n.length)===n:false}}}function f(e){var n;if(e){e=/(?:not\((.+)\))|(.+)/i.exec(e);if(!e[1]){e=e[2];return function(t,n,r){return e==="first"?n===0:e==="last"?n===r-1:e==="even"?n%2===0:e==="odd"?n%2===1:t[e]?t[e]():false}}else{n=c(e[1],[]);return function(e){return!t(e,n)}}}}function l(e,t,r){function c(e){if(e){t.push(e)}}var l;l=n.exec(e.replace(i,""));c(s(l[1]));c(o(l[2]));c(u(l[3]));c(a(l[4],l[5],l[6]));c(f(l[7]));t.psuedo=!!l[7];t.direct=r;return t}function c(e,t){var n=[],i,s,o;do{r.exec("");s=r.exec(e);if(s){e=s[3];n.push(s[1]);if(s[2]){i=s[3];break}}}while(s);if(i){c(i,t)}e=[];for(o=0;o<n.length;o++){if(n[o]!=">"){e.push(l(n[o],[],n[o-1]===">"))}}t.push(e);return t}var t=this.match;this._selectors=c(e,[])},match:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d;t=t||this._selectors;for(n=0,r=t.length;n<r;n++){o=t[n];s=o.length;d=e;p=0;for(i=s-1;i>=0;i--){f=o[i];while(d){if(f.psuedo){h=d.parent().items();l=c=h.length;while(l--){if(h[l]===d){break}}}for(u=0,a=f.length;u<a;u++){if(!f[u](d,l,c)){u=a+1;break}}if(u===a){p++;break}else{if(i===s-1){break}}d=d.parent()}}if(p===s){return true}}return false},find:function(e){function a(e,t,r){var i,s,o,u,f,l=t[r];for(i=0,s=e.length;i<s;i++){f=e[i];for(o=0,u=l.length;o<u;o++){if(!l[o](f,i,s)){o=u+1;break}}if(o===u){if(r==t.length-1){n.push(f)}else{if(f.items){a(f.items(),t,r+1)}}}else if(l.direct){return}if(f.items){a(f.items(),t,r)}}}var n=[],r,i,u=this._selectors;if(e.items){for(r=0,i=u.length;r<i;r++){a(e.items(),u[r],0)}if(i>1){n=t(n)}}if(!s){s=o.Collection}return new s(n)}});return o});i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(e,t,n){"use strict";var r,i,s=Array.prototype.push,o=Array.prototype.slice;i={length:0,init:function(e){if(e){this.add(e)}},add:function(t){var n=this;if(!e.isArray(t)){if(t instanceof r){n.add(t.toArray())}else{s.call(n,t)}}else{s.apply(n,t)}return n},set:function(e){var t=this,n=t.length,r;t.length=0;t.add(e);for(r=t.length;r<n;r++){delete t[r]}return t},filter:function(e){var n=this,i,s,o=[],u,a;if(typeof e==="string"){e=new t(e);a=function(t){return e.match(t)}}else{a=e}for(i=0,s=n.length;i<s;i++){u=n[i];if(a(u)){o.push(u)}}return new r(o)},slice:function(){return new r(o.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(t){e.each(this,t);return this},toArray:function(){return e.toArray(this)},indexOf:function(e){var t=this,n=t.length;while(n--){if(t[n]===e){break}}return n},reverse:function(){return new r(e.toArray(this).reverse())},hasClass:function(e){return this[0]?this[0].hasClass(e):false},prop:function(e,t){var n=this,r,i;if(t!==r){n.each(function(n){if(n[e]){n[e](t)}});return n}i=n[0];if(i&&i[e]){return i[e]()}},exec:function(t){var n=this,r=e.toArray(arguments).slice(1);n.each(function(e){if(e[t]){e[t].apply(e,r)}});return n},remove:function(){var e=this.length;while(e--){this[e].remove()}return this}};e.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(t){i[t]=function(){var n=e.toArray(arguments);this.each(function(e){if(t in e){e[t].apply(e,n)}});return this}});e.each("text name disabled active selected checked visible parent value data".split(" "),function(e){i[e]=function(t){return this.prop(e,t)}});r=n.extend(i);t.Collection=r;return r});i("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,t){"use strict";var n=0;return{id:function(){return"mceu_"+n++},createFragment:function(e){return t.DOM.createFragment(e)},getWindowSize:function(){return t.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth);n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else{t=e.offsetWidth;n=e.offsetHeight}return{width:t,height:n}},getPos:function(e,n){return t.DOM.getPos(e,n)},getViewPort:function(e){return t.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,n){return t.DOM.addClass(e,n)},removeClass:function(e,n){return t.DOM.removeClass(e,n)},hasClass:function(e,n){return t.DOM.hasClass(e,n)},toggleClass:function(e,n,r){return t.DOM.toggleClass(e,n,r)},css:function(e,n,r){return t.DOM.setStyle(e,n,r)},getRuntimeStyle:function(e,n){return t.DOM.getStyle(e,n,true)},on:function(e,n,r,i){return t.DOM.bind(e,n,r,i)},off:function(e,n,r){return t.DOM.unbind(e,n,r)},fire:function(e,n,r){return t.DOM.fire(e,n,r)},innerHtml:function(e,n){t.DOM.setHTML(e,n)}}});i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/ui/Collection","tinymce/ui/DomUtils"],function(e,t,n,r,i){"use strict";function a(e){if(!e._eventDispatcher){e._eventDispatcher=new n({scope:e,toggleEvent:function(t,r){if(r&&n.isNative(t)){if(!e._nativeEvents){e._nativeEvents={}}e._nativeEvents[t]=true;if(e._rendered){e.bindPendingEvents()}}}})}return e._eventDispatcher}var s="onmousewheel"in document;var o=false;var u="mce-";var f=e.extend({Statics:{classPrefix:u},isRtl:function(){return f.rtl},classPrefix:u,init:function(e){var n=this,r,s;n.settings=e=t.extend({},n.Defaults,e);n._id=e.id||i.id();n._text=n._name="";n._width=n._height=0;n._aria={role:e.role};this._elmCache={};r=e.classes;if(r){r=r.split(" ");r.map={};s=r.length;while(s--){r.map[r[s]]=true}}n._classes=r||[];n.visible(true);t.each("title text width height name classes visible disabled active value".split(" "),function(t){var r=e[t],i;if(r!==i){n[t](r)}else if(n["_"+t]===i){n["_"+t]=false}});n.on("click",function(){if(n.disabled()){return false}});if(e.classes){t.each(e.classes.split(" "),function(e){n.addClass(e)})}n.settings=e;n._borderBox=n.parseBox(e.border);n._paddingBox=n.parseBox(e.padding);n._marginBox=n.parseBox(e.margin);if(e.hidden){n.hide()}},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(e){var t,n=this.getRoot().controlIdLookup;while(e&&n){t=n[e.id];if(t){break}e=e.parentNode}return t},parseBox:function(e){var t,n=10;if(!e){return}if(typeof e==="number"){e=e||0;return{top:e,left:e,bottom:e,right:e}}e=e.split(" ");t=e.length;if(t===1){e[1]=e[2]=e[3]=e[0]}else if(t===2){e[2]=e[0];e[3]=e[1]}else if(t===3){e[3]=e[1]}return{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0}},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(e,t){function n(t){var n=document.defaultView;if(n){t=t.replace(/[A-Z]/g,function(e){return"-"+e});return n.getComputedStyle(e,null).getPropertyValue(t)}return e.currentStyle[t]}function r(e){var t=parseFloat(n(e),10);return isNaN(t)?0:t}return{top:r(t+"TopWidth"),right:r(t+"RightWidth"),bottom:r(t+"BottomWidth"),left:r(t+"LeftWidth")}},initLayoutRect:function(){var e=this,t=e.settings,n,r;var s=e.getEl(),o,u,a,f,l;var c,h,p;n=e._borderBox=e._borderBox||e.measureBox(s,"border");e._paddingBox=e._paddingBox||e.measureBox(s,"padding");e._marginBox=e._marginBox||e.measureBox(s,"margin");p=i.getSize(s);c=t.minWidth;h=t.minHeight;a=c||p.width;f=h||p.height;o=t.width;u=t.height;l=t.autoResize;l=typeof l!="undefined"?l:!o&&!u;o=o||a;u=u||f;var d=n.left+n.right;var v=n.top+n.bottom;var m=t.maxWidth||65535;var g=t.maxHeight||65535;e._layoutRect=r={x:t.x||0,y:t.y||0,w:o,h:u,deltaW:d,deltaH:v,contentW:o-d,contentH:u-v,innerW:o-d,innerH:u-v,startMinWidth:c||0,startMinHeight:h||0,minW:Math.min(a,m),minH:Math.min(f,g),maxW:m,maxH:g,autoResize:l,scrollW:0};e._lastLayoutRect={};return r},layoutRect:function(e){var t=this,n=t._layoutRect,r,i,s,o,u,a;if(!n){n=t.initLayoutRect()}if(e){s=n.deltaW;o=n.deltaH;if(e.x!==u){n.x=e.x}if(e.y!==u){n.y=e.y}if(e.minW!==u){n.minW=e.minW}if(e.minH!==u){n.minH=e.minH}i=e.w;if(i!==u){i=i<n.minW?n.minW:i;i=i>n.maxW?n.maxW:i;n.w=i;n.innerW=i-s}i=e.h;if(i!==u){i=i<n.minH?n.minH:i;i=i>n.maxH?n.maxH:i;n.h=i;n.innerH=i-o}i=e.innerW;if(i!==u){i=i<n.minW-s?n.minW-s:i;i=i>n.maxW-s?n.maxW-s:i;n.innerW=i;n.w=i+s}i=e.innerH;if(i!==u){i=i<n.minH-o?n.minH-o:i;i=i>n.maxH-o?n.maxH-o:i;n.innerH=i;n.h=i+o}if(e.contentW!==u){n.contentW=e.contentW}if(e.contentH!==u){n.contentH=e.contentH}r=t._lastLayoutRect;if(r.x!==n.x||r.y!==n.y||r.w!==n.w||r.h!==n.h){a=f.repaintControls;if(a){if(a.map&&!a.map[t._id]){a.push(t);a.map[t._id]=true}}r.x=n.x;r.y=n.y;r.w=n.w;r.h=n.h}return t}return n},repaint:function(){var e=this,t,n,r,i,s=0,o=0,u,a;a=!document.createRange?Math.round:function(e){return e};t=e.getEl().style;r=e._layoutRect;u=e._lastRepaintRect||{};i=e._borderBox;s=i.left+i.right;o=i.top+i.bottom;if(r.x!==u.x){t.left=a(r.x)+"px";u.x=r.x}if(r.y!==u.y){t.top=a(r.y)+"px";u.y=r.y}if(r.w!==u.w){t.width=a(r.w-s)+"px";u.w=r.w}if(r.h!==u.h){t.height=a(r.h-o)+"px";u.h=r.h}if(e._hasBody&&r.innerW!==u.innerW){n=e.getEl("body").style;n.width=a(r.innerW)+"px";u.innerW=r.innerW}if(e._hasBody&&r.innerH!==u.innerH){n=n||e.getEl("body").style;n.height=a(r.innerH)+"px";u.innerH=r.innerH}e._lastRepaintRect=u;e.fire("repaint",{},false)},on:function(e,t){function r(e){var t,r;if(typeof e!="string"){return e}return function(i){if(!t){n.parentsAndSelf().each(function(n){var i=n.settings.callbacks;if(i&&(t=i[e])){r=n;return false}})}return t.call(r,i)}}var n=this;a(n).on(e,r(t));return n},off:function(e,t){a(this).off(e,t);return this},fire:function(e,t,n){var r=this;t=t||{};if(!t.control){t.control=r}t=a(r).fire(e,t);if(n!==false&&r.parent){var i=r.parent();while(i&&!t.isPropagationStopped()){i.fire(e,t,false);i=i.parent()}}return t},hasEventListeners:function(e){return a(this).has(e)},parents:function(e){var t=this,n,i=new r;for(n=t.parent();n;n=n.parent()){i.add(n)}if(e){i=i.filter(e)}return i},parentsAndSelf:function(e){return(new r(this)).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){var n;while(e){n=t;while(n&&e!=n){n=n.parent()}if(e==n){break}e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||"control"];e=this.classPrefix+e;return n&&!!n.map[e]},addClass:function(e,t){var n=this,r,i;e=this.classPrefix+e;r=n._classes[t||"control"];if(!r){r=[];r.map={};n._classes[t||"control"]=r}if(!r.map[e]){r.map[e]=e;r.push(e);if(n._rendered){i=n.getEl(t);if(i){i.className=r.join(" ")}}}return n},removeClass:function(e,t){var n=this,r,i,s;e=this.classPrefix+e;r=n._classes[t||"control"];if(r&&r.map[e]){delete r.map[e];i=r.length;while(i--){if(r[i]===e){r.splice(i,1)}}}if(n._rendered){s=n.getEl(t);if(s){s.className=r.join(" ")}}return n},toggleClass:function(e,t,n){var r=this;if(t){r.addClass(e,n)}else{r.removeClass(e,n)}return r},classes:function(e){var t=this._classes[e||"control"];return t?t.join(" "):""},innerHtml:function(e){i.innerHtml(this.getEl(),e);return this},getEl:function(e){var t=e?this._id+"-"+e:this._id;if(!this._elmCache[t]){this._elmCache[t]=i.get(t)}return this._elmCache[t]},visible:function(e){var t=this,n;if(typeof e!=="undefined"){if(t._visible!==e){if(t._rendered){t.getEl().style.display=e?"":"none"}t._visible=e;n=t.parent();if(n){n._lastRect=null}t.fire(e?"show":"hide")}return t}return t._visible},show:function(){return this.visible(true)},hide:function(){return this.visible(false)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){this.getEl().blur();return this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);if(typeof t==="undefined"){return n._aria[e]}else{n._aria[e]=t}if(n._rendered){r.setAttribute(e=="role"?e:"aria-"+e,t)}return n},encode:function(e,t){if(t!==false){e=this.translate(e)}return(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return f.translate?f.translate(e):e},before:function(e){var t=this,n=t.parent();if(n){n.insert(e,n.items().indexOf(t),true)}return t},after:function(e){var t=this,n=t.parent();if(n){n.insert(e,n.items().indexOf(t))}return t},remove:function(){var e=this,t=e.getEl(),n=e.parent(),r,s;if(e.items){var o=e.items().toArray();s=o.length;while(s--){o[s].remove()}}if(n&&n.items){r=[];n.items().each(function(t){if(t!==e){r.push(t)}});n.items().set(r);n._lastRect=null}if(e._eventsRoot&&e._eventsRoot==e){i.off(t)}var u=e.getRoot().controlIdLookup;if(u){delete u[e._id]}if(t&&t.parentNode){t.parentNode.removeChild(t)}e._rendered=false;return e},renderBefore:function(e){var t=this;e.parentNode.insertBefore(i.createFragment(t.renderHtml()),e);t.postRender();return t},renderTo:function(e){var t=this;e=e||t.getContainerElm();e.appendChild(i.createFragment(t.renderHtml()));t.postRender();return t},postRender:function(){var e=this,t=e.settings,n,r,s,o,u;for(o in t){if(o.indexOf("on")===0){e.on(o.substr(2),t[o])}}if(e._eventsRoot){for(s=e.parent();!u&&s;s=s.parent()){u=s._eventsRoot}if(u){for(o in u._nativeEvents){e._nativeEvents[o]=true}}}e.bindPendingEvents();if(t.style){n=e.getEl();if(n){n.setAttribute("style",t.style);n.style.cssText=t.style}}if(!e._visible){i.css(e.getEl(),"display","none")}if(e.settings.border){r=e.borderBox();i.css(e.getEl(),{"border-top-width":r.top,"border-right-width":r.right,"border-bottom-width":r.bottom,"border-left-width":r.left})}var a=e.getRoot();if(!a.controlIdLookup){a.controlIdLookup={}}a.controlIdLookup[e._id]=e;for(var f in e._aria){e.aria(f,e._aria[f])}e.fire("postrender",{},false)},scrollIntoView:function(e){function t(e,t){var n,r,i=e;n=r=0;while(i&&i!=t&&i.nodeType){n+=i.offsetLeft||0;r+=i.offsetTop||0;i=i.offsetParent}return{x:n,y:r}}var n=this.getEl(),r=n.parentNode;var i,s,o,u,a,f;var l=t(n,r);i=l.x;s=l.y;o=n.offsetWidth;u=n.offsetHeight;a=r.clientWidth;f=r.clientHeight;if(e=="end"){i-=a-o;s-=f-u}else if(e=="center"){i-=a/2-o/2;s-=f/2-u/2}r.scrollLeft=i;r.scrollTop=s;return this},bindPendingEvents:function(){function l(t){var n=e.getParentCtrl(t.target);if(n){n.fire(t.type,t)}}function c(){var e=u._lastHoverCtrl;if(e){e.fire("mouseleave",{target:e.getEl()});e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})});u._lastHoverCtrl=null}}function h(t){var n=e.getParentCtrl(t.target),r=u._lastHoverCtrl,i=0,s,o,a;if(n!==r){u._lastHoverCtrl=n;o=n.parents().toArray().reverse();o.push(n);if(r){a=r.parents().toArray().reverse();a.push(r);for(i=0;i<a.length;i++){if(o[i]!==a[i]){break}}for(s=a.length-1;s>=i;s--){r=a[s];r.fire("mouseleave",{target:r.getEl()})}}for(s=i;s<o.length;s++){n=o[s];n.fire("mouseenter",{target:n.getEl()})}}}function p(t){t.preventDefault();if(t.type=="mousewheel"){t.deltaY=-1/40*t.wheelDelta;if(t.wheelDeltaX){t.deltaX=-1/40*t.wheelDeltaX}}else{t.deltaX=0;t.deltaY=t.detail}t=e.fire("wheel",t)}var e=this,t,n,r,u,a,f;e._rendered=true;a=e._nativeEvents;if(a){r=e.parents().toArray();r.unshift(e);for(t=0,n=r.length;!u&&t<n;t++){u=r[t]._eventsRoot}if(!u){u=r[r.length-1]||e}e._eventsRoot=u;for(n=t,t=0;t<n;t++){r[t]._eventsRoot=u}var d=u._delegates;if(!d){d=u._delegates={}}for(f in a){if(!a){return false}if(f==="wheel"&&!o){if(s){i.on(e.getEl(),"mousewheel",p)}else{i.on(e.getEl(),"DOMMouseScroll",p)}continue}if(f==="mouseenter"||f==="mouseleave"){if(!u._hasMouseEnter){i.on(u.getEl(),"mouseleave",c);i.on(u.getEl(),"mouseover",h);u._hasMouseEnter=1}}else if(!d[f]){i.on(u.getEl(),f,l);d[f]=true}a[f]=false}}},getRoot:function(){var e=this,t,n=[];while(e){if(e.rootControl){t=e.rootControl;break}n.push(e);t=e;e=e.parent()}if(!t){t=this}var r=n.length;while(r--){n[r].rootControl=t}return t},reflow:function(){this.repaint();return this}});return f});i("tinymce/ui/Factory",[],function(){"use strict";var e={},t;return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,r){var i,s,o;if(!t){o=tinymce.ui;for(s in o){e[s.toLowerCase()]=o[s]}t=true}if(typeof n=="string"){r=r||{};r.type=n}else{r=n;n=r.type}n=n.toLowerCase();i=e[n];if(!i){throw new Error("Could not find control by type: "+n)}i=new i(r);i.type=n;return i}}});i("tinymce/ui/KeyboardNavigation",[],function(){"use strict";return function(e){function s(e){e=e||n;return e&&e.getAttribute("role")}function o(e){var t,r=e||n;while(r=r.parentNode){if(t=s(r)){return t}}}function u(e){var t=n;if(t){return t.getAttribute("aria-"+e)}}function a(e){var t=e.tagName.toUpperCase();return t=="INPUT"||t=="TEXTAREA"}function f(e){if(a(e)&&!e.hidden){return true}if(/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(s(e))){return true}return false}function l(e){function r(e){if(e.nodeType!=1||e.style.display=="none"){return}if(f(e)){n.push(e)}for(var t=0;t<e.childNodes.length;t++){r(e.childNodes[t])}}var n=[];r(e||t.getEl());return n}function c(e){var t,n;e=e||r;n=e.parents().toArray();n.unshift(e);for(var i=0;i<n.length;i++){t=n[i];if(t.settings.ariaRoot){break}}return t}function h(e){var t=c(e);var n=l(t.getEl());if(t.settings.ariaRemember&&"lastAriaIndex"in t){p(t.lastAriaIndex,n)}else{p(0,n)}}function p(e,t){if(e<0){e=t.length-1}else if(e>=t.length){e=0}if(t[e]){t[e].focus()}return e}function d(e,t){var r=-1,i=c();t=t||l(i.getEl());for(var s=0;s<t.length;s++){if(t[s]===n){r=s}}r+=e;i.lastAriaIndex=p(r,t)}function v(){var e=o();if(e=="tablist"){d(-1,l(n.parentNode))}else if(r.parent().submenu){w()}else{d(-1)}}function m(){var e=s(),t=o();if(t=="tablist"){d(1,l(n.parentNode))}else if(e=="menuitem"&&t=="menu"&&u("haspopup")){E()}else{d(1)}}function g(){d(-1)}function y(){var e=s(),t=o();if(e=="menuitem"&&t=="menubar"){E()}else if(e=="button"&&u("haspopup")){E({key:"down"})}else{d(1)}}function b(e){var t=o();if(t=="tablist"){var n=l(r.getEl("body"))[0];if(n){n.focus()}}else{d(e.shiftKey?-1:1)}}function w(){r.fire("cancel")}function E(e){e=e||{};r.fire("click",{target:n,aria:e})}var t=e.root,n,r;try{n=document.activeElement}catch(i){n=document.body}r=t.getParentCtrl(n);t.on("keydown",function(e){function t(e,t){if(a(n)){return}if(t(e)!==false){e.preventDefault()}}if(e.isDefaultPrevented()){return}switch(e.keyCode){case 37:t(e,v);break;case 39:t(e,m);break;case 38:t(e,g);break;case 40:t(e,y);break;case 27:w();break;case 14:case 13:case 32:t(e,E);break;case 9:if(b(e)!==false){e.preventDefault()}break}});t.on("focusin",function(e){n=e.target;r=e.control});return{focusFirst:h}}});i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/ui/DomUtils"],function(e,t,n,r,i,s,o){"use strict";var u={};return e.extend({layout:"",innerClass:"container-inner",init:function(e){var n=this;n._super(e);e=n.settings;n._fixed=e.fixed;n._items=new t;if(n.isRtl()){n.addClass("rtl")}n.addClass("container");n.addClass("container-body","body");if(e.containerCls){n.addClass(e.containerCls)}n._layout=r.create((e.layout||n.layout)+"layout");if(n.settings.items){n.add(n.settings.items)}n._hasBody=true},items:function(){return this._items},find:function(e){e=u[e]=u[e]||new n(e);return e.find(this)},add:function(e){var t=this;t.items().add(t.create(e)).parent(t);return t},focus:function(e){var t=this,n,r,i;if(e){r=t.keyboardNav||t.parents().eq(-1)[0].keyboardNav;if(r){r.focusFirst(t);return}}i=t.find("*");if(t.statusbar){i.add(t.statusbar.items())}i.each(function(e){if(e.settings.autofocus){n=null;return false}if(e.canFocus){n=n||e}});if(n){n.focus()}return t},replace:function(e,t){var n,r=this.items(),i=r.length;while(i--){if(r[i]===e){r[i]=t;break}}if(i>=0){n=t.getEl();if(n){n.parentNode.removeChild(n)}n=e.getEl();if(n){n.parentNode.removeChild(n)}}t.parent(this)},create:function(t){var n=this,i,o=[];if(!s.isArray(t)){t=[t]}s.each(t,function(t){if(t){if(!(t instanceof e)){if(typeof t=="string"){t={type:t}}i=s.extend({},n.settings.defaults,t);t.type=i.type=i.type||t.type||n.settings.defaultType||(i.defaults?i.defaults.type:null);t=r.create(i)}o.push(t)}});return o},renderNew:function(){var e=this;e.items().each(function(t,n){var r,i;t.parent(e);if(!t._rendered){r=e.getEl("body");i=o.createFragment(t.renderHtml());if(r.hasChildNodes()&&n<=r.childNodes.length-1){r.insertBefore(i,r.childNodes[n])}else{r.appendChild(i)}t.postRender()}});e._layout.applyClasses(e);e._lastRect=null;return e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;t.items().set(t.create(e).concat(t.items().toArray()));return t.renderNew()},insert:function(e,t,n){var r=this,i,s,o;e=r.create(e);i=r.items();if(!n&&t<i.length-1){t+=1}if(t>=0&&t<i.length){s=i.slice(0,t).toArray();o=i.slice(t).toArray();i.set(s.concat(e,o))}return r.renderNew()},fromJSON:function(e){var t=this;for(var n in e){t.find("#"+n).value(e[n])}return t},toJSON:function(){var e=this,t={};e.find("*").each(function(e){var n=e.name(),r=e.value();if(n&&typeof r!="undefined"){t[n]=r}});return t},preRender:function(){},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;e.preRender();t.preRender(e);return'<div id="'+e._id+'" class="'+e.classes()+'"'+(n?' role="'+this.settings.role+'"':"")+">"+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this,t;e.items().exec("postRender");e._super();e._layout.postRender(e);e._rendered=true;if(e.settings.style){o.css(e.getEl(),e.settings.style)}if(e.settings.border){t=e.borderBox();o.css(e.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})}if(!e.parent()){e.keyboardNav=new i({root:e})}return e},initLayoutRect:function(){var e=this,t=e._super();e._layout.recalc(e);return t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h){e._layout.recalc(e);t=e.layoutRect();e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h};return true}},reflow:function(){var t;if(this.visible()){e.repaintControls=[];e.repaintControls.map={};this.recalc();t=e.repaintControls.length;while(t--){e.repaintControls[t].repaint()}if(this.settings.layout!=="flow"&&this.settings.layout!=="stack"){this.repaint()}e.repaintControls=[]}return this}})});i("tinymce/ui/DragHelper",["tinymce/ui/DomUtils"],function(e){"use strict";function t(){var e=document,t,n,r,i;var s,o,u,a,f=Math.max;t=e.documentElement;n=e.body;r=f(t.scrollWidth,n.scrollWidth);i=f(t.clientWidth,n.clientWidth);s=f(t.offsetWidth,n.offsetWidth);o=f(t.scrollHeight,n.scrollHeight);u=f(t.clientHeight,n.clientHeight);a=f(t.offsetHeight,n.offsetHeight);return{width:r<s?i:r,height:o<a?u:o}}return function(n,r){function h(){return s.getElementById(r.handle||n)}var i,s=document,o,u,a,f,l,c;r=r||{};u=function(n){var u=t(),p,d;n.preventDefault();o=n.button;p=h();l=n.screenX;c=n.screenY;if(window.getComputedStyle){d=window.getComputedStyle(p,null).getPropertyValue("cursor")}else{d=p.runtimeStyle.cursor}i=s.createElement("div");e.css(i,{position:"absolute",top:0,left:0,width:u.width,height:u.height,zIndex:2147483647,opacity:1e-4,cursor:d});s.body.appendChild(i);e.on(s,"mousemove",f);e.on(s,"mouseup",a);r.start(n)};f=function(e){if(e.button!==o){return a(e)}e.deltaX=e.screenX-l;e.deltaY=e.screenY-c;e.preventDefault();r.drag(e)};a=function(t){e.off(s,"mousemove",f);e.off(s,"mouseup",a);i.parentNode.removeChild(i);if(r.stop){r.stop(t)}};this.destroy=function(){e.off(h())};e.on(h(),"mousedown",u)}});i("tinymce/ui/Scrollable",["tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(e,t){"use strict";return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function i(){function o(s,o,u,a,f,l){var c,h,p;var d,v,m,g;var y,b;h=n.getEl("scroll"+s);if(h){y=o.toLowerCase();b=u.toLowerCase();if(n.getEl("absend")){e.css(n.getEl("absend"),y,n.layoutRect()[a]-1)}if(!f){e.css(h,"display","none");return}e.css(h,"display","block");c=n.getEl("body");p=n.getEl("scroll"+s+"t");d=c["client"+u]-r*2;d-=t&&i?h["client"+l]:0;v=c["scroll"+u];m=d/v;g={};g[y]=c["offset"+o]+r;g[b]=d;e.css(h,g);g={};g[y]=c["scroll"+o]*m;g[b]=d*m;e.css(p,g)}}var t,i,s;s=n.getEl("body");t=s.scrollWidth>s.clientWidth;i=s.scrollHeight>s.clientHeight;o("h","Left","Width","contentW",t,"Height");o("v","Top","Height","contentH",i,"Width")}function s(){function i(i,s,o,u,a){var f,l=n._id+"-scroll"+i,c=n.classPrefix;n.getEl().appendChild(e.createFragment('<div id="'+l+'" class="'+c+"scrollbar "+c+"scrollbar-"+i+'">'+'<div id="'+l+'t" class="'+c+'scrollbar-thumb"></div>'+"</div>"));n.draghelper=new t(l+"t",{start:function(){f=n.getEl("body")["scroll"+s];e.addClass(e.get(l),c+"active")},drag:function(e){var t,l,c,h,p=n.layoutRect();l=p.contentW>p.innerW;c=p.contentH>p.innerH;h=n.getEl("body")["client"+o]-r*2;h-=l&&c?n.getEl("scroll"+i)["client"+a]:0;t=h/n.getEl("body")["scroll"+o];n.getEl("body")["scroll"+s]=f+e["delta"+u]/t},stop:function(){e.removeClass(e.get(l),c+"active")}})}n.addClass("scroll");i("v","Top","Height","Y","Width");i("h","Left","Width","X","Height")}var n=this,r=2;if(n.settings.autoScroll){if(!n._hasScroll){n._hasScroll=true;s();n.on("wheel",function(e){var t=n.getEl("body");t.scrollLeft+=(e.deltaX||0)*10;t.scrollTop+=e.deltaY*10;i()});e.on(n.getEl("body"),"scroll",i)}i()}}}});i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){"use strict";return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;e.preRender();t.preRender(e);if(typeof n=="undefined"){n='<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>"}else{if(typeof n=="function"){n=n.call(e)}e._hasBody=false}return'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})});i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(e){"use strict";function t(t,n,r){var i,s,o,u,a,f,l,c,h,p;h=e.getViewPort();s=e.getPos(n);o=s.x;u=s.y;if(t._fixed&&e.getRuntimeStyle(document.body,"position")=="static"){o-=h.x;u-=h.y}i=t.getEl();p=e.getSize(i);a=p.width;f=p.height;p=e.getSize(n);l=p.width;c=p.height;r=(r||"").split("");if(r[0]==="b"){u+=c}if(r[1]==="r"){o+=l}if(r[0]==="c"){u+=Math.round(c/2)}if(r[1]==="c"){o+=Math.round(l/2)}if(r[3]==="b"){u-=f}if(r[4]==="r"){o-=a}if(r[3]==="c"){u-=Math.round(f/2)}if(r[4]==="c"){o-=Math.round(a/2)}return{x:o,y:u,w:a,h:f}}return{testMoveRel:function(n,r){var i=e.getViewPort();for(var s=0;s<r.length;s++){var o=t(this,n,r[s]);if(this._fixed){if(o.x>0&&o.x+o.w<i.w&&o.y>0&&o.y+o.h<i.h){return r[s]}}else{if(o.x>i.x&&o.x+o.w<i.w+i.x&&o.y>i.y&&o.y+o.h<i.h+i.y){return r[s]}}}return r[0]},moveRel:function(e,n){if(typeof n!="string"){n=this.testMoveRel(e,n)}var r=t(this,e,n);return this.moveTo(r.x,r.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();n.moveTo(r.x+e,r.y+t);return n},moveTo:function(t,n){function i(e,t,n){if(e<0){return 0}if(e+n>t){e=t-n;return e<0?0:e}return e}var r=this;if(r.settings.constrainToViewport){var s=e.getViewPort(window);var o=r.layoutRect();t=i(t,s.w+s.x,o.w);n=i(n,s.h+s.y,o.h)}if(r._rendered){r.layoutRect({x:t,y:n}).repaint()}else{r.settings.x=t;r.settings.y=n}r.fire("move",{x:t,y:n});return r}}});i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(e){"use strict";return{resizeToContent:function(){this._layoutRect.autoResize=true;this._lastRect=null;this.reflow()},resizeTo:function(t,n){if(t<=1||n<=1){var r=e.getWindowSize();t=t<=1?t*r.w:t;n=n<=1?n*r.h:n}this._layoutRect.autoResize=false;return this.layoutRect({minW:t,minH:n,w:t,h:n}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}});i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils"],function(e,t,n,r){"use strict";function l(){function e(e,t){while(e){if(e==t){return true}e=e.parent()}}if(!i){i=function(t){if(t.button==2){return}var n=u.length;while(n--){var r=u[n],i=r.getParentCtrl(t.target);if(r.settings.autohide){if(i){if(e(i,r)||r.parent()===i){continue}}t=r.fire("autohide",{target:t.target});if(!t.isDefaultPrevented()){r.hide()}}}};r.on(document,"click",i)}}function c(){if(!s){s=function(){var e;e=u.length;while(e--){p(u[e])}};r.on(window,"scroll",s)}}function h(){if(!o){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;o=function(){if(!document.all||t!=e.clientWidth||n!=e.clientHeight){t=e.clientWidth;n=e.clientHeight;v.hideAll()}};r.on(window,"resize",o)}}function p(e){function n(t,n){var r;for(var i=0;i<u.length;i++){if(u[i]!=e){r=u[i].parent();while(r&&(r=r.parent())){if(r==e){u[i].fixed(t).moveBy(0,n).repaint()}}}}}var t=r.getViewPort().y;if(e.settings.autofix){if(!e._fixed){e._autoFixY=e.layoutRect().y;if(e._autoFixY<t){e.fixed(true).layoutRect({y:0}).repaint();n(true,t-e._autoFixY)}}else{if(e._autoFixY>t){e.fixed(false).layoutRect({y:e._autoFixY}).repaint();n(false,e._autoFixY-t)}}}}function d(e,t){var n,i=v.zIndex||65535,s;if(e){a.push(t)}else{n=a.length;while(n--){if(a[n]===t){a.splice(n,1)}}}if(a.length){for(n=0;n<a.length;n++){if(a[n].modal){i++;s=a[n]}a[n].getEl().style.zIndex=i;a[n].zIndex=i;i++}}var o=document.getElementById(t.classPrefix+"modal-block");if(s){r.css(o,"z-index",s.zIndex-1)}else if(o){o.parentNode.removeChild(o);f=false}v.currentZIndex=i}function m(e){var t;t=u.length;while(t--){if(u[t]===e){u.splice(t,1)}}t=a.length;while(t--){if(a[t]===e){a.splice(t,1)}}}var i,s,o,u=[];var a=[],f;var v=e.extend({Mixins:[t,n],init:function(e){var t=this;t._super(e);t._eventsRoot=t;t.addClass("floatpanel");if(e.autohide){l();h();u.push(t)}if(e.autofix){c();t.on("move",function(){p(this)})}t.on("postrender show",function(e){if(e.control==t){var n,i=t.classPrefix;if(t.modal&&!f){n=r.createFragment('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>');n=n.firstChild;t.getContainerElm().appendChild(n);setTimeout(function(){r.addClass(n,i+"in");r.addClass(t.getEl(),i+"in")},0);f=true}d(true,t)}});t.on("show",function(){t.parents().each(function(e){if(e._fixed){t.fixed(true);return false}})});if(e.popover){t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>';t.addClass("popover").addClass("bottom").addClass(t.isRtl()?"end":"start")}},fixed:function(e){var t=this;if(t._fixed!=e){if(t._rendered){var n=r.getViewPort();if(e){t.layoutRect().y-=n.y}else{t.layoutRect().y+=n.y}}t.toggleClass("fixed",e);t._fixed=e}return t},show:function(){var e=this,t,n=e._super();t=u.length;while(t--){if(u[t]===e){break}}if(t===-1){u.push(e)}return n},hide:function(){m(this);d(false,this);return this._super()},hideAll:function(){v.hideAll()},close:function(){var e=this;if(!e.fire("close").isDefaultPrevented()){e.remove();d(false,e)}return e},remove:function(){m(this);this._super()},postRender:function(){var e=this;if(e.settings.bodyRole){this.getEl("body").setAttribute("role",e.settings.bodyRole)}return e._super()}});v.hideAll=function(){var e=u.length;while(e--){var t=u[e];if(t&&t.settings.autohide){t.hide();u.splice(e,1)}}};return v});i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/ui/DragHelper"],function(e,t,n,r){"use strict";var i=e.extend({modal:true,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e);if(n.isRtl()){n.addClass("rtl")}n.addClass("window");n._fixed=true;if(e.buttons){n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons});n.statusbar.addClass("foot");n.statusbar.parent(n)}n.on("click",function(e){if(e.target.className.indexOf(n.classPrefix+"close")!=-1){n.close()}});n.on("cancel",function(){n.close()});n.aria("describedby",n.describedBy||n._id+"-none");n.aria("label",e.title);n._fullscreen=false},recalc:function(){var e=this,t=e.statusbar,r,i,s,o;if(e._fullscreen){e.layoutRect(n.getWindowSize());e.layoutRect().contentH=e.layoutRect().innerH}e._super();r=e.layoutRect();if(e.settings.title&&!e._fullscreen){i=r.headerW;if(i>r.w){s=r.x-Math.max(0,i/2);e.layoutRect({w:i,x:s});o=true}}if(t){t.layoutRect({w:e.layoutRect().innerW}).recalc();i=t.layoutRect().minW+r.deltaW;if(i>r.w){s=r.x-Math.max(0,i-r.w);e.layoutRect({w:i,x:s});o=true}}if(o){e.recalc()}},initLayoutRect:function(){var e=this,t=e._super(),r=0,i;if(e.settings.title&&!e._fullscreen){i=e.getEl("head");var s=n.getSize(i);t.headerW=s.width;t.headerH=s.height;r+=t.headerH}if(e.statusbar){r+=e.statusbar.layoutRect().h}t.deltaH+=r;t.minH+=r;t.h+=r;var o=n.getWindowSize();t.x=Math.max(0,o.w/2-t.w/2);t.y=Math.max(0,o.h/2-t.h/2);return t},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix;var i=e.settings,s="",o="",u=i.html;e.preRender();t.preRender(e);if(i.title){s='<div id="'+n+'-head" class="'+r+'window-head">'+'<div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+"</div>"+'<button type="button" class="'+r+'close" aria-hidden="true">×</button>'+'<div id="'+n+'-dragh" class="'+r+'dragh"></div>'+"</div>"}if(i.url){u='<iframe src="'+i.url+'" tabindex="-1"></iframe>'}if(typeof u=="undefined"){u=t.renderHtml(e)}if(e.statusbar){o=e.statusbar.renderHtml()}return'<div id="'+n+'" class="'+e.classes()+'" hidefocus="1">'+'<div class="'+e.classPrefix+'reset" role="application">'+s+'<div id="'+n+'-body" class="'+e.classes("body")+'">'+u+"</div>"+o+"</div>"+"</div>"},fullscreen:function(e){var t=this,r=document.documentElement,i,s=t.classPrefix,o;if(e!=t._fullscreen){n.on(window,"resize",function(){var e;if(t._fullscreen){if(!i){e=(new Date).getTime();var r=n.getWindowSize();t.moveTo(0,0).resizeTo(r.w,r.h);if((new Date).getTime()-e>50){i=true}}else{if(!t._timer){t._timer=setTimeout(function(){var e=n.getWindowSize();t.moveTo(0,0).resizeTo(e.w,e.h);t._timer=0},50)}}}});o=t.layoutRect();t._fullscreen=e;if(!e){t._borderBox=t.parseBox(t.settings.border);t.getEl("head").style.display="";o.deltaH+=o.headerH;n.removeClass(r,s+"fullscreen");n.removeClass(document.body,s+"fullscreen");t.removeClass("fullscreen");t.moveTo(t._initial.x,t._initial.y).resizeTo(t._initial.w,t._initial.h)}else{t._initial={x:o.x,y:o.y,w:o.w,h:o.h};t._borderBox=t.parseBox("0");t.getEl("head").style.display="none";o.deltaH-=o.headerH+2;n.addClass(r,s+"fullscreen");n.addClass(document.body,s+"fullscreen");t.addClass("fullscreen");var u=n.getWindowSize();t.moveTo(0,0).resizeTo(u.w,u.h)}}return t.reflow()},postRender:function(){var e=this,t;setTimeout(function(){e.addClass("in")},0);e._super();if(e.statusbar){e.statusbar.postRender()}e.focus();this.dragHelper=new r(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}});e.on("submit",function(t){if(!t.isDefaultPrevented()){e.close()}})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this,t=e.classPrefix;e.dragHelper.destroy();e._super();if(e.statusbar){this.statusbar.remove()}if(e._fullscreen){n.removeClass(document.documentElement,t+"fullscreen");n.removeClass(document.body,t+"fullscreen")}},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return i});i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(e){"use strict";var t=e.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:true,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:true,maxWidth:500,maxHeight:200}};this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function s(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close();i(t)}}}var r,i=n.callback||function(){};switch(n.buttons){case t.OK_CANCEL:r=[s("Ok",true,true),s("Cancel",false)];break;case t.YES_NO:case t.YES_NO_CANCEL:r=[s("Yes",1,true),s("No",0)];if(n.buttons==t.YES_NO_CANCEL){r.push(s("Cancel",-1))}break;default:r=[s("Ok",true,true)];break}return(new e({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:n.title,role:"alertdialog",items:{type:"label",multiline:true,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){i(false)}})).renderTo(document.body).reflow()},alert:function(e,n){if(typeof e=="string"){e={text:e}}e.callback=n;return t.msgBox(e)},confirm:function(e,n){if(typeof e=="string"){e={text:e}}e.callback=n;e.buttons=t.OK_CANCEL;return t.msgBox(e)}}});return t});i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(e,t){return function(n){function s(){if(i.length){return i[i.length-1]}}var r=this,i=[];r.windows=i;n.on("remove",function(){var e=i.length;while(e--){i[e].close()}});r.open=function(t,r){var s;n.editorManager.setActive(n);t.title=t.title||" ";t.url=t.url||t.file;if(t.url){t.width=parseInt(t.width||320,10);t.height=parseInt(t.height||240,10)}if(t.body){t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body}}if(!t.url&&!t.buttons){t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){s.find("form")[0].submit()}},{text:"Cancel",onclick:function(){s.close()}}]}s=new e(t);i.push(s);s.on("close",function(){var e=i.length;while(e--){if(i[e]===s){i.splice(e,1)}}if(!i.length){n.focus()}});if(t.data){s.on("postRender",function(){this.find("*").each(function(e){var n=e.name();if(n in t.data){e.value(t.data[n])}})})}s.features=t||{};s.params=r||{};if(i.length===1){n.nodeChanged()}return s.renderTo().reflow()};r.alert=function(e,r,i){t.alert(e,function(){if(r){r.call(i||this)}else{n.focus()}})};r.confirm=function(e,n,r){t.confirm(e,function(e){n.call(r||this,e)})};r.close=function(){if(s()){s().close()}};r.getParams=function(){return s()?s().params:null};r.setParams=function(e){if(s()){s().params=e}};r.getWindows=function(){return i}}});i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools"],function(e,t,n,r,i,s){return function(o){function y(e,t){try{o.getDoc().execCommand(e,false,t)}catch(n){}}function b(){var e=o.getDoc().documentMode;return e?e:6}function w(e){return e.isDefaultPrevented()}function E(){function h(e){var t=new r(function(){});s.each(o.getBody().getElementsByTagName("*"),function(e){if(e.tagName=="SPAN"){e.setAttribute("mce-data-marked",1)}if(!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")){o.dom.setAttrib(e,"style",o.dom.getAttrib(e,"style"))}});t.observe(o.getDoc(),{childList:true,attributes:true,subtree:true,attributeFilter:["style"]});o.getDoc().execCommand(e?"ForwardDelete":"Delete",false,null);var n=o.selection.getRng();var i=n.startContainer.parentNode;s.each(t.takeRecords(),function(e){if(!l.isChildOf(e.target,o.getBody())){return}if(e.attributeName=="style"){var t=e.target.getAttribute("data-mce-style");if(t){e.target.setAttribute("style",t)}else{e.target.removeAttribute("style")}}s.each(e.addedNodes,function(e){if(e.nodeName=="SPAN"&&!e.getAttribute("mce-data-marked")){var t,r;if(e==i){t=n.startOffset;r=e.firstChild}l.remove(e,true);if(r){n.setStart(r,t);n.setEnd(r,t);o.selection.setRng(n)}}})});t.disconnect();s.each(o.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")})}var t=o.getDoc(),n="data:text/mce-internal,";var r=window.MutationObserver,i,u;if(!r){i=true;r=function(){function n(t){var n=t.relatedNode||t.target;e.push({target:n,addedNodes:[n]})}function r(t){var n=t.relatedNode||t.target;e.push({target:n,attributeName:t.attrName})}var e=[],t;this.observe=function(e){t=e;t.addEventListener("DOMSubtreeModified",n,false);t.addEventListener("DOMNodeInsertedIntoDocument",n,false);t.addEventListener("DOMNodeInserted",n,false);t.addEventListener("DOMAttrModified",r,false)};this.disconnect=function(){t.removeEventListener("DOMSubtreeModified",n,false);t.removeEventListener("DOMNodeInsertedIntoDocument",n,false);t.removeEventListener("DOMNodeInserted",n,false);t.removeEventListener("DOMAttrModified",r,false)};this.takeRecords=function(){return e}}}o.on("keydown",function(t){var n=t.keyCode==f,r=e.metaKeyPressed(t);if(!w(t)&&(n||t.keyCode==a)){var i=o.selection.getRng(),s=i.startContainer,u=i.startOffset;if(!r&&i.collapsed&&s.nodeType==3){if(n?u<s.data.length:u>0){return}}t.preventDefault();if(r){o.selection.getSel().modify("extend",n?"forward":"backward","word")}h(n)}});o.on("keypress",function(t){if(!w(t)&&!c.isCollapsed()&&t.charCode&&!e.metaKeyPressed(t)){t.preventDefault();h(true);o.selection.setContent(String.fromCharCode(t.charCode))}});o.addCommand("Delete",function(){h()});o.addCommand("ForwardDelete",function(){h(true)});if(i){return}o.on("dragstart",function(e){var t;if(o.selection.isCollapsed()&&e.target.tagName=="IMG"){c.select(e.target)}u=c.getRng();t=o.selection.getContent();if(t.length>0){e.dataTransfer.setData("URL","data:text/mce-internal,"+escape(t))}});o.on("drop",function(e){if(!w(e)){var r=e.dataTransfer.getData("URL");if(!r||r.indexOf(n)==-1||!t.caretRangeFromPoint){return}r=unescape(r.substr(n.length));if(t.caretRangeFromPoint){e.preventDefault();window.setTimeout(function(){var n=t.caretRangeFromPoint(e.x,e.y);if(u){c.setRng(u);u=null}h();c.setRng(n);o.insertContent(r)},0)}}});o.on("cut",function(e){if(!w(e)&&e.clipboardData){e.preventDefault();e.clipboardData.clearData();e.clipboardData.setData("text/html",o.selection.getContent());e.clipboardData.setData("text/plain",o.selection.getContent({format:"text"}));h(true)}})}function S(){function e(e){var t=l.create("body");var n=e.cloneContents();t.appendChild(n);return c.serializer.serialize(t,{format:"html"})}function n(n){if(!n.setStart){if(n.item){return false}var r=n.duplicate();r.moveToElementText(o.getBody());return t.compareRanges(n,r)}var i=e(n);var s=l.createRng();s.selectNode(o.getBody());var u=e(s);return i===u}o.on("keydown",function(e){var t=e.keyCode,r,i;if(!w(e)&&(t==f||t==a)){r=o.selection.isCollapsed();i=o.getBody();if(r&&!l.isEmpty(i)){return}if(!r&&!n(o.selection.getRng())){return}e.preventDefault();o.setContent("");if(i.firstChild&&l.isBlock(i.firstChild)){o.selection.setCursorLocation(i.firstChild,0)}else{o.selection.setCursorLocation(i,0)}o.nodeChanged()}})}function x(){o.shortcuts.add("ctrl+a",null,"SelectAll")}function T(){if(!o.settings.content_editable){l.bind(o.getDoc(),"focusin",function(){c.setRng(c.getRng())});l.bind(o.getDoc(),"mousedown mouseup",function(e){if(e.target==o.getDoc().documentElement){o.getBody().focus();if(e.type=="mousedown"){c.placeCaretAt(e.clientX,e.clientY)}else{c.setRng(c.getRng())}}})}}function N(){o.on("keydown",function(e){if(!w(e)&&e.keyCode===a){if(!o.getBody().getElementsByTagName("hr").length){return}if(c.isCollapsed()&&c.getRng(true).startOffset===0){var t=c.getNode();var n=t.previousSibling;if(t.nodeName=="HR"){l.remove(t);e.preventDefault();return}if(n&&n.nodeName&&n.nodeName.toLowerCase()==="hr"){l.remove(n);e.preventDefault()}}}})}function C(){if(!window.Range.prototype.getClientRects){o.on("mousedown",function(e){if(!w(e)&&e.target.nodeName==="HTML"){var t=o.getBody();t.blur();setTimeout(function(){t.focus()},0)}})}}function k(){o.on("click",function(e){var t=e.target;if(/^(IMG|HR)$/.test(t.nodeName)){e.preventDefault();c.getSel().setBaseAndExtent(t,0,t,1);o.nodeChanged()}if(t.nodeName=="A"&&l.hasClass(t,"mce-item-anchor")){e.preventDefault();c.select(t)}})}function L(){function e(){var e=l.getAttribs(c.getStart().cloneNode(false));return function(){var t=c.getStart();if(t!==o.getBody()){l.setAttrib(t,"style",null);u(e,function(e){t.setAttributeNode(e.cloneNode(true))})}}}function t(){return!c.isCollapsed()&&l.getParent(c.getStart(),l.isBlock)!=l.getParent(c.getEnd(),l.isBlock)}o.on("keypress",function(n){var r;if(!w(n)&&(n.keyCode==8||n.keyCode==46)&&t()){r=e();o.getDoc().execCommand("delete",false,null);r();n.preventDefault();return false}});l.bind(o.getDoc(),"cut",function(n){var r;if(!w(n)&&t()){r=e();setTimeout(function(){r()},0)}})}function A(){document.body.setAttribute("role","application")}function O(){o.on("keydown",function(e){if(!w(e)&&e.keyCode===a){if(c.isCollapsed()&&c.getRng(true).startOffset===0){var t=c.getNode().previousSibling;if(t&&t.nodeName&&t.nodeName.toLowerCase()==="table"){e.preventDefault();return false}}}})}function M(){if(b()>7){return}y("RespectVisibilityInDesign",true);o.contentStyles.push(".mceHideBrInPre pre br {display: none}");l.addClass(o.getBody(),"mceHideBrInPre");p.addNodeFilter("pre",function(e){var t=e.length,r,i,s,o;while(t--){r=e[t].getAll("br");i=r.length;while(i--){s=r[i];o=s.prev;if(o&&o.type===3&&o.value.charAt(o.value-1)!="\n"){o.value+="\n"}else{s.parent.insert(new n("#text",3),s,true).value="\n"}}}});d.addNodeFilter("pre",function(e){var t=e.length,n,r,i,s;while(t--){n=e[t].getAll("br");r=n.length;while(r--){i=n[r];s=i.prev;if(s&&s.type==3){s.value=s.value.replace(/\r?\n$/,"")}}}})}function _(){l.bind(o.getBody(),"mouseup",function(){var e,t=c.getNode();if(t.nodeName=="IMG"){if(e=l.getStyle(t,"width")){l.setAttrib(t,"width",e.replace(/[^0-9%]+/g,""));l.setStyle(t,"width","")}if(e=l.getStyle(t,"height")){l.setAttrib(t,"height",e.replace(/[^0-9%]+/g,""));l.setStyle(t,"height","")}}})}function D(){o.on("keydown",function(t){var n,r,i,s,u;if(w(t)||t.keyCode!=e.BACKSPACE){return}n=c.getRng();r=n.startContainer;i=n.startOffset;s=l.getRoot();u=r;if(!n.collapsed||i!==0){return}while(u&&u.parentNode&&u.parentNode.firstChild==u&&u.parentNode!=s){u=u.parentNode}if(u.tagName==="BLOCKQUOTE"){o.formatter.toggle("blockquote",null,u);n=l.createRng();n.setStart(r,0);n.setEnd(r,0);c.setRng(n)}})}function P(){function e(){o._refreshContentEditable();y("StyleWithCSS",false);y("enableInlineTableEditing",false);if(!h.object_resizing){y("enableObjectResizing",false)}}if(!h.readonly){o.on("BeforeExecCommand MouseDown",e)}}function H(){function e(){u(l.select("a"),function(e){var t=e.parentNode,n=l.getRoot();if(t.lastChild===e){while(t&&!l.isBlock(t)){if(t.parentNode.lastChild!==t||t===n){return}t=t.parentNode}l.add(t,"br",{"data-mce-bogus":1})}})}o.on("SetContent ExecCommand",function(t){if(t.type=="setcontent"||t.command==="mceInsertLink"){e()}})}function B(){if(h.forced_root_block){o.on("init",function(){y("DefaultParagraphSeparator",h.forced_root_block)})}}function j(){o.on("Undo Redo SetContent",function(e){if(!e.initial){o.execCommand("mceRepaint")}})}function F(){o.on("keydown",function(e){var t;if(!w(e)&&e.keyCode==a){t=o.getDoc().selection.createRange();if(t&&t.item){e.preventDefault();o.undoManager.beforeChange();l.remove(t.item(0));o.undoManager.add()}}})}function I(){var e;if(b()>=10){e="";u("p div h1 h2 h3 h4 h5 h6".split(" "),function(t,n){e+=(n>0?",":"")+t+":empty"});o.contentStyles.push(e+"{padding-right: 1px !important}")}}function q(){if(b()<9){p.addNodeFilter("noscript",function(e){var t=e.length,n,r;while(t--){n=e[t];r=n.firstChild;if(r){n.attr("data-mce-innertext",r.value)}}});d.addNodeFilter("noscript",function(e){var t=e.length,i,s,o;while(t--){i=e[t];s=e[t].firstChild;if(s){s.value=r.decode(s.value)}else{o=i.attributes.map["data-mce-innertext"];if(o){i.attr("data-mce-innertext",null);s=new n("#text",3);s.value=o;s.raw=true;i.append(s)}}}})}}function R(){function s(e,n){var r=t.createTextRange();try{r.moveToPoint(e,n)}catch(i){r=null}return r}function o(e){var t;if(e.button){t=s(e.x,e.y);if(t){if(t.compareEndPoints("StartToStart",r)>0){t.setEndPoint("StartToStart",r)}else{t.setEndPoint("EndToEnd",r)}t.select()}}else{u()}}function u(){var t=e.selection.createRange();if(r&&!t.item&&t.compareEndPoints("StartToEnd",t)===0){r.select()}l.unbind(e,"mouseup",u);l.unbind(e,"mousemove",o);r=n=0}var e=l.doc,t=e.body,n,r,i;e.documentElement.unselectable=true;l.bind(e,"mousedown contextmenu",function(t){if(t.target.nodeName==="HTML"){if(n){u()}i=e.documentElement;if(i.scrollHeight>i.clientHeight){return}n=1;r=s(t.x,t.y);if(r){l.bind(e,"mouseup",u);l.bind(e,"mousemove",o);l.getRoot().focus();r.select()}}})}function U(){o.on("keyup focusin mouseup",function(t){if(t.keyCode!=65||!e.metaKeyPressed(t)){c.normalize()}},true)}function z(){o.contentStyles.push("img:-moz-broken {"+"-moz-force-broken-image-icon:1;"+"min-width:24px;"+"min-height:24px"+"}")}function W(){if(!o.inline){o.on("keydown",function(){if(document.activeElement==document.body){o.getWin().focus()}})}}function X(){if(!o.inline){o.contentStyles.push("body {min-height: 150px}");o.on("click",function(e){if(e.target.nodeName=="HTML"){o.getBody().focus();o.selection.normalize();o.nodeChanged()}})}}function V(){if(i.mac){o.on("keydown",function(t){if(e.metaKeyPressed(t)&&(t.keyCode==37||t.keyCode==39)){t.preventDefault();o.selection.getSel().modify("move",t.keyCode==37?"backward":"forward","word")}})}}function $(){y("AutoUrlDetect",false)}function J(){if(!o.inline){o.on("focus blur beforegetcontent",function(){var e=o.dom.create("br");o.getBody().appendChild(e);e.parentNode.removeChild(e)},true)}}function K(){o.on("click",function(e){var t=e.target;do{if(t.tagName==="A"){e.preventDefault();return}}while(t=t.parentNode)});o.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function Q(){o.on("touchstart",function(e){var t,n,r,i;t=e.target;n=(new Date).getTime();i=e.changedTouches;if(!i||i.length>1){return}r=i[0];o.once("touchend",function(e){var i=e.changedTouches[0],s;if((new Date).getTime()-n>500){return}if(Math.abs(r.clientX-i.clientX)>5){return}if(Math.abs(r.clientY-i.clientY)>5){return}s={target:t};u("pageX pageY clientX clientY screenX screenY".split(" "),function(e){s[e]=i[e]});s=o.fire("click",s);if(!s.isDefaultPrevented()){o.selection.placeCaretAt(i.clientX,i.clientY);o.nodeChanged()}})})}function G(){o.on("init",function(){o.dom.bind(o.getBody(),"submit",function(e){e.preventDefault()})})}function Y(){p.addNodeFilter("br",function(e){var t=e.length;while(t--){if(e[t].attr("class")=="Apple-interchange-newline"){e[t].remove()}}})}var u=s.each;var a=e.BACKSPACE,f=e.DELETE,l=o.dom,c=o.selection,h=o.settings,p=o.parser,d=o.serializer;var v=i.gecko,m=i.ie,g=i.webkit;D();S();U();if(g){E();T();k();B();G();O();Y();Q();if(i.iOS){W();X();K()}else{x()}}if(m&&i.ie<11){N();A();M();_();F();I();q();R()}if(i.ie>=11){X();J();O()}if(i.ie){x();$()}if(v){N();C();L();P();H();j();z();V();O()}}});i("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(e){function t(t){if(!t._eventDispatcher){t._eventDispatcher=new e({scope:t,toggleEvent:function(n,r){if(e.isNative(n)&&t.toggleNativeEvent){t.toggleNativeEvent(n,r)}}})}return t._eventDispatcher}return{fire:function(e,n,r){var i=this;if(i.removed&&e!=="remove"){return n}n=t(i).fire(e,n,r);if(r!==false&&i.parent){var s=i.parent();while(s&&!n.isPropagationStopped()){s.fire(e,n,false);s=s.parent()}}return n},on:function(e,n,r){return t(this).on(e,n,r)},off:function(e,n){return t(this).off(e,n)},once:function(e,n){return t(this).once(e,n)},hasEventListeners:function(e){return t(this).has(e)}}});i("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t,n){function s(e,t){if(t=="selectionchange"){return e.getDoc()}if(!e.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(t)){return e.getDoc().documentElement}if(e.settings.event_root){if(!e.eventRoot){e.eventRoot=r.select(e.settings.event_root)[0]}return e.eventRoot}return e.getBody()}function o(e,t){var n=s(e,t),o;if(!e.delegates){e.delegates={}}if(e.delegates[t]){return}if(e.settings.event_root){if(!i){i={};e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor){if(i){for(t in i){e.dom.unbind(s(e,t))}i=null}}})}if(i[t]){return}o=function(n){var i=n.target,s=e.editorManager.editors,o=s.length;while(o--){var u=s[o].getBody();if(u===i||r.isChildOf(i,u)){if(!s[o].hidden){s[o].fire(t,n)}}}};i[t]=o;r.bind(n,t,o)}else{o=function(n){if(!e.hidden){e.fire(t,n)}};r.bind(n,t,o);e.delegates[t]=o}}var r=t.DOM,i;var u={bindPendingEventDelegates:function(){var e=this;n.each(e._pendingNativeEvents,function(t){o(e,t)})},toggleNativeEvent:function(e,t){var n=this;if(n.settings.readonly){return}if(e=="focus"||e=="blur"){return}if(t){if(n.initialized){o(n,e)}else{if(!n._pendingNativeEvents){n._pendingNativeEvents=[e]}else{n._pendingNativeEvents.push(e)}}}else if(n.initialized){n.dom.unbind(s(n,e),e,n.delegates[e]);delete n.delegates[e]}},unbindAllNativeEvents:function(){var e=this,t;if(e.delegates){for(t in e.delegates){e.dom.unbind(s(e,t),t,e.delegates[t])}delete e.delegates}if(!e.inline){e.getBody().onload=null;e.dom.unbind(e.getWin());e.dom.unbind(e.getDoc())}e.dom.unbind(e.getBody());e.dom.unbind(e.getContainer())}};u=n.extend({},e,u);return u});i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(e,t){var n=e.each,r=e.explode;var i={f9:120,f10:121,f11:122};return function(s){var o=this,u={};s.on("keyup keypress keydown",function(e){if((e.altKey||e.ctrlKey||e.metaKey)&&!e.isDefaultPrevented()){n(u,function(n){var r=t.mac?e.metaKey:e.ctrlKey;if(n.ctrl!=r||n.alt!=e.altKey||n.shift!=e.shiftKey){return}if(e.keyCode==n.keyCode||e.charCode&&e.charCode==n.charCode){e.preventDefault();if(e.type=="keydown"){n.func.call(n.scope)}return true}})}});o.add=function(t,o,a,f){var l;l=a;if(typeof a==="string"){a=function(){s.execCommand(l,false,null)}}else if(e.isArray(l)){a=function(){s.execCommand(l[0],l[1],l[2])}}n(r(t.toLowerCase()),function(e){var t={func:a,scope:f||s,desc:s.translate(o),alt:false,ctrl:false,shift:false};n(r(e,"+"),function(e){switch(e){case"alt":case"ctrl":case"shift":t[e]=true;break;default:if(/^[0-9]{2,}$/.test(e)){t.keyCode=parseInt(e,10)}else{t.charCode=e.charCodeAt(0);t.keyCode=i[e]||e.toUpperCase().charCodeAt(0)}}});u[(t.ctrl?"ctrl":"")+","+(t.alt?"alt":"")+","+(t.shift?"shift":"")+","+t.keyCode]=t});return true}}});i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/EditorObservable","tinymce/Shortcuts"],function(e,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T){function j(e,t,i){var s=this,o,u;o=s.documentBaseUrl=i.documentBaseURL;u=i.baseURI;s.settings=t=L({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:true,submit_patch:true,add_unload_trigger:true,convert_urls:true,relative_urls:true,remove_script_host:true,object_resizing:true,doctype:"<!DOCTYPE html>",visual:true,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:true,padd_empty_editor:true,render_ui:true,indentation:"30px",inline_styles:true,convert_fonts_to_spans:true,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,ul,ol,li,dl,dt,dd,area,table,thead,"+"tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:true,entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s,ie7_compat:true},t);r.language=t.language||"en";r.languageLoad=t.language_load;r.baseURL=i.baseURL;s.id=t.id=e;s.isNotDirty=true;s.plugins={};s.documentBaseURI=new d(t.document_base_url||o,{base_uri:u});s.baseURI=u;s.contentCSS=[];s.contentStyles=[];s.shortcuts=new T(s);s.execCommands={};s.queryStateCommands={};s.queryValueCommands={};s.loadedCSS={};if(t.target){s.targetElm=t.target}s.suffix=i.suffix;s.editorManager=i;s.inline=t.inline;i.fire("SetupEditor",s);s.execCallback("setup",s);s.$=n.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}var N=e.DOM,C=r.ThemeManager,k=r.PluginManager;var L=S.extend,A=S.each,O=S.explode;var M=S.inArray,_=S.trim,D=S.resolve;var P=m.Event;var H=E.gecko,B=E.ie;j.prototype={render:function(){function i(){N.unbind(window,"ready",i);e.render()}function o(){var n=v.ScriptLoader;if(t.language&&t.language!="en"&&!t.language_url){t.language_url=e.editorManager.baseURL+"/langs/"+t.language+".js"}if(t.language_url){n.add(t.language_url)}if(t.theme&&typeof t.theme!="function"&&t.theme.charAt(0)!="-"&&!C.urls[t.theme]){var i=t.theme_url;if(i){i=e.documentBaseURI.toAbsolute(i)}else{i="themes/"+t.theme+"/theme"+r+".js"}C.load(t.theme,i)}if(S.isArray(t.plugins)){t.plugins=t.plugins.join(" ")}A(t.external_plugins,function(e,n){k.load(n,e);t.plugins+=" "+n});A(t.plugins.split(/[ ,]/),function(e){e=_(e);if(e&&!k.urls[e]){if(e.charAt(0)=="-"){e=e.substr(1,e.length);var t=k.dependencies(e);A(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};e=k.createUrl(t,e);k.load(e.resource,e)})}else{k.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"})}}});n.loadQueue(function(){if(!e.removed){e.init()}})}var e=this,t=e.settings,n=e.id,r=e.suffix;if(!P.domLoaded){N.bind(window,"ready",i);return}if(!e.getElement()){return}if(!E.contentEditable){return}if(!t.inline){e.orgVisibility=e.getElement().style.visibility;e.getElement().style.visibility="hidden"}else{e.inline=true}var s=e.getElement().form||N.getParent(n,"form");if(s){e.formElement=s;if(t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)){N.insertAfter(N.create("input",{type:"hidden",name:n}),n);e.hasHiddenInput=true}e.formEventDelegate=function(t){e.fire(t.type,t)};N.bind(s,"submit reset",e.formEventDelegate);e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})});if(t.submit_patch&&!s.submit.nodeType&&!s.submit.length&&!s._mceOldSubmit){s._mceOldSubmit=s.submit;s.submit=function(){e.editorManager.triggerSave();e.isNotDirty=true;return s._mceOldSubmit(s)}}}e.windowManager=new g(e);if(t.encoding=="xml"){e.on("GetContent",function(e){if(e.save){e.content=N.encode(e.content)}})}if(t.add_form_submit_trigger){e.on("submit",function(){if(e.initialized){e.save()}})}if(t.add_unload_trigger){e._beforeUnload=function(){if(e.initialized&&!e.destroyed&&!e.isHidden()){e.save({format:"raw",no_events:true,set_dirty:false})}};e.editorManager.on("BeforeUnload",e._beforeUnload)}o()},init:function(){function v(t){var n=k.get(t),r,i;r=k.urls[t]||e.documentBaseUrl.replace(/\/$/,"");t=_(t);if(n&&M(d,t)===-1){A(k.dependencies(t),function(e){v(e)});i=new n(e,r,e.$);e.plugins[t]=i;if(i.init){i.init(e,r);d.push(t)}}}var e=this,t=e.settings,n=e.getElement();var r,i,s,o,u,a,f,l,c,h,p,d=[];e.rtl=this.editorManager.i18n.rtl;e.editorManager.add(e);t.aria_label=t.aria_label||N.getAttrib(n,"aria-label",e.getLang("aria.rich_text_area"));if(t.theme){if(typeof t.theme!="function"){t.theme=t.theme.replace(/-/,"");a=C.get(t.theme);e.theme=new a(e,C.urls[t.theme]);if(e.theme.init){e.theme.init(e,C.urls[t.theme]||e.documentBaseUrl.replace(/\/$/,""),e.$)}}else{e.theme=t.theme}}A(t.plugins.replace(/\-/g,"").split(/[ ,]/),v);if(t.render_ui&&e.theme){e.orgDisplay=n.style.display;if(typeof t.theme!="function"){r=t.width||n.style.width||n.offsetWidth;i=t.height||n.style.height||n.offsetHeight;s=t.min_height||100;h=/^[0-9\.]+(|px)$/i;if(h.test(""+r)){r=Math.max(parseInt(r,10),100)}if(h.test(""+i)){i=Math.max(parseInt(i,10),s)}u=e.theme.renderUI({targetNode:n,width:r,height:i,deltaWidth:t.delta_width,deltaHeight:t.delta_height});if(!t.content_editable){i=(u.iframeHeight||i)+(typeof i=="number"?u.deltaHeight||0:"");if(i<s){i=s}}}else{u=t.theme(e,n);if(u.editorContainer.nodeType){u.editorContainer=u.editorContainer.id=u.editorContainer.id||e.id+"_parent"}if(u.iframeContainer.nodeType){u.iframeContainer=u.iframeContainer.id=u.iframeContainer.id||e.id+"_iframecontainer"}i=u.iframeHeight||n.offsetHeight}e.editorContainer=u.editorContainer}if(t.content_css){A(O(t.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))})}if(t.content_style){e.contentStyles.push(t.content_style)}if(t.content_editable){n=o=u=null;return e.initContentBody()}e.iframeHTML=t.doctype+"<html><head>";if(t.document_base_url!=e.documentBaseUrl){e.iframeHTML+='<base href="'+e.documentBaseURI.getURI()+'" />'}if(!E.caretAfter&&t.ie7_compat){e.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'}e.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';for(p=0;p<e.contentCSS.length;p++){var m=e.contentCSS[p];e.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+m+'" />';e.loadedCSS[m]=true}l=t.body_id||"tinymce";if(l.indexOf("=")!=-1){l=e.getParam("body_id","","hash");l=l[e.id]||l}c=t.body_class||"";if(c.indexOf("=")!=-1){c=e.getParam("body_class","","hash");c=c[e.id]||""}if(t.content_security_policy){e.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+t.content_security_policy+'" />'}e.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+c+'" data-id="'+e.id+'"><br></body></html>';var g="javascript:(function(){"+'document.open();document.domain="'+document.domain+'";'+'var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);'+"document.close();ed.initContentBody(true);})()";if(document.domain!=location.hostname){f=g}var y=N.create("iframe",{id:e.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. "+"Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:i,display:"block"}});y.onload=function(){y.onload=null;e.fire("load")};N.setAttrib(y,"src",f||'javascript:""');e.contentAreaContainer=u.iframeContainer;e.iframeElement=y;o=N.add(u.iframeContainer,y);if(B){try{e.getDoc()}catch(b){o.src=f=g}}if(u.editorContainer){N.get(u.editorContainer).style.display=e.orgDisplay;e.hidden=N.isHidden(u.editorContainer)}e.getElement().style.display="none";N.setAttrib(e.id,"aria-hidden",true);if(!f){e.initContentBody()}n=o=u=null},initContentBody:function(t){var n=this,r=n.settings,u=n.getElement(),d=n.getDoc(),v,m;if(!r.inline){n.getElement().style.visibility=n.orgVisibility}if(!t&&!r.content_editable){d.open();d.write(n.iframeHTML);d.close()}if(r.content_editable){n.on("remove",function(){var e=this.getBody();N.removeClass(e,"mce-content-body");N.removeClass(e,"mce-edit-focus");N.setAttrib(e,"contentEditable",null)});N.addClass(u,"mce-content-body");n.contentDocument=d=r.content_document||document;n.contentWindow=r.content_window||window;n.bodyElement=u;r.content_document=r.content_window=null;r.root_name=u.nodeName.toLowerCase()}v=n.getBody();v.disabled=true;if(!r.readonly){if(n.inline&&N.getStyle(v,"position",true)=="static"){v.style.position="relative"}v.contentEditable=n.getParam("content_editable_state",true)}v.disabled=false;n.schema=new y(r);n.dom=new e(d,{keep_values:true,url_converter:n.convertURL,url_converter_scope:n,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:true,root_element:n.inline?n.getBody():null,collect:r.content_editable,schema:n.schema,onSetAttrib:function(e){n.fire("SetAttrib",e)}});n.parser=new b(r,n.schema);n.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){var r=e.length,i,s=n.dom,o,u;while(r--){i=e[r];o=i.attr(t);u="data-mce-"+t;if(!i.attributes.map[u]){if(t==="style"){o=s.serializeStyle(s.parseStyle(o),i.name);if(!o.length){o=null}i.attr(u,o);i.attr(t,o)}else if(t==="tabindex"){i.attr(u,o);i.attr(t,null)}else{i.attr(u,n.convertURL(o,t,i.name))}}}});n.parser.addNodeFilter("script",function(e){var t=e.length,n;while(t--){n=e[t];n.attr("type","mce-"+(n.attr("type")||"no/type"))}});n.parser.addNodeFilter("#cdata",function(e){var t=e.length,n;while(t--){n=e[t];n.type=8;n.name="#comment";n.value="[CDATA["+n.value+"]]"}});n.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){var t=e.length,r,i=n.schema.getNonEmptyElements();while(t--){r=e[t];if(r.isEmpty(i)){r.append(new s("br",1)).shortEnded=true}}});n.serializer=new o(r,n);n.selection=new a(n.dom,n.getWin(),n.serializer,n);n.formatter=new f(n);n.undoManager=new l(n);n.forceBlocks=new h(n);n.enterKey=new c(n);n.editorCommands=new p(n);n._nodeChangeDispatcher=new i(n);n.fire("PreInit");if(!r.browser_spellcheck&&!r.gecko_spellcheck){d.body.spellcheck=false;N.setAttrib(v,"spellcheck","false")}n.fire("PostRender");n.quirks=new w(n);if(r.directionality){v.dir=r.directionality}if(r.nowrap){v.style.whiteSpace="nowrap"}if(r.protect){n.on("BeforeSetContent",function(e){A(r.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})})}n.on("SetContent",function(){n.addVisual(n.getBody())});if(r.padd_empty_editor){n.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")})}n.load({initial:true,format:"html"});n.startContent=n.getContent({format:"raw"});n.initialized=true;n.bindPendingEventDelegates();n.fire("init");n.focus(true);n.nodeChanged({initial:true});n.execCallback("init_instance_callback",n);if(n.contentStyles.length>0){m="";A(n.contentStyles,function(e){m+=e+"\r\n"});n.dom.addStyle(m)}A(n.contentCSS,function(e){if(!n.loadedCSS[e]){n.dom.loadCSS(e);n.loadedCSS[e]=true}});if(r.auto_focus){setTimeout(function(){var e;if(r.auto_focus===true){e=n}else{e=n.editorManager.get(r.auto_focus)}e.focus()},100)}u=d=v=null},focus:function(e){var t=this,n=t.selection,r=t.settings.content_editable,i;var s,o=t.getDoc(),u;if(!e){i=n.getRng();if(i.item){s=i.item(0)}t._refreshContentEditable();if(!r){if(!E.opera){t.getBody().focus()}t.getWin().focus()}if(H||r){u=t.getBody();if(u.setActive){try{u.setActive()}catch(a){u.focus()}}else{u.focus()}if(r){n.normalize()}}if(s&&s.ownerDocument==o){i=o.body.createControlRange();i.addElement(s);i.select()}}t.editorManager.setActive(t)},execCallback:function(e){var t=this,n=t.settings[e],r;if(!n){return}if(t.callbackLookup&&(r=t.callbackLookup[e])){n=r.func;r=r.scope}if(typeof n==="string"){r=n.replace(/\.\w+$/,"");r=r?D(r):0;n=D(n);t.callbackLookup=t.callbackLookup||{};t.callbackLookup[e]={func:n,scope:r}}return n.apply(r||t,Array.prototype.slice.call(arguments,1))},translate:function(e){var t=this.settings.language||"en",n=this.editorManager.i18n;if(!e){return""}return n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==t?n:"{#"+e+"}")},getParam:function(e,t,n){var r=e in this.settings?this.settings[e]:t,i;if(n==="hash"){i={};if(typeof r==="string"){A(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(e){e=e.split("=");if(e.length>1){i[_(e[0])]=_(e[1])}else{i[_(e[0])]=_(e)}})}else{i=r}return i}return r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}}if(!t.text&&!t.icon){t.icon=e}n.buttons=n.buttons||{};t.tooltip=t.tooltip||t.title;n.buttons[e]=t},addMenuItem:function(e,t){var n=this;if(t.cmd){t.onclick=function(){n.execCommand(t.cmd)}}n.menuItems=n.menuItems||{};n.menuItems[e]=t},addCommand:function(e,t,n){this.execCommands[e]={func:t,scope:n||this}},addQueryStateHandler:function(e,t,n){this.queryStateCommands[e]={func:t,scope:n||this}},addQueryValueHandler:function(e,t,n){this.queryValueCommands[e]={func:t,scope:n||this}},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){var i=this,s=0,o;if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!r||!r.skip_focus)){i.focus()}r=L({},r);r=i.fire("BeforeExecCommand",{command:e,ui:t,value:n});if(r.isDefaultPrevented()){return false}if(o=i.execCommands[e]){if(o.func.call(o.scope,t,n)!==true){i.fire("ExecCommand",{command:e,ui:t,value:n});return true}}A(i.plugins,function(r){if(r.execCommand&&r.execCommand(e,t,n)){i.fire("ExecCommand",{command:e,ui:t,value:n});s=true;return false}});if(s){return s}if(i.theme&&i.theme.execCommand&&i.theme.execCommand(e,t,n)){i.fire("ExecCommand",{command:e,ui:t,value:n});return true}if(i.editorCommands.execCommand(e,t,n)){i.fire("ExecCommand",{command:e,ui:t,value:n});return true}try{s=i.getDoc().execCommand(e,t,n)}catch(u){}if(s){i.fire("ExecCommand",{command:e,ui:t,value:n});return true}return false},queryCommandState:function(e){var t=this,n,r;if(t._isHidden()){return}if(n=t.queryStateCommands[e]){r=n.func.call(n.scope);if(r===true||r===false){return r}}r=t.editorCommands.queryCommandState(e);if(r!==-1){return r}try{return t.getDoc().queryCommandState(e)}catch(i){}},queryCommandValue:function(e){var n=this,r,i;if(n._isHidden()){return}if(r=n.queryValueCommands[e]){i=r.func.call(r.scope);if(i!==true){return i}}i=n.editorCommands.queryCommandValue(e);if(i!==t){return i}try{return n.getDoc().queryCommandValue(e)}catch(s){}},show:function(){var e=this;if(e.hidden){e.hidden=false;if(e.inline){e.getBody().contentEditable=true}else{N.show(e.getContainer());N.hide(e.id)}e.load();e.fire("show")}},hide:function(){var e=this,t=e.getDoc();if(!e.hidden){if(B&&t&&!e.inline){t.execCommand("SelectAll")}e.save();if(e.inline){e.getBody().contentEditable=false;if(e==e.editorManager.focusedEditor){e.editorManager.focusedEditor=null}}else{N.hide(e.getContainer());N.setStyle(e.id,"display",e.orgDisplay)}e.hidden=true;e.fire("hide")}},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var n=this,r=n.getElement(),i;if(r){e=e||{};e.load=true;i=n.setContent(r.value!==t?r.value:r.innerHTML,e);e.element=r;if(!e.no_events){n.fire("LoadContent",e)}e.element=r=null;return i}},save:function(e){var t=this,n=t.getElement(),r,i;if(!n||!t.initialized){return}e=e||{};e.save=true;e.element=n;r=e.content=t.getContent(e);if(!e.no_events){t.fire("SaveContent",e)}r=e.content;if(!/TEXTAREA|INPUT/i.test(n.nodeName)){if(!t.inline){n.innerHTML=r}if(i=N.getParent(t.id,"form")){A(i.elements,function(e){if(e.name==t.id){e.value=r;return false}})}}else{n.value=r}e.element=n=null;if(e.set_dirty!==false){t.isNotDirty=true}return r},setContent:function(e,t){var n=this,r=n.getBody(),i;t=t||{};t.format=t.format||"html";t.set=true;t.content=e;if(!t.no_events){n.fire("BeforeSetContent",t)}e=t.content;if(e.length===0||/^\s+$/.test(e)){i=n.settings.forced_root_block;if(i&&n.schema.isValidChild(r.nodeName.toLowerCase(),i.toLowerCase())){e=B&&B<11?"":'<br data-mce-bogus="1">';e=n.dom.createHTML(i,n.settings.forced_root_block_attrs,e)}else if(!B){e='<br data-mce-bogus="1">'}n.dom.setHTML(r,e);n.fire("SetContent",t)}else{if(t.format!=="raw"){e=(new u({},n.schema)).serialize(n.parser.parse(e,{isRootContent:true}))}t.content=_(e);n.dom.setHTML(r,t.content);if(!t.no_events){n.fire("SetContent",t)}}return t.content},getContent:function(e){var t=this,n,r=t.getBody();e=e||{};e.format=e.format||"html";e.get=true;e.getInner=true;if(!e.no_events){t.fire("BeforeGetContent",e)}if(e.format=="raw"){n=r.innerHTML}else if(e.format=="text"){n=r.innerText||r.textContent}else{n=t.serializer.serialize(r,e)}if(e.format!="text"){e.content=_(n)}else{e.content=n}if(!e.no_events){t.fire("GetContent",e)}return e.content},insertContent:function(e,t){if(t){e=L({content:e},t)}this.execCommand("mceInsertContent",false,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){var e=this;if(!e.container){e.container=N.get(e.editorContainer||e.id+"_parent")}return e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){if(!this.targetElm){this.targetElm=N.get(this.id)}return this.targetElm},getWin:function(){var e=this,t;if(!e.contentWindow){t=e.iframeElement;if(t){e.contentWindow=t.contentWindow}}return e.contentWindow},getDoc:function(){var e=this,t;if(!e.contentDocument){t=e.getWin();if(t){e.contentDocument=t.document}}return e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var r=this,i=r.settings;if(i.urlconverter_callback){return r.execCallback("urlconverter_callback",e,n,true,t)}if(!i.convert_urls||n&&n.nodeName=="LINK"||e.indexOf("file:")===0||e.length===0){return e}if(i.relative_urls){return r.documentBaseURI.toRelative(e)}e=r.documentBaseURI.toAbsolute(e,i.remove_script_host);return e},addVisual:function(e){var n=this,r=n.settings,i=n.dom,s;e=e||n.getBody();if(n.hasVisual===t){n.hasVisual=r.visual}A(i.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":s=r.visual_table_class||"mce-item-table";t=i.getAttrib(e,"border");if((!t||t=="0")&&n.hasVisual){i.addClass(e,s)}else{i.removeClass(e,s)}return;case"A":if(!i.getAttrib(e,"href",false)){t=i.getAttrib(e,"name")||e.id;s=r.visual_anchor_class||"mce-item-anchor";if(t&&n.hasVisual){i.addClass(e,s)}else{i.removeClass(e,s)}}return}});n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){var e=this;if(!e.removed){e.save();e.removed=1;e.unbindAllNativeEvents();if(e.hasHiddenInput){N.remove(e.getElement().nextSibling)}if(!e.inline){if(B&&B<10){e.getDoc().execCommand("SelectAll",false,null)}N.setStyle(e.id,"display",e.orgDisplay);e.getBody().onload=null}e.fire("remove");e.editorManager.remove(e);N.remove(e.getContainer());e.destroy()}},destroy:function(e){var t=this,n;if(t.destroyed){return}if(!e&&!t.removed){t.remove();return}if(!e){t.editorManager.off("beforeunload",t._beforeUnload);if(t.theme&&t.theme.destroy){t.theme.destroy()}t.selection.destroy();t.dom.destroy()}n=t.formElement;if(n){if(n._mceOldSubmit){n.submit=n._mceOldSubmit;n._mceOldSubmit=null}N.unbind(n,"submit reset",t.formEventDelegate)}t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null;t.bodyElement=t.contentDocument=t.contentWindow=null;t.iframeElement=t.targetElm=null;if(t.selection){t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null}t.destroyed=1},_refreshContentEditable:function(){var e=this,t,n;if(e._isHidden()){t=e.getBody();n=t.parentNode;n.removeChild(t);n.appendChild(t);t.focus()}},_isHidden:function(){var e;if(!H){return 0}e=this.selection.getSel();return!e||!e.rangeCount||e.rangeCount===0}};L(j.prototype,x);return j});i("tinymce/util/I18n",[],function(){"use strict";var e={};return{rtl:false,add:function(t,n){for(var r in n){e[r]=n[r]}this.rtl=this.rtl||e._dir==="rtl"},translate:function(t){if(typeof t=="undefined"){return t}if(typeof t!="string"&&t.raw){return t.raw}if(t.push){var n=t.slice(1);t=(e[t[0]]||t[0]).replace(/\{([^\}]+)\}/g,function(e,t){return n[t]})}return e[t]||t},data:e}});i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/Env"],function(e,t){function o(e){function u(){try{return document.activeElement}catch(e){return document.body}}function a(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot())){return}return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function f(e,t){var n;if(t.startContainer){n=e.getDoc().createRange();n.setStart(t.startContainer,t.startOffset);n.setEnd(t.endContainer,t.endOffset)}else{n=t}return n}function l(e){return!!s.getParent(e,o.isEditorUIElement)}function c(o){var c=o.editor;c.on("init",function(){if(c.inline||t.ie){if("onbeforedeactivate"in document&&t.ie<9){c.dom.bind(c.getBody(),"beforedeactivate",function(e){if(e.target!=c.getBody()){return}try{c.lastRng=c.selection.getRng()}catch(t){}})}else{c.on("nodechange mouseup keyup",function(e){var t=u();if(e.type=="nodechange"&&e.selectionChange){return}if(t&&t.id==c.id+"_ifr"){t=c.getBody()}if(c.dom.isChildOf(t,c.getBody())){c.lastRng=c.selection.getRng()}})}if(t.webkit&&!n){n=function(){var t=e.activeEditor;if(t&&t.selection){var n=t.selection.getRng();if(n&&!n.collapsed){c.lastRng=n}}};s.bind(document,"selectionchange",n)}}});c.on("setcontent",function(){c.lastRng=null});c.on("mousedown",function(){c.selection.lastFocusBookmark=null});c.on("focusin",function(){var t=e.focusedEditor;if(c.selection.lastFocusBookmark){c.selection.setRng(f(c,c.selection.lastFocusBookmark));c.selection.lastFocusBookmark=null}if(t!=c){if(t){t.fire("blur",{focusedEditor:c})}e.setActive(c);e.focusedEditor=c;c.fire("focus",{blurredEditor:t});c.focus(true)}c.lastRng=null});c.on("focusout",function(){window.setTimeout(function(){var t=e.focusedEditor;if(!l(u())&&t==c){c.fire("blur",{focusedEditor:null});e.focusedEditor=null;if(c.selection){c.selection.lastFocusBookmark=null}}},0)});if(!r){r=function(t){var n=e.activeEditor;if(n&&t.target.ownerDocument==document){if(n.selection&&t.target!=n.getBody()){n.selection.lastFocusBookmark=a(n.dom,n.lastRng)}if(t.target!=document.body&&!l(t.target)&&e.focusedEditor==n){n.fire("blur",{focusedEditor:null});e.focusedEditor=null}}};s.bind(document,"focusin",r)}if(c.inline&&!i){i=function(t){var n=e.activeEditor;if(n.inline&&!n.dom.isChildOf(t.target,n.getBody())){var r=n.selection.getRng();if(!r.collapsed){n.lastRng=r}}};s.bind(document,"mouseup",i)}}function h(t){if(e.focusedEditor==t.editor){e.focusedEditor=null}if(!e.activeEditor){s.unbind(document,"selectionchange",n);s.unbind(document,"focusin",r);s.unbind(document,"mouseup",i);n=r=i=null}}e.on("AddEditor",c);e.on("RemoveEditor",h)}var n,r,i,s=e.DOM;o.isEditorUIElement=function(e){return true};return o});i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(e,t,n,r,i,s,o,u,a){function m(e){var t=v.editors,n;delete t[e.id];for(var r=0;r<t.length;r++){if(t[r]==e){t.splice(r,1);n=true;break}}if(v.activeEditor==e){v.activeEditor=t[0]}if(v.focusedEditor==e){v.focusedEditor=null}return n}function g(e){if(e&&!(e.getContainer()||e.getBody()).parentNode){m(e);e.unbindAllNativeEvents();e.destroy(true);e=null}return e}var f=n.DOM;var l=s.explode,c=s.each,h=s.extend;var p=0,d,v;v={$:t,majorVersion:"4",minorVersion:"1.6",releaseDate:"2014-10-08",editors:[],i18n:u,activeEditor:null,setup:function(){var e=this,t,n,i="",s,o;n=document.location.href;if(/^[^:]+:\/\/\/?[^\/]+\//.test(n)){n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,"");if(!/[\/\\]$/.test(n)){n+="/"}}s=window.tinymce||window.tinyMCEPreInit;if(s){t=s.base||s.baseURL;i=s.suffix}else{var u=document.getElementsByTagName("script");for(var f=0;f<u.length;f++){o=u[f].src;if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(o)){if(o.indexOf(".min")!=-1){i=".min"}t=o.substring(0,o.lastIndexOf("/"));break}}if(!t&&document.currentScript){o=document.currentScript.src;if(o.indexOf(".min")!=-1){i=".min"}t=o.substring(0,o.lastIndexOf("/"))}}e.baseURL=(new r(n)).toAbsolute(t);e.documentBaseURL=n;e.baseURI=new r(e.baseURL);e.suffix=i;e.focusManager=new a(e)},init:function(t){function i(e){var t=e.id;if(!t){t=e.name;if(t&&!f.get(t)){t=e.name}else{t=f.uniqueId()}e.setAttribute("id",t)}return t}function s(t,i,s){if(!g(n.get(t))){var o=new e(t,i,n);o.targetElm=o.targetElm||s;r.push(o);o.render()}}function o(e){var r=t[e];if(!r){return}return r.apply(n,Array.prototype.slice.call(arguments,2))}function u(e,t){return t.constructor===RegExp?t.test(e.className):f.hasClass(e,t)}function a(){var e,n;f.unbind(window,"ready",a);o("onpageload");if(t.types){c(t.types,function(e){c(f.select(e.selector),function(n){s(i(n),h({},t,e),n)})});return}else if(t.selector){c(f.select(t.selector),function(e){s(i(e),t,e)});return}else if(t.target){s(i(t.target),t)}switch(t.mode){case"exact":e=t.elements||"";if(e.length>0){c(l(e),function(e){var n;if(n=f.get(e)){s(e,t,n)}else{c(document.forms,function(n){c(n.elements,function(n){if(n.name===e){e="mce_editor_"+p++;f.setAttrib(n,"id",e);s(e,t,n)}})})}})}break;case"textareas":case"specific_textareas":c(f.select("textarea"),function(e){if(t.editor_deselector&&u(e,t.editor_deselector)){return}if(!t.editor_selector||u(e,t.editor_selector)){s(i(e),t,e)}});break}if(t.oninit){e=n=0;c(r,function(t){n++;if(!t.initialized){t.on("init",function(){e++;if(e==n){o("oninit")}})}else{e++}if(e==n){o("oninit")}})}}var n=this,r=[];n.settings=t;f.bind(window,"ready",a)},get:function(e){if(!arguments.length){return this.editors}return e in this.editors?this.editors[e]:null},add:function(e){var t=this,n=t.editors;n[e.id]=e;n.push(e);t.activeEditor=e;t.fire("AddEditor",{editor:e});if(!d){d=function(){t.fire("BeforeUnload")};f.bind(window,"beforeunload",d)}return e},createEditor:function(t,n){return this.add(new e(t,n,this))},remove:function(e){var t=this,n,r=t.editors,i;if(!e){for(n=r.length-1;n>=0;n--){t.remove(r[n])}return}if(typeof e=="string"){e=e.selector||e;c(f.select(e),function(e){i=r[e.id];if(i){t.remove(i)}});return}i=e;if(!r[i.id]){return null}if(m(i)){t.fire("RemoveEditor",{editor:i})}if(!r.length){f.unbind(window,"beforeunload",d)}i.remove();return i},execCommand:function(t,n,r){var i=this,s=i.get(r);switch(t){case"mceAddEditor":if(!i.get(r)){(new e(r,i.settings,i)).render()}return true;case"mceRemoveEditor":if(s){s.remove()}return true;case"mceToggleEditor":if(!s){i.execCommand("mceAddEditor",0,r);return true}if(s.isHidden()){s.show()}else{s.hide()}return true}if(i.activeEditor){return i.activeEditor.execCommand(t,n,r)}return false},triggerSave:function(){c(this.editors,function(e){e.save()})},addI18n:function(e,t){u.add(e,t)},translate:function(e){return u.translate(e)},setActive:function(e){var t=this.activeEditor;if(this.activeEditor!=e){if(t){t.fire("deactivate",{relatedTarget:e})}e.fire("activate",{relatedTarget:t})}this.activeEditor=e}};h(v,o);v.setup();window.tinymce=window.tinyMCE=v;return v});i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var n=t.each,r=t.explode;e.on("AddEditor",function(e){var t=e.editor;t.on("preInit",function(){function u(e,t){n(t,function(t,n){if(t){s.setStyle(e,n,t)}});s.rename(e,"span")}function a(r){s=t.dom;if(o.convert_fonts_to_spans){n(s.select("font,u,strike",r.node),function(t){e[t.nodeName.toLowerCase()](s,t)})}}var e,i,s,o=t.settings;if(o.inline_styles){i=r(o.font_size_legacy_values);e={font:function(e,t){u(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:i[parseInt(t.size,10)-1]})},u:function(e,t){u(t,{textDecoration:"underline"})},strike:function(e,t){u(t,{textDecoration:"line-through"})}};t.on("PreProcess SetContent",a)}})})});i("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(e,t){var n={send:function(e){function i(){if(!e.async||t.readyState==4||r++>1e4){if(e.success&&r<1e4&&t.status==200){e.success.call(e.success_scope,""+t.responseText,t,e)}else if(e.error){e.error.call(e.error_scope,r>1e4?"TIMED_OUT":"GENERAL",t,e)}t=null}else{setTimeout(i,10)}}var t,r=0;e.scope=e.scope||this;e.success_scope=e.success_scope||e.scope;e.error_scope=e.error_scope||e.scope;e.async=e.async===false?false:true;e.data=e.data||"";t=new XMLHttpRequest;if(t){if(t.overrideMimeType){t.overrideMimeType(e.content_type)}t.open(e.type||(e.data?"POST":"GET"),e.url,e.async);if(e.crossDomain){t.withCredentials=true}if(e.content_type){t.setRequestHeader("Content-Type",e.content_type)}t.setRequestHeader("X-Requested-With","XMLHttpRequest");t=n.fire("beforeSend",{xhr:t,settings:e}).xhr;t.send(e.data);if(!e.async){return i()}setTimeout(i,10)}}};t.extend(n,e);return n});i("tinymce/util/JSON",[],function(){function e(t,n){var r,i,s,o;n=n||'"';if(t===null){return"null"}s=typeof t;if(s=="string"){i="\bb	t\nn\ff\rr\"\"''\\\\";return n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){if(n==='"'&&e==="'"){return e}r=i.indexOf(t);if(r+1){return"\\"+i.charAt(r+1)}e=t.charCodeAt().toString(16);return"\\u"+"0000".substring(e.length)+e})+n}if(s=="object"){if(t.hasOwnProperty&&Object.prototype.toString.call(t)==="[object Array]"){for(r=0,i="[";r<t.length;r++){i+=(r>0?",":"")+e(t[r],n)}return i+"]"}i="{";for(o in t){if(t.hasOwnProperty(o)){i+=typeof t[o]!="function"?(i.length>1?","+n:n)+o+n+":"+e(t[o],n):""}}return i+"}"}return""+t}return{serialize:e,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}});i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(e,t,n){function i(e){this.settings=r({},e);this.count=0}var r=n.extend;i.sendRPC=function(e){return(new i).send(e)};i.prototype={send:function(n){var i=n.error,s=n.success;n=r(this.settings,n);n.success=function(t,r){t=e.parse(t);if(typeof t=="undefined"){t={error:"JSON Parse error."}}if(t.error){i.call(n.error_scope||n.scope,t.error,r)}else{s.call(n.success_scope||n.scope,t.result)}};n.error=function(e,t){if(i){i.call(n.error_scope||n.scope,e,t)}};n.data=e.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params});n.content_type="application/json";t.send(n)}};return i});i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(n){var r=this,i=e.DOM,s=n.count!==t?n.count:r.count;var o="tinymce_jsonp_"+s;r.callbacks[s]=function(e){i.remove(o);delete r.callbacks[s];n.callback(e)};i.add(i.doc.body,"script",{id:o,src:n.url,type:"text/javascript"});r.count++}}});i("tinymce/util/LocalStorage",[],function(){function a(){i=[];for(var t in r){i.push(t)}e.length=i.length}function f(){function l(e){var n,r;r=e!==t?f+e:i.indexOf(",",f);if(r===-1||r>i.length){return null}n=i.substring(f,r);f=r+1;return n}var e,i,u,f=0;r={};if(!o){return}n.load(s);i=n.getAttribute(s)||"";do{var c=l();if(c===null){break}e=l(parseInt(c,32)||0);if(e!==null){c=l();if(c===null){break}u=l(parseInt(c,32)||0);if(e){r[e]=u}}}while(e!==null);a()}function l(){var e,t="";if(!o){return}for(var i in r){e=r[i];t+=(t?",":"")+i.length.toString(32)+","+i+","+e.length.toString(32)+","+e}n.setAttribute(s,t);try{n.save(s)}catch(u){}a()}var e,n,r,i,s,o;try{if(window.localStorage){return localStorage}}catch(u){}s="tinymce";n=document.documentElement;o=!!n.addBehavior;if(o){n.addBehavior("#default#userData")}e={key:function(e){return i[e]},getItem:function(e){return e in r?r[e]:null},setItem:function(e,t){r[e]=""+t;l()},removeItem:function(e){delete r[e];l()},clear:function(){r={};l()}};f();return e});i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,r,i,s){var o=window.tinymce;o.DOM=e.DOM;o.ScriptLoader=n.ScriptLoader;o.PluginManager=r.PluginManager;o.ThemeManager=r.ThemeManager;o.dom=o.dom||{};o.dom.Event=t.Event;i.each(i,function(e,t){o[t]=e});i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){o[e]=s[e.substr(2).toLowerCase()]});return{}});i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){"use strict";return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,"body")},applyClasses:function(e){var t=this,n=t.settings,r,i,s;r=e.items().filter(":visible");i=n.firstControlClass;s=n.lastControlClass;r.each(function(e){e.removeClass(i).removeClass(s);if(n.controlClass){e.addClass(n.controlClass)}});r.eq(0).addClass(i);r.eq(-1).addClass(s)},renderHtml:function(e){var t=this,n=t.settings,r,i="";r=e.items();r.eq(0).addClass(n.firstControlClass);r.eq(-1).addClass(n.lastControlClass);r.each(function(e){if(n.controlClass){e.addClass(n.controlClass)}i+=e.renderHtml()});return i},recalc:function(){},postRender:function(){}})});i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h});if(e.recalc){e.recalc()}})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})});i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},text:function(e){var t=this;if(typeof e!="undefined"){t._value=e;if(t._rendered){t.getEl().lastChild.innerHTML=t.encode(e)}return t}return t._value},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes()+'" role="presentation">'+'<div class="'+t+'tooltip-arrow"></div>'+'<div class="'+t+'tooltip-inner">'+e.encode(e._text)+"</div>"+"</div>"},repaint:function(){var e=this,t,n;t=e.getEl().style;n=e._layoutRect;t.left=n.x+"px";t.top=n.y+"px";t.zIndex=65535+65535}})});i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){"use strict";var n;var r=e.extend({init:function(e){var t=this;t._super(e);e=t.settings;t.canFocus=true;if(e.tooltip&&r.tooltips!==false){t.on("mouseenter",function(n){var r=t.tooltip().moveTo(-65535);if(n.control==t){var i=r.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);r.toggleClass("tooltip-n",i=="bc-tc");r.toggleClass("tooltip-nw",i=="bc-tl");r.toggleClass("tooltip-ne",i=="bc-tr");r.moveRel(t.getEl(),i)}else{r.hide()}});t.on("mouseleave mousedown click",function(){t.tooltip().hide()})}t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){if(!n){n=new t({type:"tooltip"});n.renderTo()}return n},active:function(e){var t=this,n;if(e!==n){t.aria("pressed",e);t.toggleClass("active",e)}return t._super(e)},disabled:function(e){var t=this,n;if(e!==n){t.aria("disabled",e);t.toggleClass("disabled",e)}return t._super(e)},postRender:function(){var e=this,t=e.settings;e._rendered=true;e._super();if(!e.parent()&&(t.width||t.height)){e.initLayoutRect();e.repaint()}if(t.autofocus){e.focus()}},remove:function(){this._super();if(n){n.remove();n=null}}});return r});i("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t=this,n;t.on("click mousedown",function(e){e.preventDefault()});t._super(e);n=e.size;if(e.subtype){t.addClass(e.subtype)}if(n){t.addClass("btn-"+n)}},icon:function(e){var t=this,n=t.classPrefix;if(typeof e=="undefined"){return t.settings.icon}t.settings.icon=e;e=e?n+"ico "+n+"i-"+t.settings.icon:"";if(t._rendered){var r=t.getEl().firstChild,i=r.getElementsByTagName("i")[0];if(e){if(!i||i!=r.firstChild){i=document.createElement("i");r.insertBefore(i,r.firstChild)}i.className=e}else if(i){r.removeChild(i)}t.text(t._text)}return t},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%";this._super()},text:function(e){var t=this;if(t._rendered){var n=t.getEl().lastChild.lastChild;if(n){n.data=t.translate(e)}}return t._super(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;var r=e.settings.icon,i;i=e.settings.image;if(i){r="none";if(typeof i!="string"){i=window.getSelection?i[0]:i[1]}i=" style=\"background-image: url('"+i+"')\""}else{i=""}r=e.settings.icon?n+"ico "+n+"i-"+r:"";return'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1" aria-labelledby="'+t+'">'+'<button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+i+"></i>":"")+(e._text?(r?" ":"")+e.encode(e._text):"")+"</button>"+"</div>"}})});i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){"use strict";return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;e.addClass("btn-group");e.preRender();t.preRender(e);return'<div id="'+e._id+'" class="'+e.classes()+'">'+'<div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})});i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:false},init:function(e){var t=this;t._super(e);t.on("click mousedown",function(e){e.preventDefault()});t.on("click",function(e){e.preventDefault();if(!t.disabled()){t.checked(!t.checked())}});t.checked(t.settings.checked)},checked:function(e){var t=this;if(typeof e!="undefined"){if(e){t.addClass("checked")}else{t.removeClass("checked")}t._checked=e;t.aria("checked",e);return t}return t._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes()+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1">'+'<i class="'+n+"ico "+n+'i-checkbox"></i>'+'<span id="'+t+'-al" class="'+n+'label">'+e.encode(e._text)+"</span>"+"</div>"}})});i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils"],function(e,t,n){"use strict";return e.extend({init:function(e){var t=this;t._super(e);t.addClass("combobox");t.subinput=true;t.ariaTarget="inp";e=t.settings;e.menu=e.menu||e.values;if(e.menu){e.icon="caret"}t.on("click",function(n){var r=n.target,i=t.getEl();while(r&&r!=i){if(r.id&&r.id.indexOf("-open")!=-1){t.fire("action");if(e.menu){t.showMenu();if(n.aria){t.menu.items()[0].focus()}}}r=r.parentNode}});t.on("keydown",function(e){if(e.target.nodeName=="INPUT"&&e.keyCode==13){t.parents().reverse().each(function(n){e.preventDefault();t.fire("change");if(n.hasEventListeners("submit")&&n.toJSON){n.fire("submit",{data:n.toJSON()});return false}})}});if(e.placeholder){t.addClass("placeholder");t.on("focusin",function(){if(!t._hasOnChange){n.on(t.getEl("inp"),"change",function(){t.fire("change")});t._hasOnChange=true}if(t.hasClass("placeholder")){t.getEl("inp").value="";t.removeClass("placeholder")}});t.on("focusout",function(){if(t.value().length===0){t.getEl("inp").value=e.placeholder;t.addClass("placeholder")}})}},showMenu:function(){var e=this,n=e.settings,r;if(!e.menu){r=n.menu||[];if(r.length){r={type:"menu",items:r}}else{r.type=r.type||"menu"}e.menu=t.create(r).parent(e).renderTo(e.getContainerElm());e.fire("createmenu");e.menu.reflow();e.menu.on("cancel",function(t){if(t.control===e.menu){e.focus()}});e.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==e.value())})}).fire("show");e.menu.on("select",function(t){e.value(t.control.value())});e.on("focusin",function(t){if(t.target.tagName.toUpperCase()=="INPUT"){e.menu.hide()}});e.aria("expanded",true)}e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(e){var t=this;if(typeof e!="undefined"){t._value=e;t.removeClass("placeholder");if(t._rendered){t.getEl("inp").value=e}return t}if(t._rendered){e=t.getEl("inp").value;if(e!=t.settings.placeholder){return e}return""}return t._value},disabled:function(e){var t=this;if(t._rendered&&typeof e!="undefined"){t.getEl("inp").disabled=e}return t._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e=this,t=e.getEl(),r=e.getEl("open"),i=e.layoutRect();var s,o;if(r){s=i.w-n.getSize(r).width-10}else{s=i.w-10}var u=document;if(u.all&&(!u.documentMode||u.documentMode<=8)){o=e.layoutRect().h-2+"px"}n.css(t.firstChild,{width:s,lineHeight:o});e._super();return e},postRender:function(){var e=this;n.on(this.getEl("inp"),"change",function(){e.fire("change")});return e._super()},remove:function(){n.off(this.getEl("inp"));this._super()},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.classPrefix;var i=n.value||n.placeholder||"";var s,o,u="",a="";if("spellcheck"in n){a+=' spellcheck="'+n.spellcheck+'"'}if(n.maxLength){a+=' maxlength="'+n.maxLength+'"'}if(n.size){a+=' size="'+n.size+'"'}if(n.subtype){a+=' type="'+n.subtype+'"'}if(e.disabled()){a+=' disabled="disabled"'}s=n.icon;if(s&&s!="caret"){s=r+"ico "+r+"i-"+n.icon}o=e._text;if(s||o){u='<div id="'+t+'-open" class="'+r+"btn "+r+'open" tabIndex="-1" role="button">'+'<button id="'+t+'-action" type="button" hidefocus="1" tabindex="-1">'+(s!="caret"?'<i class="'+s+'"></i>':'<i class="'+r+'caret"></i>')+(o?(s?" ":"")+o:"")+"</button>"+"</div>";e.addClass("has-open")}return'<div id="'+t+'" class="'+e.classes()+'">'+'<input id="'+t+'-inp" class="'+r+"textbox "+r+'placeholder" value="'+i+'" hidefocus="1"'+a+" />"+u+"</div>"}})});i("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(e){"use strict";return e.extend({init:function(e){var t=this;e.spellcheck=false;if(e.onaction){e.icon="none"}t._super(e);t.addClass("colorbox");t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl().getElementsByTagName("i")[0];if(t){try{t.style.background=e}catch(n){}}},value:function(e){var t=this;if(typeof e!="undefined"){if(t._rendered){t.repaintColor(e)}}return t._super(e)}})});i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,t){"use strict";return e.extend({showPanel:function(){var e=this,n=e.settings;e.active(true);if(!e.panel){var r=n.panel;if(r.type){r={layout:"grid",items:r}}r.role=r.role||"dialog";r.popover=true;r.autohide=true;r.ariaRoot=true;e.panel=(new t(r)).on("hide",function(){e.active(false)}).on("cancel",function(t){t.stopPropagation();e.focus();e.hidePanel()}).parent(e).renderTo(e.getContainerElm());e.panel.fire("show");e.panel.reflow()}else{e.panel.show()}e.panel.moveRel(e.getEl(),n.popoverAlign||(e.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;if(e.panel){e.panel.hide()}},postRender:function(){var e=this;e.aria("haspopup",true);e.on("click",function(t){if(t.control===e){if(e.panel&&e.panel.visible()){e.hidePanel()}else{e.showPanel();e.panel.focus(!!t.aria)}}});return e._super()},remove:function(){if(this.panel){this.panel.remove();this.panel=null}return this._super()}})});i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){"use strict";var n=t.DOM;return e.extend({init:function(e){this._super(e);this.addClass("colorbutton")},color:function(e){if(e){this._color=e;this.getEl("preview").style.backgroundColor=e;return this}return this._color},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;var r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"";var i=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"";return'<div id="'+t+'" class="'+e.classes()+'" role="button" tabindex="-1" aria-haspopup="true">'+'<button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+i+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+(e._text?(r?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;e.on("click",function(r){if(r.aria&&r.aria.key=="down"){return}if(r.control==e&&!n.getParent(r.target,"."+e.classPrefix+"open")){r.stopImmediatePropagation();t.call(e,r)}});delete e.settings.onclick;return e._super()}})});i("tinymce/util/Color",[],function(){function r(r){function a(r,i,s){var o,u,a,f,l,c;o=0;u=0;a=0;r=r/255;i=i/255;s=s/255;l=e(r,e(i,s));c=t(r,t(i,s));if(l==c){a=l;return{h:0,s:0,v:a*100}}f=r==l?i-s:s==l?r-i:s-r;o=r==l?3:s==l?1:5;o=60*(o-f/(c-l));u=(c-l)/c;a=c;return{h:n(o),s:n(u*100),v:n(a*100)}}function f(r,i,a){var f,l,c,h;r=(parseInt(r,10)||0)%360;i=parseInt(i,10)/100;a=parseInt(a,10)/100;i=t(0,e(i,1));a=t(0,e(a,1));if(i===0){s=o=u=n(255*a);return}f=r/60;l=a*i;c=l*(1-Math.abs(f%2-1));h=a-l;switch(Math.floor(f)){case 0:s=l;o=c;u=0;break;case 1:s=c;o=l;u=0;break;case 2:s=0;o=l;u=c;break;case 3:s=0;o=c;u=l;break;case 4:s=c;o=0;u=l;break;case 5:s=l;o=0;u=c;break;default:s=o=u=0}s=n(255*(s+h));o=n(255*(o+h));u=n(255*(u+h))}function l(){function e(e){e=parseInt(e,10).toString(16);return e.length>1?e:"0"+e}return"#"+e(s)+e(o)+e(u)}function c(){return{r:s,g:o,b:u}}function h(){return a(s,o,u)}function p(e){var t;if(typeof e=="object"){if("r"in e){s=e.r;o=e.g;u=e.b}else if("v"in e){f(e.h,e.s,e.v)}}else{if(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e)){s=parseInt(t[1],10);o=parseInt(t[2],10);u=parseInt(t[3],10)}else if(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e)){s=parseInt(t[1],16);o=parseInt(t[2],16);u=parseInt(t[3],16)}else if(t=/#([0-F])([0-F])([0-F])/gi.exec(e)){s=parseInt(t[1]+t[1],16);o=parseInt(t[2]+t[2],16);u=parseInt(t[3]+t[3],16)}}s=s<0?0:s>255?255:s;o=o<0?0:o>255?255:o;u=u<0?0:u>255?255:u;return i}var i=this,s=0,o=0,u=0;if(r){p(r)}i.toRgb=c;i.toHsv=h;i.toHex=l;i.parse=p}var e=Math.min,t=Math.max,n=Math.round;return r});i("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(e,t,n,r){"use strict";return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function l(e,t){var r=n.getPos(e),i,s;i=t.pageX-r.x;s=t.pageY-r.y;i=Math.max(0,Math.min(i/e.clientWidth,1));s=Math.max(0,Math.min(s/e.clientHeight,1));return{x:i,y:s}}function c(t,i){var s=(360-t.h)/360;n.css(u,{top:s*100+"%"});if(!i){n.css(f,{left:t.s+"%",top:100-t.v+"%"})}a.style.background=(new r({s:100,v:100,h:t.h})).toHex();e.color().parse({s:t.s,v:t.v,h:t.h})}function h(t){var n;n=l(a,t);s.s=n.x*100;s.v=(1-n.y)*100;c(s);e.fire("change")}function p(t){var n;n=l(o,t);s=i.toHsv();s.h=(1-n.y)*360;c(s,true);e.fire("change")}var e=this,i=e.color(),s,o,u,a,f;o=e.getEl("h");u=e.getEl("hp");a=e.getEl("sv");f=e.getEl("svp");e._repaint=function(){s=i.toHsv();c(s)};e._super();e._svdraghelper=new t(e._id+"-sv",{start:h,drag:h});e._hdraghelper=new t(e._id+"-h",{start:p,drag:p});e._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(arguments.length){t.color().parse(e);if(t._rendered){t._repaint()}}else{return t.color().toHex()}},color:function(){if(!this._color){this._color=new r}return this._color},renderHtml:function(){function s(){var e,t,r="",s,o;s="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=";o=i.split(",");for(e=0,t=o.length-1;e<t;e++){r+='<div class="'+n+'colorpicker-h-chunk" style="'+"height:"+100/t+"%;"+s+o[e]+",endColorstr="+o[e+1]+");"+"-ms-"+s+o[e]+",endColorstr="+o[e+1]+")"+'"></div>'}return r}var e=this,t=e._id,n=e.classPrefix,r;var i="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";var o="background: -ms-linear-gradient(top,"+i+");"+"background: linear-gradient(to bottom,"+i+");";r='<div id="'+t+'-h" class="'+n+'colorpicker-h" style="'+o+'">'+s()+'<div id="'+t+'-hp" class="'+n+'colorpicker-h-marker"></div>'+"</div>";return'<div id="'+t+'" class="'+e.classes()+'">'+'<div id="'+t+'-sv" class="'+n+'colorpicker-sv">'+'<div class="'+n+'colorpicker-overlay1">'+'<div class="'+n+'colorpicker-overlay2">'+'<div id="'+t+'-svp" class="'+n+'colorpicker-selector1">'+'<div class="'+n+'colorpicker-selector2"></div>'+"</div>"+"</div>"+"</div>"+"</div>"+r+"</div>"}})});i("tinymce/ui/Path",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({init:function(e){var t=this;if(!e.delimiter){e.delimiter="»"}t._super(e);t.addClass("path");t.canFocus=true;t.on("click",function(e){var n,r=e.target;if(n=r.getAttribute("data-index")){t.fire("select",{value:t.data()[n],index:n})}})},focus:function(){var e=this;e.getEl().firstChild.focus();return e},data:function(e){var t=this;if(typeof e!=="undefined"){t._data=e;t.update();return t}return t._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){var e=this;e._super();e.data(e.settings.data)},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes()+'">'+e._getPathHtml()+"</div>"},_getPathHtml:function(){var e=this,t=e._data||[],n,r,i="",s=e.classPrefix;for(n=0,r=t.length;n<r;n++){i+=(n>0?'<div class="'+s+'divider" aria-hidden="true"> '+e.settings.delimiter+" </div>":"")+'<div role="button" class="'+s+"path-item"+(n==r-1?" "+s+"last":"")+'" data-index="'+n+'" tabindex="-1" id="'+e._id+"-"+n+'" aria-level="'+n+'">'+t[n].name+"</div>"}if(!i){i='<div class="'+s+'path-item"> </div>'}return i}})});i("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(e,t){return e.extend({postRender:function(){function r(e){if(e.nodeType===1){if(e.nodeName=="BR"||!!e.getAttribute("data-mce-bogus")){return true}if(e.getAttribute("data-mce-type")==="bookmark"){return true}}return false}var e=this,n=t.activeEditor;e.on("select",function(e){n.focus();n.selection.select(this.data()[e.index].element);n.nodeChanged()});n.on("nodeChange",function(t){var i=[],s=t.parents,o=s.length;while(o--){if(s[o].nodeType==1&&!r(s[o])){var u=n.fire("ResolveName",{name:s[o].nodeName.toLowerCase(),target:s[o]});if(!u.isDefaultPrevented()){i.push({name:u.name,element:s[o]})}if(u.isPropagationStopped()){break}}}e.data(i)});return e._super()}})});i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){"use strict";return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;e.addClass("formitem");t.preRender(e);return'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</div>"}})});i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(e,t,n){"use strict";return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,r=e.items();if(!e.settings.formItemDefaults){e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}}r.each(function(r){var i,s=r.settings.label;if(s){i=new t(n.extend({items:{type:"label",id:r._id+"-l",text:s,flex:0,forId:r._id,disabled:r.disabled()}},e.settings.formItemDefaults));i.type="formitem";r.aria("labelledby",r._id+"-l");if(typeof r.settings.flex=="undefined"){r.settings.flex=1}e.replace(r,i);i.add(r)}})},recalcLabels:function(){var e=this,t=0,n=[],r,i,s;if(e.settings.labelGapCalc===false){return}if(e.settings.labelGapCalc=="children"){s=e.find("formitem")}else{s=e.items()}s.filter("formitem").each(function(e){var r=e.items()[0],i=r.getEl().clientWidth;t=i>t?i:t;n.push(r)});i=e.settings.labelGap||0;r=n.length;while(r--){n[r].settings.minWidth=t+i}},visible:function(e){var t=this._super(e);if(e===true&&this._rendered){this.recalcLabels()}return t},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super();e.recalcLabels();e.fromJSON(e.settings.data)}})});i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){"use strict";return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;e.preRender();t.preRender(e);return'<fieldset id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div>"+"</fieldset>"}})});i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(e,t){"use strict";return e.extend({init:function(e){var n=this,r=tinymce.activeEditor,i=r.settings;var s,o,u;e.spellcheck=false;u=i.file_picker_types||i.file_browser_callback_types;if(u){u=t.makeMap(u,/[, ]/)}if(!u||u[e.filetype]){o=i.file_picker_callback;if(o&&(!u||u[e.filetype])){s=function(){var i=n.fire("beforecall").meta;i=t.extend({filetype:e.filetype},i);o.call(r,function(e,t){n.value(e).fire("change",{meta:t})},n.value(),i)}}else{o=i.file_browser_callback;if(o&&(!u||u[e.filetype])){s=function(){o(n.getEl("inp").id,n.value(),e.filetype,window)}}}}if(s){e.icon="browse";e.onaction=s}n._super(e)}})});i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom});if(e.recalc){e.recalc()}})}})});i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t,n,r,i,s,o,u,a,f,l,c,h;var p,d,v,m,g=[],y,b,w,E,S,x;var T,N,C,k,L,A,O,M;var _,D,P,H,B,j;var F,I;var q=Math.max,R=Math.min;r=e.items().filter(":visible");i=e.layoutRect();s=e._paddingBox;o=e.settings;h=e.isRtl()?o.direction||"row-reversed":o.direction;u=o.align;a=e.isRtl()?o.pack||"end":o.pack;f=o.spacing||0;if(h=="row-reversed"||h=="column-reverse"){r=r.set(r.toArray().reverse());h=h.split("-")[0]}if(h=="column"){C="y";T="h";N="minH";k="maxH";A="innerH";L="top";O="deltaH";M="contentH";B="left";P="w";_="x";D="innerW";H="minW";j="right";F="deltaW";I="contentW"}else{C="x";T="w";N="minW";k="maxW";A="innerW";L="left";O="deltaW";M="contentW";B="top";P="h";_="y";D="innerH";H="minH";j="bottom";F="deltaH";I="contentH"}c=i[A]-s[L]-s[L];x=l=0;for(t=0,n=r.length;t<n;t++){p=r[t];d=p.layoutRect();v=p.settings;m=v.flex;c-=t<n-1?f:0;if(m>0){l+=m;if(d[k]){g.push(p)}d.flex=m}c-=d[N];y=s[B]+d[H]+s[j];if(y>x){x=y}}E={};if(c<0){E[N]=i[N]-c+i[O]}else{E[N]=i[A]-c+i[O]}E[H]=x+i[F];E[M]=i[A]-c;E[I]=x;E.minW=R(E.minW,i.maxW);E.minH=R(E.minH,i.maxH);E.minW=q(E.minW,i.startMinWidth);E.minH=q(E.minH,i.startMinHeight);if(i.autoResize&&(E.minW!=i.minW||E.minH!=i.minH)){E.w=E.minW;E.h=E.minH;e.layoutRect(E);this.recalc(e);if(e._lastRect===null){var U=e.parent();if(U){U._lastRect=null;U.recalc()}}return}w=c/l;for(t=0,n=g.length;t<n;t++){p=g[t];d=p.layoutRect();b=d[k];y=d[N]+d.flex*w;if(y>b){c-=d[k]-d[N];l-=d.flex;d.flex=0;d.maxFlexSize=b}else{d.maxFlexSize=0}}w=c/l;S=s[L];E={};if(l===0){if(a=="end"){S=c+s[L]}else if(a=="center"){S=Math.round(i[A]/2-(i[A]-c)/2)+s[L];if(S<0){S=s[L]}}else if(a=="justify"){S=s[L];f=Math.floor(c/(r.length-1))}}E[_]=s[B];for(t=0,n=r.length;t<n;t++){p=r[t];d=p.layoutRect();y=d.maxFlexSize||d[N];if(u==="center"){E[_]=Math.round(i[D]/2-d[P]/2)}else if(u==="stretch"){E[P]=q(d[H]||0,i[D]-s[B]-s[j]);E[_]=s[B]}else if(u==="end"){E[_]=i[D]-d[P]-s.top}if(d.flex>0){y+=d.flex*w}E[T]=y;E[C]=S;p.layoutRect(E);if(p.recalc){p.recalc()}S+=y+f}}})});i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){if(e.recalc){e.recalc()}})}})});i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(e,t,n,r,i,s){function u(e){function r(t,n){return function(){var r=this;e.on("nodeChange",function(i){var s=e.formatter;var u=null;o(i.parents,function(e){o(t,function(t){if(n){if(s.matchNode(e,n,{value:t.value})){u=t.value}}else{if(s.matchNode(e,t.value)){u=t.value}}if(u){return false}});if(u){return false}});r.value(u)})}}function i(e){e=e.replace(/;$/,"").split(";");var t=e.length;while(t--){e[t]=e[t].split("=")}return e}function s(){function i(e){var r=[];if(!e){return}o(e,function(e){var s={text:e.title,icon:e.icon};if(e.items){s.menu=i(e.items)}else{var o=e.format||"custom"+t++;if(!e.format){e.name=o;n.push(e)}s.format=o;s.cmd=e.cmd}r.push(s)});return r}function s(){var t;if(e.settings.style_formats_merge){if(e.settings.style_formats){t=i(r.concat(e.settings.style_formats))}else{t=i(r)}}else{t=i(e.settings.style_formats||r)}return t}var t=0,n=[];var r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];e.on("init",function(){o(n,function(t){e.formatter.register(t.name,t)})});return{type:"menu",items:s(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:true,textStyle:function(){if(this.settings.format){return e.formatter.getCssText(this.settings.format)}},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,r;n=t.settings.format;if(n){t.disabled(!e.formatter.canApply(n));t.active(e.formatter.match(n))}r=t.settings.cmd;if(r){t.active(e.queryCommandState(r))}})},onclick:function(){if(this.settings.format){f(this.settings.format)}if(this.settings.cmd){e.execCommand(this.settings.cmd)}}}}}function u(t){return function(){function r(){return e.undoManager?e.undoManager[t]():false}var n=this;t=t=="redo"?"hasRedo":"hasUndo";n.disabled(!r());e.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){n.disabled(!r())})}}function a(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)});t.active(e.hasVisual)}function f(t){if(t.control){t=t.control.value()}if(t){e.execCommand("mceToggleFormat",false,t)}}var t;t=s();o({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{tooltip:t,onPostRender:function(){var t=this;if(e.formatter){e.formatter.formatChanged(n,function(e){t.active(e)})}else{e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}},onclick:function(){f(n)}})});o({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})});o({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1],onPostRender:function(){var t=this;if(e.formatter){e.formatter.formatChanged(n,function(e){t.active(e)})}else{e.on("init",function(){e.formatter.formatChanged(n,function(e){t.active(e)})})}}})});e.addButton("undo",{tooltip:"Undo",onPostRender:u("undo"),cmd:"undo"});e.addButton("redo",{tooltip:"Redo",onPostRender:u("redo"),cmd:"redo"});e.addMenuItem("newdocument",{text:"New document",shortcut:"Ctrl+N",icon:"newdocument",cmd:"mceNewDocument"});e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Ctrl+Z",onPostRender:u("undo"),cmd:"undo"});e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Ctrl+Y",onPostRender:u("redo"),cmd:"redo"});e.addMenuItem("visualaid",{text:"Visual aids",selectable:true,onPostRender:a,cmd:"mceToggleVisualAid"});o({cut:["Cut","Cut","Ctrl+X"],copy:["Copy","Copy","Ctrl+C"],paste:["Paste","Paste","Ctrl+V"],selectall:["Select all","SelectAll","Ctrl+A"],bold:["Bold","Bold","Ctrl+B"],italic:["Italic","Italic","Ctrl+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})});e.on("mousedown",function(){n.hideAll()});e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t});e.addButton("formatselect",function(){var t=[],n=i(e.settings.block_formats||"Paragraph=p;"+"Address=address;"+"Pre=pre;"+"Heading 1=h1;"+"Heading 2=h2;"+"Heading 3=h3;"+"Heading 4=h4;"+"Heading 5=h5;"+"Heading 6=h6");o(n,function(n){t.push({text:n[0],value:n[1],textStyle:function(){return e.formatter.getCssText(n[1])}})});return{type:"listbox",text:n[0][0],values:t,fixedWidth:true,onselect:f,onPostRender:r(t)}});e.addButton("fontselect",function(){var t="Andale Mono=andale mono,times;"+"Arial=arial,helvetica,sans-serif;"+"Arial Black=arial black,avant garde;"+"Book Antiqua=book antiqua,palatino;"+"Comic Sans MS=comic sans ms,sans-serif;"+"Courier New=courier new,courier;"+"Georgia=georgia,palatino;"+"Helvetica=helvetica;"+"Impact=impact,chicago;"+"Symbol=symbol;"+"Tahoma=tahoma,arial,helvetica,sans-serif;"+"Terminal=terminal,monaco;"+"Times New Roman=times new roman,times;"+"Trebuchet MS=trebuchet ms,geneva;"+"Verdana=verdana,geneva;"+"Webdings=webdings;"+"Wingdings=wingdings,zapf dingbats";var n=[],s=i(e.settings.font_formats||t);o(s,function(e){n.push({text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf("dings")==-1?"font-family:"+e[1]:""})});return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:n,fixedWidth:true,onPostRender:r(n,"fontname"),onselect:function(t){if(t.control.settings.value){e.execCommand("FontName",false,t.control.settings.value)}}}});e.addButton("fontsizeselect",function(){var t=[],n="8pt 10pt 12pt 14pt 18pt 24pt 36pt";var i=e.settings.fontsize_formats||n;o(i.split(" "),function(e){var n=e,r=e;var i=e.split("=");if(i.length>1){n=i[0];r=i[1]}t.push({text:n,value:r})});return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:true,onPostRender:r(t,"fontsize"),onclick:function(t){if(t.control.settings.value){e.execCommand("FontSize",false,t.control.settings.value)}}}});e.addMenuItem("formats",{text:"Formats",menu:t})}var o=r.each;i.on("AddEditor",function(t){if(t.editor.rtl){e.rtl=true}u(t.editor)});e.translate=function(e){return i.translate(e)};t.tooltips=!s.iOS});i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){"use strict";return e.extend({recalc:function(e){var t=e.settings,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=[],N=[],C,k,L,A,O,M;t=e.settings;i=e.items().filter(":visible");s=e.layoutRect();r=t.columns||Math.ceil(Math.sqrt(i.length));n=Math.ceil(i.length/r);y=t.spacingH||t.spacing||0;b=t.spacingV||t.spacing||0;w=t.alignH||t.align;E=t.alignV||t.align;m=e._paddingBox;O="reverseRows"in t?t.reverseRows:e.isRtl();if(w&&typeof w=="string"){w=[w]}if(E&&typeof E=="string"){E=[E]}for(c=0;c<r;c++){T.push(0)}for(h=0;h<n;h++){N.push(0)}for(h=0;h<n;h++){for(c=0;c<r;c++){l=i[h*r+c];if(!l){break}f=l.layoutRect();C=f.minW;k=f.minH;T[c]=C>T[c]?C:T[c];N[h]=k>N[h]?k:N[h]}}L=s.innerW-m.left-m.right;for(S=0,c=0;c<r;c++){S+=T[c]+(c>0?y:0);L-=(c>0?y:0)+T[c]}A=s.innerH-m.top-m.bottom;for(x=0,h=0;h<n;h++){x+=N[h]+(h>0?b:0);A-=(h>0?b:0)+N[h]}S+=m.left+m.right;x+=m.top+m.bottom;a={};a.minW=S+(s.w-s.innerW);a.minH=x+(s.h-s.innerH);a.contentW=a.minW-s.deltaW;a.contentH=a.minH-s.deltaH;a.minW=Math.min(a.minW,s.maxW);a.minH=Math.min(a.minH,s.maxH);a.minW=Math.max(a.minW,s.startMinWidth);a.minH=Math.max(a.minH,s.startMinHeight);if(s.autoResize&&(a.minW!=s.minW||a.minH!=s.minH)){a.w=a.minW;a.h=a.minH;e.layoutRect(a);this.recalc(e);if(e._lastRect===null){var _=e.parent();if(_){_._lastRect=null;_.recalc()}}return}if(s.autoResize){a=e.layoutRect(a);a.contentW=a.minW-s.deltaW;a.contentH=a.minH-s.deltaH}var D;if(t.packV=="start"){D=0}else{D=A>0?Math.floor(A/n):0}var P=0;var H=t.flexWidths;if(H){for(c=0;c<H.length;c++){P+=H[c]}}else{P=r}var B=L/P;for(c=0;c<r;c++){T[c]+=H?H[c]*B:B}d=m.top;for(h=0;h<n;h++){p=m.left;u=N[h]+D;for(c=0;c<r;c++){if(O){M=h*r+r-1-c}else{M=h*r+c}l=i[M];if(!l){break}v=l.settings;f=l.layoutRect();o=Math.max(T[c],f.startMinWidth);f.x=p;f.y=d;g=v.alignH||(w?w[c]||w[0]:null);if(g=="center"){f.x=p+o/2-f.w/2}else if(g=="right"){f.x=p+o-f.w}else if(g=="stretch"){f.w=o}g=v.alignV||(E?E[c]||E[0]:null);if(g=="center"){f.y=d+u/2-f.h/2}else if(g=="bottom"){f.y=d+u-f.h}else if(g=="stretch"){f.h=u}l.layoutRect(f);p+=o+y;if(l.recalc){l.recalc()}}d+=u+b}}})});i("tinymce/ui/Iframe",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({renderHtml:function(){var e=this;e.addClass("iframe");e.canFocus=false;return'<iframe id="'+e._id+'" class="'+e.classes()+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;if(!r){setTimeout(function(){n.html(e)},0)}else{r.innerHTML=e;if(t){t()}}return this}})});i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){"use strict";return e.extend({init:function(e){var t=this;t._super(e);t.addClass("widget");t.addClass("label");t.canFocus=false;if(e.multiline){t.addClass("autoscroll")}if(e.strong){t.addClass("strong")}},initLayoutRect:function(){var e=this,n=e._super();if(e.settings.multiline){var r=t.getSize(e.getEl());if(r.width>n.maxW){n.minW=n.maxW;e.addClass("multiline")}e.getEl().style.width=n.minW+"px";n.startMinH=n.h=n.minH=Math.min(n.maxH,t.getSize(e.getEl()).height)}return n},repaint:function(){var e=this;if(!e.settings.multiline){e.getEl().style.lineHeight=e.layoutRect().h+"px"}return e._super()},text:function(e){var t=this;if(t._rendered&&e){this.innerHtml(t.encode(e))}return t._super(e)},renderHtml:function(){var e=this,t=e.settings.forId;return'<label id="'+e._id+'" class="'+e.classes()+'"'+(t?' for="'+t+'"':"")+">"+e.encode(e._text)+"</label>"}})});i("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(e){"use strict";return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e);t.addClass("toolbar")},postRender:function(){var e=this;e.items().addClass("toolbar-item");return e._super()}})});i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){"use strict";return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:true,defaults:{type:"menubutton"}}})});i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,t,n){"use strict";function r(e,t){while(e){if(t===e){return true}e=e.parentNode}return false}var i=e.extend({init:function(e){var t=this;t._renderOpen=true;t._super(e);t.addClass("menubtn");if(e.fixedWidth){t.addClass("fixed-width")}t.aria("haspopup",true);t.hasPopup=true},showMenu:function(){var e=this,n=e.settings,r;if(e.menu&&e.menu.visible()){return e.hideMenu()}if(!e.menu){r=n.menu||[];if(r.length){r={type:"menu",items:r}}else{r.type=r.type||"menu"}e.menu=t.create(r).parent(e).renderTo();e.fire("createmenu");e.menu.reflow();e.menu.on("cancel",function(t){if(t.control.parent()===e.menu){t.stopPropagation();e.focus();e.hideMenu()}});e.menu.on("select",function(){e.focus()});e.menu.on("show hide",function(t){if(t.control==e.menu){e.activeMenu(t.type=="show")}e.aria("expanded",t.type=="show")}).fire("show")}e.menu.show();e.menu.layoutRect({w:e.layoutRect().w});e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){var e=this;if(e.menu){e.menu.items().each(function(e){if(e.hideMenu){e.hideMenu()}});e.menu.hide()}},activeMenu:function(e){this.toggleClass("active",e)},renderHtml:function(){var e=this,t=e._id,r=e.classPrefix;var i=e.settings.icon,s;s=e.settings.image;if(s){i="none";if(typeof s!="string"){s=window.getSelection?s[0]:s[1]}s=" style=\"background-image: url('"+s+"')\""}else{s=""}i=e.settings.icon?r+"ico "+r+"i-"+i:"";e.aria("role",e.parent()instanceof n?"menuitem":"button");return'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1" aria-labelledby="'+t+'">'+'<button id="'+t+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+s+"></i>":"")+"<span>"+(e._text?(i?" ":"")+e.encode(e._text):"")+"</span>"+' <i class="'+r+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this;e.on("click",function(t){if(t.control===e&&r(t.target,e.getEl())){e.showMenu();if(t.aria){e.menu.items()[0].focus()}}});e.on("mouseenter",function(t){var n=t.control,r=e.parent(),s;if(n&&r&&n instanceof i&&n.parent()==r){r.items().filter("MenuButton").each(function(e){if(e.hideMenu&&e!=n){if(e.menu&&e.menu.visible()){s=true}e.hideMenu()}});if(s){n.focus();n.showMenu()}}});return e._super()},text:function(e){var t=this,n,r;if(t._rendered){r=t.getEl("open").getElementsByTagName("span");for(n=0;n<r.length;n++){r[n].innerHTML=(t.settings.icon&&e?" ":"")+t.encode(e)}}return this._super(e)},remove:function(){this._super();if(this.menu){this.menu.remove()}}});return i});i("tinymce/ui/ListBox",["tinymce/ui/MenuButton"],function(e){"use strict";return e.extend({init:function(e){function o(n){for(var s=0;s<n.length;s++){r=n[s].selected||e.value===n[s].value;if(r){i=i||n[s].text;t._value=n[s].value;break}if(n[s].menu){o(n[s].menu)}}}var t=this,n,r,i,s;t._values=n=e.values;if(n){if(typeof e.value!="undefined"){o(n)}if(!r&&n.length>0){i=n[0].text;t._value=n[0].value}e.menu=n}e.text=e.text||i||n[0].text;t._super(e);t.addClass("listbox");t.on("select",function(n){var r=n.control;if(s){n.lastControl=s}if(e.multiple){r.active(!r.active())}else{t.value(n.control.settings.value)}s=r})},value:function(e){function s(e,t){e.items().each(function(e){n=e.value()===t;if(n){r=r||e.text()}e.active(n);if(e.menu){s(e.menu,t)}})}function o(t){for(var i=0;i<t.length;i++){n=t[i].value==e;if(n){r=r||t[i].text}t[i].active=n;if(t[i].menu){o(t[i].menu)}}}var t=this,n,r,i;if(typeof e!="undefined"){if(t.menu){s(t.menu,e)}else{i=t.settings.menu;o(i)}t.text(r||this.settings.text)}return t._super(e)}})});i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env"],function(e,t,n){"use strict";return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this;t.hasPopup=true;t._super(e);e=t.settings;t.addClass("menu-item");if(e.menu){t.addClass("menu-item-expand")}if(e.preview){t.addClass("menu-item-preview")}if(t._text==="-"||t._text==="|"){t.addClass("menu-item-sep");t.aria("role","separator");t._text="-"}if(e.selectable){t.aria("role","menuitemcheckbox");t.addClass("menu-item-checkbox");e.icon="selected"}if(!e.preview&&!e.selectable){t.addClass("menu-item-normal")}t.on("mousedown",function(e){e.preventDefault()});if(e.menu&&!e.ariaHideMenu){t.aria("haspopup",true)}},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e=this,n=e.settings,r,i=e.parent();i.items().each(function(t){if(t!==e){t.hideMenu()}});if(n.menu){r=e.menu;if(!r){r=n.menu;if(r.length){r={type:"menu",items:r}}else{r.type=r.type||"menu"}if(i.settings.itemDefaults){r.itemDefaults=i.settings.itemDefaults}r=e.menu=t.create(r).parent(e).renderTo();r.reflow();r.on("cancel",function(t){t.stopPropagation();e.focus();r.hide()});r.on("show hide",function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show");r.on("hide",function(t){if(t.control===r){e.removeClass("selected")}});r.submenu=true}else{r.show()}r._parentMenu=i;r.addClass("menu-sub");var s=r.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);r.moveRel(e.getEl(),s);r.rel=s;s="menu-sub-"+s;r.removeClass(r._lastRel);r.addClass(s);r._lastRel=s;e.addClass("selected");e.aria("expanded",true)}},hideMenu:function(){var e=this;if(e.menu){e.menu.items().each(function(e){if(e.hideMenu){e.hideMenu()}});e.menu.hide();e.aria("expanded",false)}return e},renderHtml:function(){var e=this,t=e._id,r=e.settings,i=e.classPrefix,s=e.encode(e._text);var o=e.settings.icon,u="",a=r.shortcut;if(o){e.parent().addClass("menu-has-icons")}if(r.image){o="none";u=" style=\"background-image: url('"+r.image+"')\""}if(a&&n.mac){a=a.replace(/ctrl\+alt\+/i,"&#x2325;&#x2318;");a=a.replace(/ctrl\+/i,"&#x2318;");a=a.replace(/alt\+/i,"&#x2325;");a=a.replace(/shift\+/i,"&#x21E7;")}o=i+"ico "+i+"i-"+(e.settings.icon||"none");return'<div id="'+t+'" class="'+e.classes()+'" tabindex="-1">'+(s!=="-"?'<i class="'+o+'"'+u+"></i> ":"")+(s!=="-"?'<span id="'+t+'-text" class="'+i+'text">'+s+"</span>":"")+(a?'<div id="'+t+'-shortcut" class="'+i+'menu-shortcut">'+a+"</div>":"")+(r.menu?'<div class="'+i+'caret"></div>':"")+"</div>"},postRender:function(){var e=this,t=e.settings;var n=t.textStyle;if(typeof n=="function"){n=n.call(this)}if(n){var r=e.getEl("text");if(r){r.setAttribute("style",n)}}e.on("mouseenter click",function(n){if(n.control===e){if(!t.menu&&n.type==="click"){e.fire("select");e.parent().hideAll()}else{e.showMenu();if(n.aria){e.menu.focus(true)}}}});e._super();return e},active:function(e){if(typeof e!="undefined"){this.aria("checked",e)}return this._super(e)},remove:function(){this._super();if(this.menu){this.menu.remove()}}})});i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/util/Tools"],function(e,t,n){"use strict";var r=e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:true},init:function(e){var t=this;e.autohide=true;e.constrainToViewport=true;if(e.itemDefaults){var r=e.items,i=r.length;while(i--){r[i]=n.extend({},e.itemDefaults,r[i])}}t._super(e);t.addClass("menu")},repaint:function(){this.toggleClass("menu-align",true);this._super();this.getEl().style.height="";this.getEl("body").style.height="";return this},cancel:function(){var e=this;e.hideAll();e.fire("select")},hideAll:function(){var e=this;this.find("menuitem").exec("hideMenu");return e._super()},preRender:function(){var e=this;e.items().each(function(t){var n=t.settings;if(n.icon||n.selectable){e._hasIcons=true;return false}});return e._super()}});return r});i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){"use strict";return e.extend({Defaults:{classes:"radio",role:"radio"}})});i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,t){"use strict";return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;e.addClass("resizehandle");if(e.settings.direction=="both"){e.addClass("resizehandle-both")}e.canFocus=false;return'<div id="'+e._id+'" class="'+e.classes()+'">'+'<i class="'+t+"ico "+t+'i-resize"></i>'+"</div>"},postRender:function(){var e=this;e._super();e.resizeDragHelper=new t(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){if(e.settings.direction!="both"){t.deltaX=0}e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){if(this.resizeDragHelper){this.resizeDragHelper.destroy()}return this._super()}})});i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){"use strict";return e.extend({renderHtml:function(){var e=this;e.addClass("spacer");e.canFocus=false;return'<div id="'+e._id+'" class="'+e.classes()+'"></div>'}})});i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils"],function(e,t){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e=this,n=e.getEl(),r=e.layoutRect(),i,s;e._super();i=n.firstChild;s=n.lastChild;t.css(i,{width:r.w-t.getSize(s).width,height:r.h-2});t.css(s,{height:r.h-2});return e},activeMenu:function(e){var n=this;t.toggleClass(n.getEl().lastChild,n.classPrefix+"active",e)},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r;var i=e.settings.icon;r=e.settings.image;if(r){i="none";if(typeof r!="string"){r=window.getSelection?r[0]:r[1]}r=" style=\"background-image: url('"+r+"')\""}else{r=""}i=e.settings.icon?n+"ico "+n+"i-"+i:"";return'<div id="'+t+'" class="'+e.classes()+'" role="button" tabindex="-1">'+'<button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+(e._text?(i?" ":"")+e._text:"")+"</button>"+'<button type="button" class="'+n+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(i?" ":"")+e._menuBtnText:"")+' <i class="'+n+'caret"></i>'+"</button>"+"</div>"},postRender:function(){var e=this,t=e.settings.onclick;e.on("click",function(e){var n=e.target;if(e.control==this){while(n){if(e.aria&&e.aria.key!="down"||n.nodeName=="BUTTON"&&n.className.indexOf("open")==-1){e.stopImmediatePropagation();t.call(this,e);return}n=n.parentNode}}});delete e.settings.onclick;return e._super()}})});i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){"use strict";return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})});i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/ui/DomUtils"],function(e,t){"use strict";return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var n;if(this.activeTabId){n=this.getEl(this.activeTabId);t.removeClass(n,this.classPrefix+"active");n.setAttribute("aria-selected","false")}this.activeTabId="t"+e;n=this.getEl("t"+e);n.setAttribute("aria-selected","true");t.addClass(n,this.classPrefix+"active");this.items()[e].show().fire("showtab");this.reflow();this.items().each(function(t,n){if(e!=n){t.hide()}})},renderHtml:function(){var e=this,t=e._layout,n="",r=e.classPrefix;e.preRender();t.preRender(e);e.items().each(function(t,i){var s=e._id+"-t"+i;t.aria("role","tabpanel");t.aria("labelledby",s);n+='<div id="'+s+'" class="'+r+'tab" '+'unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"});return'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+'<div id="'+e._id+'-head" class="'+r+'tabs" role="tablist">'+n+"</div>"+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>"+"</div>"},postRender:function(){var e=this;e._super();e.settings.activeTab=e.settings.activeTab||0;e.activateTab(e.settings.activeTab);this.on("click",function(t){var n=t.target.parentNode;if(t.target.parentNode.id==e._id+"-head"){var r=n.childNodes.length;while(r--){if(n.childNodes[r]==t.target){e.activateTab(r)}}}})},initLayoutRect:function(){var e=this,n,r,i;r=t.getSize(e.getEl("head")).width;r=r<0?0:r;i=0;e.items().each(function(e){r=Math.max(r,e.layoutRect().minW);i=Math.max(i,e.layoutRect().minH)});e.items().each(function(e){e.settings.x=0;e.settings.y=0;e.settings.w=r;e.settings.h=i;e.layoutRect({x:0,y:0,w:r,h:i})});var s=t.getSize(e.getEl("head")).height;e.settings.minWidth=r;e.settings.minHeight=i+s;n=e._super();n.deltaH+=s;n.innerH=n.h-n.deltaH;return n}})});i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,t){"use strict";return e.extend({init:function(e){var t=this;t._super(e);t._value=e.value||"";t.addClass("textbox");if(e.multiline){t.addClass("multiline")}else{t.on("keydown",function(e){if(e.keyCode==13){t.parents().reverse().each(function(t){e.preventDefault();if(t.hasEventListeners("submit")&&t.toJSON){t.fire("submit",{data:t.toJSON()});return false}})}})}},disabled:function(e){var t=this;if(t._rendered&&typeof e!="undefined"){t.getEl().disabled=e}return t._super(e)},value:function(e){var t=this;if(typeof e!="undefined"){t._value=e;if(t._rendered){t.getEl().value=e}return t}if(t._rendered){return t.getEl().value}return t._value},repaint:function(){var e=this,t,n,r,i=0,s=0,o;t=e.getEl().style;n=e._layoutRect;o=e._lastRepaintRect||{};var u=document;if(!e.settings.multiline&&u.all&&(!u.documentMode||u.documentMode<=8)){t.lineHeight=n.h-s+"px"}r=e._borderBox;i=r.left+r.right+8;s=r.top+r.bottom+(e.settings.multiline?8:0);if(n.x!==o.x){t.left=n.x+"px";o.x=n.x}if(n.y!==o.y){t.top=n.y+"px";o.y=n.y}if(n.w!==o.w){t.width=n.w-i+"px";o.w=n.w}if(n.h!==o.h){t.height=n.h-s+"px";o.h=n.h}e._lastRepaintRect=o;e.fire("repaint",{},false);return e},renderHtml:function(){var e=this,t=e._id,n=e.settings,r=e.encode(e._value,false),i="";if("spellcheck"in n){i+=' spellcheck="'+n.spellcheck+'"'}if(n.maxLength){i+=' maxlength="'+n.maxLength+'"'}if(n.size){i+=' size="'+n.size+'"'}if(n.subtype){i+=' type="'+n.subtype+'"'}if(e.disabled()){i+=' disabled="disabled"'}if(n.multiline){return'<textarea id="'+t+'" class="'+e.classes()+'" '+(n.rows?' rows="'+n.rows+'"':"")+' hidefocus="1"'+i+">"+r+"</textarea>"}return'<input id="'+t+'" class="'+e.classes()+'" value="'+r+'" hidefocus="1"'+i+" />"},postRender:function(){var e=this;t.on(e.getEl(),"change",function(t){e.fire("change",t)});return e._super()},remove:function(){t.off(this.getEl());this._super()}})});i("tinymce/ui/Throbber",["tinymce/ui/DomUtils","tinymce/ui/Control"],function(e,t){"use strict";return function(n,r){var i=this,s,o=t.classPrefix;i.show=function(t){i.hide();s=true;window.setTimeout(function(){if(s){n.appendChild(e.createFragment('<div class="'+o+"throbber"+(r?" "+o+"throbber-inline":"")+'"></div>'))}},t||0);return i};i.hide=function(){var e=n.lastChild;if(e&&e.className.indexOf("throbber")!=-1){e.parentNode.removeChild(e)}s=false;return i}}});u(["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/dom/TridentSelection","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/dom/ElementUtils","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/util/Quirks","tinymce/util/Observable","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/LegacyInput","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/ListBox","tinymce/ui/MenuItem","tinymce/ui/Menu","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox","tinymce/ui/Throbber"])})(this)